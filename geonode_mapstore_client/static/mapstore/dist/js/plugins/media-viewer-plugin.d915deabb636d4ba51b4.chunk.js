(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[92184],{134990:(e,t,n)=>{"use strict";n.d(t,{D7:()=>c,mN:()=>l,vb:()=>s,KT:()=>f,QK:()=>E,cc:()=>p,Gx:()=>O,XH:()=>d,lX:()=>m,tP:()=>y,Dq:()=>v,LE:()=>S,SW:()=>R,si:()=>g,i2:()=>T,IY:()=>b,Zf:()=>h,ij:()=>_,Hb:()=>G,Mk:()=>P,c:()=>N,NZ:()=>D,Cx:()=>w,wb:()=>C,km:()=>I,un:()=>A,Ro:()=>U,jr:()=>j,ZY:()=>Y,EQ:()=>L,W$:()=>M,mk:()=>k,IH:()=>x,rp:()=>Z,D_:()=>V,zJ:()=>W,wJ:()=>B,OS:()=>F,YP:()=>H,Ct:()=>z,Od:()=>Q,y6:()=>q,g5:()=>$,_e:()=>X,DF:()=>J,GD:()=>K,K0:()=>ee,kB:()=>te,Xn:()=>ne,G5:()=>re,Vx:()=>oe,RZ:()=>ie,pB:()=>ue,$A:()=>ae,m7:()=>ce,YM:()=>le,o2:()=>se,ql:()=>fe,c0:()=>Ee,Fu:()=>pe,WE:()=>Oe,fD:()=>de,EE:()=>me});var r=n(747037),o=n.n(r),i=n(455877),u=n.n(i),a=n(192579),c="GEOSTORY:ADD",l="GEOSTORY:ADD_RESOURCE",s="GEOSTORY:CHANGE_MODE",f="GEOSTORY:CLEAR_SAVE_ERROR",E="GEOSTORY:EDIT_RESOURCE",p="GEOSTORY:EDIT_WEBPAGE",O="GEOSTORY:SCROLLING",d="GEOSTORY:LOAD_GEOSTORY",m="GEOSTORY:LOADING_GEOSTORY",y="GEOSTORY:MOVE",v="GEOSTORY:REMOVE",S="GEOSTORY:SAVE_STORY",R="GEOSTORY:SAVE_ERROR",g="GEOSTORY:STORY_SAVED",T="GEOSTORY:SELECT_CARD",b="GEOSTORY:SET_CONTROL",h="GEOSTORY:SET_RESOURCE",_="GEOSTORY:SET_CURRENT_STORY",G="GEOSTORY:SET_WEBPAGE_URL",P="GEOSTORY:TOGGLE_CARD_PREVIEW",N="GEOSTORY:TOGGLE_SETTINGS_PANEL",D="GEOSTORY:TOGGLE_SETTING",w="GEOSTORY:TOGGLE_CONTENT_FOCUS",C="GEOSTORY:UPDATE",I="GEOSTORY:UPDATE_SETTING",A="GEOSTORY:UPDATE_CURRENT_PAGE",U="GEOSTORY:REMOVE_RESOURCE",j="GEOSTORY:SET_PENDING_CHANGES",Y="GEOSTORY:SET_UPDATE_URL_SCROLL",L="GEOSTORY:UPDATE_MEDIA_EDITOR_SETTINGS",M="GEOSTORY:HIDE_CAROUSEL_ITEMS",k="GEOSTORY:ENABLE_DRAW",x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return{type:c,id:n&&n.id||u()(),path:e,position:t,element:o()(n)&&(0,a.nq)(n,r)||n}},Z=function(e,t,n){return{type:l,id:e,mediaType:t,data:n}},V=function(e){return{type:s,mode:e?a.nl.EDIT:a.nl.VIEW}},W=function(e,t,n){return{type:E,id:e,mediaType:t,data:n}},B=function(e,t){return{type:d,id:e,options:t}},F=function(e){return{type:"GEOSTORY:GEOSTORY_LOADED",id:e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading";return{type:m,value:e,name:t}},z=function(e){return{type:"GEOSTORY:LOAD_GEOSTORY_ERROR",error:e}},Q=function(e){return{type:v,path:e}},q=function(e){return{type:R,error:e}},$=function(e,t){return{type:b,control:e,value:t}},X=function(e){return{type:T,card:e}},J=function(e){return{type:h,resource:e}},K=function(e){return{type:g,id:e}},ee=function(e){return{type:_,story:e}},te=function(){return{type:P}},ne=function(e){return{type:D,option:e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:N,withSave:e}},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"replace";return{type:C,path:e,element:t,mode:n}},ie=function(e){var t=e.sectionId,n=e.columnId;return{type:A,sectionId:t,columnId:n}},ue=function(e,t,n){return{type:y,source:e,target:t,position:n}},ae=function(e,t,n,r,o){return{type:w,status:e,target:t,selector:n,hideContent:r,path:o}},ce=function(e,t){return{type:I,prop:e,value:t}},le=function(e){return{type:G,src:e}},se=function(e){var t=e.path,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GEOSTORY";return{type:p,path:t,owner:n}},fe=function(e,t){return{type:U,id:e,mediaType:t}},Ee=function(e){return{type:j,value:e}},pe=function(e){return{type:L,mediaEditorSettings:e}},Oe=function(e){return{type:O,status:e}},de=function(e,t){return{type:M,sectionId:e,showContentId:t}},me=function(e){return{type:k,drawOptions:e}}},452826:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(124852),o=n.n(r),i=n(970390),u=n(532425),a=n(580628),c=n(480681),l=n(192579),s=n(805346);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=(0,a.Z)((function(e){var t=e.src,n=e.width,a=e.height,l=e.resolution,f=e.thumbnail,E=e.controls,O=e.play,m=e.onPlay,y=void 0===m?function(){}:m,v=e.onStart,S=void 0===v?function(){}:v,R=e.fit,g=e.loop,T=e.volume,b=void 0===T?1:T,h=e.muted,_=O,G=d((0,r.useState)(_),2),P=G[0],N=G[1],D=d((0,r.useState)(),2),w=D[0],C=D[1],I=d((0,r.useState)(O),2),A=I[0],U=I[1],j="cover"===R,Y=d((0,r.useState)(!1),2),L=Y[0],M=Y[1];(0,r.useEffect)((function(){!P&&_&&(N(!0),U(!0)),P&&S(P)}),[P,_]);var k,x=(k=n/a,j?k<l?[a*l,a]:[n,n/l]:"contain"===R?k<l?[n,n/l]:[a*l,a]:[n,n/l]),Z="contain"===R||j?a:x[1],V=!j&&E,W=!!j||g;return o().createElement("div",{className:"ms-video",style:{position:"relative",width:n,height:Z,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}},t&&o().createElement(o().Fragment,null,P&&o().createElement(i.ZP,{url:t,width:x[0],height:x[1],playing:_,loop:W,volume:b,muted:h,style:j?{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute"}:{},controls:V,pip:!1,fileConfig:{attributes:{controlsList:"nodownload",disablePictureInPicture:!0}},youtubeConfig:{playerVars:{controls:V?2:0,modestbranding:1,rel:0}},onReady:function(){return U(!1)},onError:function(e){C(e),(""+e).includes("NotAllowedError")&&(y(!1),M(!0),U(!1))},onPause:function(){y(!1)},onPlay:function(){y(!0),L&&(C(!1),M(!1))}}),(!P||P&&(A||w))&&o().createElement("div",{className:"ms-video-cover",style:p(p({position:"absolute",width:x[0],height:x[1],display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 1.0)"},!(A||w)&&{cursor:"pointer"}),!_&&f&&{backgroundImage:"url(".concat(f,")"),backgroundSize:j?"cover":"640px auto",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),onClick:function(){L?(M(!1),C(!1)):U(!0),N(!0),y(!0)}},A&&o().createElement(u.Z,{size:70}),w&&!L&&o().createElement("div",{className:"text-center"},o().createElement(c.Glyphicon,{glyph:"alert",style:{fontSize:x[1]/4>100?100:x[1]/4,mixBlendMode:"difference",color:"#ffffff"}}),o().createElement("h3",null,o().createElement(s.Z,{msgId:"geostory.errors.loading.video"}))," "),(!(A||w)&&!_||w&&L)&&o().createElement(c.Glyphicon,{glyph:"play",style:{fontSize:x[1]/4>100?100:x[1]/4,mixBlendMode:"difference",color:"#ffffff"}}))),!V&&!L&&o().createElement("div",{className:"ms-video-mask-cover",style:{position:"absolute",width:x[0],height:x[1]}}))}));const v=function(e){var t=e.id,n=e.src,i=e.resolution,u=void 0===i?16/9:i,a=e.autoplay,c=e.inView,s=e.description,f=e.showCaption,E=e.caption,p=void 0===E?s:E,O=e.thumbnail,m=e.credits,v=e.controls,S=void 0===v||v,R=e.fit,g=e.loop,T=e.muted,b=e.onPlay,h=void 0===b?function(){}:b,_=e.mode,G=e.containerInView,P=(void 0===G||G)&&c,N=d((0,r.useState)(!1),2),D=N[0],w=N[1],C=function(e){w(e),h(e)};return(0,r.useEffect)((function(){_===l.nl.EDIT&&C(!1)}),[_]),(0,r.useEffect)((function(){_===l.nl.VIEW&&P&&(a||"cover"===R)&&C(!0)}),[P,a,R,_]),(0,r.useEffect)((function(){_===l.nl.VIEW&&!P&&D&&C(!1)}),[P,D,_]),o().createElement("div",{id:t,key:"".concat(t,"-").concat(R,"-").concat(_),className:"ms-media ms-media-video"},o().createElement(y,{src:n,play:D&&_===l.nl.VIEW,resolution:u,thumbnail:O,controls:S&&_===l.nl.VIEW,onPlay:C,fit:R,loop:g,muted:T}),m&&o().createElement("div",{className:"ms-media-credits"},o().createElement("small",null,m)),f&&p&&o().createElement("div",{className:"ms-media-caption"},o().createElement("small",null,p)))}},399534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(461365),o=n(356936);const i=(0,r.Z)(o.h_)},324684:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,y:()=>u});var r=n(227361),o=n.n(r),i=function(e){return o()(e,"router.location.pathname")||"/"},u=function(e){return o()(e,"router.location.search")||""}},727693:(e,t,n)=>{"use strict";n.d(t,{rR:()=>r,D0:()=>o,Cz:()=>i});var r={GEOSTORY:"geostory",GEOSTORE:"geostore"},o={type:"osm",title:"Open Street Map",name:"mapnik",source:"osm",group:"background",visibility:!0,id:"mapnik__0",loading:!1,loadingError:!1},i=function(e,t){return e.find((function(e){return e.id===t}))?t:r.GEOSTORY}},643892:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,Zf:()=>o,Eu:()=>i,Vy:()=>u,YB:()=>a,xm:()=>c,_f:()=>l,ek:()=>s,cd:()=>f,pt:()=>E,ww:()=>p,tR:()=>O,Js:()=>d,p2:()=>m,ZH:()=>y,eQ:()=>v,ql:()=>S,$X:()=>R,nS:()=>g,ih:()=>T,J5:()=>b,uA:()=>h,Pv:()=>_,_Z:()=>G,dh:()=>P,IH:()=>N,e3:()=>D,Oq:()=>w,Q$:()=>C,DF:()=>I,id:()=>A,Br:()=>U,bI:()=>j,U5:()=>Y,e5:()=>L,b3:()=>M,mN:()=>k,QN:()=>x,HV:()=>Z,xe:()=>V,vA:()=>W,gw:()=>B,qs:()=>F,CB:()=>H,vg:()=>z,Z0:()=>Q,lf:()=>q,jQ:()=>$,nk:()=>X,X7:()=>J,nO:()=>K,F4:()=>ee,EU:()=>te,Rk:()=>ne,V1:()=>re});var r="GEONODE:RESOURCE_LOADING",o="GEONODE:SET_RESOURCE",i="GEONODE:RESOURCE_ERROR",u="GEONODE:UPDATE_RESOURCE_PROPERTIES",a="GEONODE:SET_RESOURCE_TYPE",c="GEONODE:SET_NEW_RESOURCE",l="GEONODE:SET_RESOURCE_ID",s="GEONODE:SET_RESOURCE_PERMISSIONS",f="GEONODE:EDIT_TITLE_RESOURCE",E="GEONODE:EDIT_ABSTRACT_RESOURCE",p="GEONODE:EDIT_THUMBNAIL_RESOURCE",O="GEONODE:SET_FAVORITE_RESOURCE",d="GEONODE:SET_MAP_THUMBNAIL",m="GEONODE:SET_SELECTED_DATASET_PERMISSIONS",y="GEONODE:REQUEST_RESOURCE_CONFIG",v="GEONODE:REQUEST_NEW_RESOURCE_CONFIG",S="GEONODE:LOADING_RESOURCE_CONFIG",R="GEONODE:RESET_RESOURCE_STATE",g="GEONODE:RESOURCE_CONFIG_ERROR",T="GEONODE:SET_RESOURCE_COMPACT_PERMISSIONS",b="GEONODE:UPDATE_RESOURCE_COMPACT_PERMISSIONS",h="GEONODE:RESET_GEO_LIMITS",_="GEONODE:PROCESS_RESOURCES",G="GEONODE_SET_RESOURCE_THUMBNAIL",P="GEONODE_ENABLE_MAP_THUMBNAIL_VIEWER",N="GEONODE_DOWNLOAD_RESOURCE",D="GEONODE_DOWNLOAD_COMPLETE",w="GEONODE_UPDATE_SINGLE_RESOURCE";function C(){return{type:r}}function I(e){return{type:o,data:e}}function A(e){return{type:w,data:e}}function U(e){return{type:f,title:e}}function j(e){return{type:E,abstract:e}}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false";return{type:p,thumbnailUrl:e,thumbnailChanged:t}}function L(){return{type:G}}function M(e){return{type:a,resourceType:e}}function k(e){return{type:i,error:e}}function x(e){return{type:u,properties:e}}function Z(){return{type:c}}function V(e){return{type:l,id:e}}function W(e){return{type:m,permissions:e}}function B(e){return{type:O,favorite:e}}function F(e){return{type:P,enabled:e}}function H(e){return{type:d,bbox:e}}function z(e,t,n){return{type:y,resourceType:e,pk:t,options:n}}function Q(e){return{type:v,resourceType:e}}function q(e){return{type:S,loading:e}}function $(e){return{type:g,message:e}}function X(){return{type:R}}function J(e){return{type:T,compactPermissions:e}}function K(e){return{type:b,compactPermissions:e}}function ee(){return{type:h}}function te(e,t,n){return{type:_,processType:e,resources:t,redirectTo:n}}function ne(e){return{type:N,resource:e}}function re(e){return{type:D,resource:e}}},991288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(124852),o=n.n(r),i=n(507412),u=n(805346);function a(e){var t=e.msgId,n=e.icon;return o().createElement("div",{className:"gn-main-event-container"},o().createElement("div",{className:"gn-main-event-content"},o().createElement("div",{className:"gn-main-event-text"},o().createElement("div",{className:"gn-main-icon"},o().createElement(i.Z,{name:n})),t&&o().createElement(u.Z,{msgId:t}))))}a.defaultProps={msgId:"",icon:"exclamation"};const c=a},219741:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>G});var r=n(124852),o=n.n(r),i=n(322843),u=n(882017),a=n(532425),c=n(595440);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=n(991288),E=n(535721);function p(e){var t=e.url;return o().createElement("div",{className:"gn-main-event-container"},o().createElement("iframe",{frameBorder:"0",key:t,src:t,style:{width:"100%",height:"100%"}}))}p.defaultProps={url:""};const O=p;var d=["resource"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var y=(0,r.lazy)((function(){return Promise.all([n.e(80813),n.e(4333)]).then(n.bind(n,504333))})),v={image:u.ZP,video:u.ZP,pdf:function(e){var t=e.src,n=l((0,r.useState)(null),2),i=n[0],u=n[1],s=l((0,r.useState)(!1),2),f=s[0],E=s[1];return(0,r.useEffect)((function(){E(!0),(0,c.hn)(t).then((function(e){E(!1),u(e)})).finally((function(){E(!1)}))}),[]),f?o().createElement("div",{className:"pdf-loader"},o().createElement(a.Z,{size:70})):o().createElement("iframe",{className:"gn-pdf-viewer",type:"application/pdf",frameBorder:"0",scrolling:"auto",height:"100%",width:"100%",src:i})},gltf:y,pcd:y,unsupported:function(e){var t=e.url,n=void 0===t?"":t;return o().createElement(O,{url:n})}},S={video:{mode:"view",inView:!0,fit:"contain"},image:{fit:"contain",enableFullscreen:!0,loaderComponent:function(){return o().createElement("div",{className:"pdf-loader"},o().createElement(a.Z,{size:70}))}},pdf:{},unsupported:{}};const R=function(e){var t=e.resource,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,d),i=(0,E.NN)(),u=t&&(i[t.subtype]||i[t.resource_type])||{},a=u.hasPermission,l=u.metadataPreviewUrl,s=void 0===l?function(){}:l,p=(null==t?void 0:t.pk)&&a&&a(t);if(t&&p){var O=(0,c.if)(t.extension),y=v[O];return o().createElement(r.Suspense,{fallback:null},o().createElement(y,m({mediaType:O},S[O],n[O],{description:t.abstract,id:t.pk,thumbnail:function(){return(0,E.Ql)(null==t?void 0:t.thumbnail_url)},src:t.href,url:t?s(t):""})))}return o().createElement(f.Z,{msgId:"gnhome.permissionsMissing"})};var g=n(171703),T=n(22222),b=n(572036),h=(0,g.connect)((0,T.P1)([function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.data)||null},function(e){var t;return(null==e||null===(t=e.gnresource)||void 0===t?void 0:t.loading)||!1}],(function(e,t,n){return{resource:e,loading:t,editMode:n}})))(R),_=(0,g.connect)((0,T.P1)([],(function(){return{}})),{})((function(e){return o().createElement("div",{className:"gn-media-viewer"},o().createElement(h,e))}));const G=(0,i.rx)("MediaViewer",{component:_,containers:{},epics:{},reducers:{gnresource:b.Z}})},572036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(618446),o=n.n(r),i=n(643892),u=n(535721),a=["data"],c=["features"],l=["features"],s=["features"];function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={selectedLayerPermissions:[],data:{},permissions:[]};const y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.$X:return m;case i.ql:return O(O({},e),{},{configError:void 0,loadingResourceConfig:t.loading});case i.nS:return O(O({},e),{},{loading:!1,configError:t.message});case i.W:return O(O({},e),{},{loading:!0});case i.Zf:var n=t.data||{},r=(n.data,E(n,a));return O(O({},e),{},{error:null,initialResource:O({},t.data),data:r,loading:!1,isNew:!1});case i.Eu:return O(O({},e),{},{initialResource:null,data:null,error:t.error,loading:!1});case i.Vy:return O(O({},e),{},{data:O(O({},e.data),t.properties)});case i.YB:return O(O({},e),{},{type:t.resourceType});case i.xm:return O(O({},m),{},{isNew:!0});case i._f:return O(O({},e),{},{id:t.id});case i.ek:return O(O({},e),{},{permissions:t.permissions});case i.cd:return O(O({},e),{},{data:O(O({},null==e?void 0:e.data),{},{title:null==t?void 0:t.title,name:null==t?void 0:t.title})});case i.pt:return O(O({},e),{},{data:O(O({},null==e?void 0:e.data),{},{abstract:null==t?void 0:t.abstract})});case i.ww:return O(O({},e),{},{data:O(O({},null==e?void 0:e.data),{},{thumbnail_url:null==t?void 0:t.thumbnailUrl,thumbnailChanged:null==t?void 0:t.thumbnailChanged})});case i._Z:return O(O({},e),{},{data:O(O({},null==e?void 0:e.data),{},{updatingThumbnail:!0})});case i.dh:return O(O({},e),{},{showMapThumbnail:t.enabled});case i.p2:return O(O({},e),{},{selectedLayerPermissions:t.permissions});case i.ih:return O(O({},e),{},{initialCompactPermissions:t.compactPermissions,compactPermissions:t.compactPermissions,isCompactPermissionsChanged:!1,geoLimits:[]});case i.J5:return O(O({},e),{},{compactPermissions:t.compactPermissions,isCompactPermissionsChanged:!o()((0,u.go)(e.initialCompactPermissions),(0,u.go)(t.compactPermissions)),geoLimits:(0,u.vB)(t.compactPermissions)});case i.uA:if(e.compactPermissions){var f=e.compactPermissions,p=f.users,d=f.organizations,y=f.groups;return O(O({},e),{},{compactPermissions:{users:p.map((function(e){return e.features,E(e,c)})),organizations:d.map((function(e){return e.features,E(e,l)})),groups:y.map((function(e){return e.features,E(e,s)}))},geoLimits:[]})}return e;default:return e}}},945177:(e,t,n)=>{"use strict";var r=n(595318);t.__esModule=!0,t.default=void 0;var o,i=r(n(250139)),u="clearTimeout",a=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),r=setTimeout(e,n);return l=t,r},c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=c(e,"request");if(t in window)return u=c(e,"cancel"),a=function(e){return window[t](e)}}));var l=(new Date).getTime();(o=function(e){return a(e)}).cancel=function(e){window[u]&&"function"==typeof window[u]&&window[u](e)};var s=o;t.default=s,e.exports=t.default},23279:(e,t,n)=>{var r=n(513218),o=n(707771),i=n(14841),u=Math.max,a=Math.min;e.exports=function(e,t,n){var c,l,s,f,E,p,O=0,d=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=l;return c=l=void 0,O=t,f=e.apply(r,n)}function S(e){return O=e,E=setTimeout(g,t),d?v(e):f}function R(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-O>=s}function g(){var e=o();if(R(e))return T(e);E=setTimeout(g,function(e){var n=t-(e-p);return m?a(n,s-(e-O)):n}(e))}function T(e){return E=void 0,y&&c?v(e):(c=l=void 0,f)}function b(){var e=o(),n=R(e);if(c=arguments,l=this,p=e,n){if(void 0===E)return S(p);if(m)return clearTimeout(E),E=setTimeout(g,t),v(p)}return void 0===E&&(E=setTimeout(g,t)),f}return t=i(t)||0,r(n)&&(d=!!n.leading,s=(m="maxWait"in n)?u(i(n.maxWait)||0,t):s,y="trailing"in n?!!n.trailing:y),b.cancel=function(){void 0!==E&&clearTimeout(E),O=0,c=p=l=E=void 0},b.flush=function(){return void 0===E?f:T(o())},b}},707771:(e,t,n)=>{var r=n(555639);e.exports=function(){return r.Date.now()}}}]);