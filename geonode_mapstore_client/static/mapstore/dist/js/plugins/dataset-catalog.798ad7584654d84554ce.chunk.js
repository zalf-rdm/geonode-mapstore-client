(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[41604],{580416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>u,ih:()=>i,OX:()=>c,sb:()=>a,K$:()=>l,k7:()=>f,cX:()=>s,x9:()=>p,vs:()=>y,oE:()=>m,Po:()=>b,qv:()=>d,cI:()=>v,g6:()=>E,I4:()=>O,l$:()=>g,Xv:()=>S,k3:()=>h,CQ:()=>P,R8:()=>A,HN:()=>T,sH:()=>j,c7:()=>_,_7:()=>w,eF:()=>R,O6:()=>N,ED:()=>L,RP:()=>C,sF:()=>I,VP:()=>D,He:()=>M,vO:()=>x,WO:()=>k,bh:()=>Y,pV:()=>Z,MK:()=>G,ZF:()=>H,tV:()=>U,Dv:()=>z,Yz:()=>V,kI:()=>F,XG:()=>W,A4:()=>X,Rp:()=>$,$o:()=>q,ct:()=>J,oh:()=>K,$h:()=>Q,ud:()=>B,Qr:()=>ee,LR:()=>te,nN:()=>re,UG:()=>ne,F5:()=>oe,c9:()=>ue,Jh:()=>ie,Xy:()=>ce});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",u="CHANGE_GROUP_PROPERTIES",i="TOGGLE_NODE",c="SORT_NODE",a="REMOVE_NODE",l="UPDATE_NODE",f="MOVE_NODE",s="LAYER_LOADING",p="LAYER_LOAD",y="LAYER_ERROR",m="ADD_LAYER",b="ADD_GROUP",d="REMOVE_LAYER",v="SHOW_SETTINGS",E="HIDE_SETTINGS",O="UPDATE_SETTINGS",g="REFRESH_LAYERS",S="LAYERS:UPDATE_LAYERS_DIMENSION",h="LAYERS_REFRESHED",P="LAYERS_REFRESH_ERROR",A="LAYERS:BROWSE_DATA",T="LAYERS:DOWNLOAD",j="LAYERS:CLEAR_LAYERS",_="LAYERS:SELECT_NODE",w="LAYERS:FILTER_LAYERS",R="LAYERS:SHOW_LAYER_METADATA",N="LAYERS:HIDE_LAYER_METADATA",L="LAYERS:UPDATE_SETTINGS_PARAMS";function C(e,t,r){return{type:v,node:e,nodeType:t,options:r}}function I(){return{type:E}}function D(e){return{type:O,options:e}}function M(e,t){return{type:n,newProperties:t,layer:e}}function x(e,t){return{type:o,layer:e,params:t}}function k(e,t){return{type:u,newProperties:t,group:e}}function Y(e,t,r){return{type:i,node:e,nodeType:t,status:!r}}function Z(e){return{type:"CONTEXT_NODE",node:e}}function G(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:c,node:e,order:t,sortLayers:r}}function H(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:a,node:e,nodeType:t,removeEmpty:r}}function U(e,t,r){return{type:l,node:e,nodeType:t,options:r}}function z(e,t,r){return{type:f,node:e,groupId:t,index:r}}function V(e){return{type:s,layerId:e}}function F(e,t){return{type:p,layerId:e,error:t}}function W(e,t,r){return{type:y,layerId:e,tilesCount:t,tilesErrorCount:r}}function X(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:m,layer:e,foreground:t}}function $(e,t,r){return{type:b,group:e,parent:t,options:r}}function q(e){return{type:d,layerId:e}}function J(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function K(e){return{type:h,layers:e}}function Q(e,t){return{type:P,layers:e,error:t}}function B(e,t,r,n){return{type:S,dimension:e,value:t,options:r,layers:n}}function ee(e){return{type:A,layer:e}}function te(e){return{type:T,layer:e}}function re(){return{type:j}}function ne(e,t,r){return{type:_,id:e,nodeType:t,ctrlKey:r}}function oe(e){return{type:w,text:e}}function ue(e,t){return{type:R,metadataRecord:e,maskLoading:t}}function ie(){return{type:N}}function ce(e,t){return{type:L,newParams:e,update:t}}},801550:(e,t,r)=>{"use strict";r.d(t,{pP:()=>n,TR:()=>o,N7:()=>u,mq:()=>i,uv:()=>c,Qy:()=>a,IL:()=>l,Li:()=>f,OW:()=>s,ZO:()=>p,Um:()=>y,TF:()=>m,Ls:()=>b,Ec:()=>d,Eu:()=>v,JJ:()=>E,nZ:()=>O,YD:()=>g,GI:()=>S,Jb:()=>h,Uh:()=>P,e$:()=>A,eh:()=>T,$j:()=>j,Mk:()=>_,xy:()=>w,o6:()=>R,FP:()=>N,Mo:()=>L,sO:()=>C,Px:()=>I,hd:()=>D,Ju:()=>M,BV:()=>x,SO:()=>k,H0:()=>Y,$X:()=>Z,ou:()=>G,NE:()=>H});var n="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",u="CHANGE_MOUSE_POINTER",i="CHANGE_ZOOM_LVL",c="PAN_TO",a="ZOOM_TO_EXTENT",l="ZOOM_TO_POINT",f="CHANGE_MAP_CRS",s="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",y="CHANGE_ROTATION",m="CREATION_ERROR_LAYER",b="UPDATE_VERSION",d="INIT_MAP",v="RESIZE_MAP",E="CHANGE_MAP_LIMITS",O="SET_MAP_RESOLUTIONS",g="REGISTER_EVENT_LISTENER",S="UNREGISTER_EVENT_LISTENER",h="MOUSE_MOVE",P="MOUSE_OUT",A="MAP:MAP_PLUGIN_LOAD",T="MAP:ORIENTATION",j="MAP:UPDATE_MAP_VIEW";function _(e,t,r,n){return{type:A,mapType:t,loading:e,loaded:r,error:n}}function w(e,t,r){return{type:l,pos:e,zoom:t,crs:r}}function R(e,t,r,o,u,i,c,a){return{type:n,center:e,zoom:t,bbox:r,size:o,mapStateSource:u,projection:i,viewerOptions:c,resolution:a}}function N(e,t){return{type:o,point:e,layer:t}}function L(e){return{type:u,pointer:e}}function C(e,t){return{type:i,zoom:e,mapStateSource:t}}function I(e,t,r,n){return{type:a,extent:e,crs:t,maxZoom:r,options:n}}function D(e,t){return{type:p,style:e,mapStateSource:t}}function M(){return{type:v}}function x(e){var t=e.restrictedExtent,r=e.crs,n=e.minZoom;return{type:E,restrictedExtent:t,crs:r,minZoom:n}}function k(e){return{type:O,resolutions:e}}var Y=function(e,t){return{type:g,eventName:e,toolName:t}},Z=function(e,t){return{type:S,eventName:e,toolName:t}},G=function(e){return{type:h,position:e}},H=function(){return{type:P}}},362520:(e,t,r)=>{"use strict";r.d(t,{dn:()=>n,Kn:()=>o,FV:()=>u,yS:()=>i});var n="MAP_LAYOUT:UPDATE_MAP_LAYOUT",o="MAP_LAYOUT:FORCE_UPDATE_MAP_LAYOUT";function u(e){return{type:n,layout:e}}function i(){return{type:o}}},532425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(675263),o=r.n(n),u=r(124852),i=r.n(u);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,u=e.hidden;return i().createElement("div",{className:o,style:l({width:t,height:t,overflow:"hidden"},n)},!u&&i().createElement("div",{className:"mapstore-".concat(s(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const y=p},993451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(86638),o=r(675263),u=r.n(o),i=r(984596),c=r.n(i),a=r(701469),l=r.n(a),f=r(414293),s=r.n(f),p=r(747037),y=r.n(p),m=r(867076),b=["messages"];function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(l()(t))return t.map((function(o){var u=(0,n.S$)(e,o[r]||y()(o)&&o||"");return O(O({},o),{},g({},r,s()(u)?t:u))}));var o=(0,n.S$)(e,t);return s()(o)?t:o},h=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return O(O({},n),{},g({},o,e[o]&&S(t,e[o],r)))}};const P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return(0,m.compose)((0,m.getContext)({messages:u().object}),(0,m.mapProps)((function(r){var n=r.messages,o=v(r,b);return O(O({},o),c()(e).reduce(h(o,n,t),{}))})))}},697111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(124852),o=r.n(n),u=r(675263),i=r.n(u),c=r(23279),a=r.n(c);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const m=function(e,t){return function(r){function u(u){var i,c,l,f=(0,n.useRef)(),m=(c=(0,n.useState)(u[t]),l=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,i,c=[],a=!0,l=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=u.call(r)).done)&&(c.push(n.value),c.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(c,l)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=m[0],d=m[1],v=(0,n.useRef)();v.current=b,(0,n.useEffect)((function(){v.current!==u[t]&&d(u[t])}),[u[t]]),(0,n.useEffect)((function(){return f.current=a()((function(t){var r=t.newProps,n=t.newValue;r[e](n)}),u.debounceTime),function(){f.current.cancel()}}),[u.debounceTime]);var E=s(s({},u),{},(p(i={},t,b),p(i,e,(function(e){d(e),f.current&&(f.current.cancel(),f.current({newProps:u,newValue:e}))})),i));return o().createElement(r,E)}return u.propTypes={debounceTime:i().number},u.defaultProps={debounceTime:300},u.displayName=r.displayName+"WithDebounceOnCallback",u}}},55105:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>s,Nr:()=>p,ic:()=>y,Jz:()=>b,VM:()=>d,CF:()=>v});var n=r(91175),o=r.n(n),u=r(800827),i=r(552259);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e.maplayout&&e.maplayout.layout||{}},p=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return l(l({},e),{},f({},t,r[t]))}),{})||{}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=s(e),n=!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})));return n},b=function(e){return m(e,[{key:"right",value:658}])},d=function(e){return m(e,[{key:"bottom",value:30,type:"not"}])},v=function(e){var t=(0,u.Od)(e),r=p(e);return r&&t&&t.size&&{left:(0,i.parseLayoutValue)(r.left,t.size.width),bottom:(0,i.parseLayoutValue)(r.bottom,t.size.height),right:(0,i.parseLayoutValue)(r.right,t.size.width),top:(0,i.parseLayoutValue)(r.top,t.size.height)}}},597610:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(124852);const o=function(e){var t=e.scrollContainer,r=e.shouldScroll,o=void 0===r?function(){return!0}:r,u=e.onLoad,i=e.offset,c=void 0===i?200:i,a=(0,n.useRef)({});a.current=function(){(t?t.scrollTop:document.body.scrollTop||document.documentElement.scrollTop)+(t?t.clientHeight:window.innerHeight)>=(t?t.scrollHeight:document.body.scrollHeight||document.documentElement.scrollHeight)-c&&o()&&u()},(0,n.useEffect)((function(){var e=t||window;function r(){a.current()}return e.addEventListener("scroll",r),function(){e.removeEventListener("scroll",r)}}),[t])}},811409:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>X});var n=r(124852),o=r.n(n),u=r(675263),i=r.n(u),c=r(322843),a=r(171703),l=r(480681),f=r(22222),s=r(805346),p=r(303744),y=r(182021),m=r(597610),b=r(337326),d=r(17594),v=r(51605),E=r(535721),O=r(580416),g=r(801550),S=r(782904),h=r(532425),P=r(362520),A=r(55105),T=r(737275),j=r(226735);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const L={gnUpdateDatasetsCatalogMapLayout:function(e,t){return e.ofType(P.dn,S.At).filter((function(){var e,r,n;return null===(e=t.getState())||void 0===e||null===(r=e.controls)||void 0===r||null===(n=r.datasetsCatalog)||void 0===n?void 0:n.enabled})).filter((function(e){return e.source!==j.O.PANEL})).map((function(e){var r=e.layout,n=(0,T.u8)("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}},o=(0,P.FV)(R(R(R({},(0,A.Ss)(t.getState())),r),{},{right:n.right.md,boundingMapRect:R(R({},(null==r?void 0:r.boundingMapRect)||{}),{},{right:n.right.md})}));return R(R({},o),{},{source:j.O.PANEL})}))}};var C=r(697111),I=r(993451),D=["onChange","value"],M=["enabled"];function x(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,i,c=[],a=!0,l=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=u.call(r)).done)&&(c.push(n.value),c.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}function H(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var U=(0,I.Z)("placeholder")(l.FormControl),z=(0,C.Z)("onChange","value")((function(e){var t=e.onChange,r=e.value,n=H(e,D);return o().createElement(U,G({},n,{value:r,onChange:function(e){return t(e.target.value)}}))}));function V(e){var t=e.request,r=e.responseToEntries,u=e.pageSize,i=e.style,c=e.placeholderId,a=e.onAdd,f=e.onClose,b=e.onZoomTo,O=(0,n.useRef)(),g=k((0,n.useState)([]),2),S=g[0],P=g[1],A=k((0,n.useState)(!1),2),T=A[0],j=A[1],_=k((0,n.useState)(1),2),w=_[0],R=_[1],N=k((0,n.useState)(!1),2),L=N[0],C=N[1],I=k((0,n.useState)(""),2),D=I[0],M=I[1],Y=(0,n.useRef)();(0,m.Z)({scrollContainer:O.current,shouldScroll:function(){return!T&&L},onLoad:function(){R(w+1)}});var Z=(0,n.useRef)();return Z.current=function(e){!T&&t&&(O.current&&e.reset&&(O.current.scrollTop=0),j(!0),t({q:D,page:e.page,pageSize:u}).then((function(t){if(Y.current){var n=r(t);C(t.isNextPageAvailable),P(1===e.page?n:[].concat(x(S),x(n))),j(!1)}})).catch((function(){Y.current&&j(!1)})))},(0,n.useEffect)((function(){return Y.current=!0,function(){Y.current=!1}}),[]),(0,n.useEffect)((function(){w>1&&Z.current({page:w})}),[w]),(0,n.useEffect)((function(){R(1),Z.current({page:1,reset:!0})}),[D]),o().createElement("div",{className:"gn-datasets-catalog",style:i},o().createElement("div",{className:"gn-datasets-catalog-head"},o().createElement("div",{className:"gn-datasets-catalog-title"},o().createElement(s.Z,{msgId:"gnviewer.datasetsCatalogTitle"})),o().createElement(p.Z,{className:"square-button",onClick:function(){return f()}},o().createElement(l.Glyphicon,{glyph:"1-close"}))),o().createElement("div",{className:"gn-datasets-catalog-filter"},o().createElement(z,{placeholder:c,value:D,debounceTime:300,onChange:function(e){return M(e)}}),D&&!T&&o().createElement(p.Z,{onClick:function(){return M("")}},o().createElement(d.Z,{name:"times"})),T&&o().createElement(v.Z,null)),o().createElement("div",{ref:O,className:"gn-datasets-catalog-body"},o().createElement("ul",{className:"gn-datasets-catalog-list"},S.map((function(e){return o().createElement("li",{key:e.pk},o().createElement(y.Z,{data:e,readOnly:!0,layoutCardsStyle:"list",onClick:function(){return function(e){var t,r,n=(0,E.tA)(e);a(n);var o,u=(null==n||null===(t=n.bbox)||void 0===t?void 0:t.bounds)||{},i=u.minx,c=u.miny,l=u.maxx,f=u.maxy,s=(null==n||null===(r=n.bbox)||void 0===r?void 0:r.bounds)&&[i,c,l,f];s&&b(s,null==n||null===(o=n.bbox)||void 0===o?void 0:o.crs)}(e)}}))})),0===S.length&&!T&&o().createElement("div",{className:"gn-datasets-catalog-alert"},o().createElement(s.Z,{msgId:"gnviewer.datasetsCatalogEntriesNoResults"})))),T&&0===S.length&&o().createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"}},o().createElement(h.Z,{size:70})))}V.propTypes={request:i().func,responseToEntries:i().func,pageSize:i().number,onAdd:i().func,placeholderId:i().string,onClose:i().func,onZoomTo:i().func},V.defaultProps={request:b.EX,responseToEntries:function(e){return e.resources},pageSize:10,onAdd:function(){},placeholderId:"gnviewer.datasetsCatalogFilterPlaceholder",onZoomTo:function(){},onClose:function(){}};var F=(0,a.connect)((0,f.P1)([function(e){return(0,A.ic)(e,{height:!0})},function(e){var t,r;return null==e||null===(t=e.controls)||void 0===t||null===(r=t.datasetsCatalog)||void 0===r?void 0:r.enabled}],(function(e,t){return{style:e,enabled:t}})),{onAdd:O.A4,onClose:S.Xg.bind(null,"datasetsCatalog","enabled",!1),onZoomTo:g.Px})((function(e){var t=e.enabled,r=H(e,M);return t?o().createElement(V,r):null})),W=(0,a.connect)((0,f.P1)([],(function(){return{}})),{onClick:S.Xg.bind(null,"datasetsCatalog","enabled",!0)})((function(e){var t=e.onClick,r=e.size,n=e.variant;return o().createElement(p.Z,{size:r,onClick:function(){t()},variant:n},o().createElement(s.Z,{msgId:"gnviewer.addLayer"}))}));const X=(0,c.rx)("DatasetsCatalog",{component:F,containers:{ActionNavbar:{name:"DatasetsCatalog",Component:W}},epics:L,reducers:{}})},226735:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n={PANEL:"PANEL"}},23279:(e,t,r)=>{var n=r(513218),o=r(707771),u=r(14841),i=Math.max,c=Math.min;e.exports=function(e,t,r){var a,l,f,s,p,y,m=0,b=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var r=a,n=l;return a=l=void 0,m=t,s=e.apply(n,r)}function O(e){return m=e,p=setTimeout(S,t),b?E(e):s}function g(e){var r=e-y;return void 0===y||r>=t||r<0||d&&e-m>=f}function S(){var e=o();if(g(e))return h(e);p=setTimeout(S,function(e){var r=t-(e-y);return d?c(r,f-(e-m)):r}(e))}function h(e){return p=void 0,v&&a?E(e):(a=l=void 0,s)}function P(){var e=o(),r=g(e);if(a=arguments,l=this,y=e,r){if(void 0===p)return O(y);if(d)return clearTimeout(p),p=setTimeout(S,t),E(y)}return void 0===p&&(p=setTimeout(S,t)),s}return t=u(t)||0,n(r)&&(b=!!r.leading,f=(d="maxWait"in r)?i(u(r.maxWait)||0,t):f,v="trailing"in r?!!r.trailing:v),P.cancel=function(){void 0!==p&&clearTimeout(p),m=0,a=y=l=p=void 0},P.flush=function(){return void 0===p?s:h(o())},P}},707771:(e,t,r)=>{var n=r(555639);e.exports=function(){return n.Date.now()}}}]);