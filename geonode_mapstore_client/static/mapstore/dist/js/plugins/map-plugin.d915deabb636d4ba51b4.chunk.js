(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[86169],{862769:(e,t,r)=>{var n={"./cesium/plugins/index":[143589,9,76180,36882,43589,45992],"./leaflet/plugins/index":[935701,7,41263,36882,35701,34942],"./openlayers/plugins/index":[103498,9,18672,58493,52043,40353,47202,69141,74738,97892,10027,49232,76932,65604,85986,36882,13581,93546,3498,77545]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(2).map(r.e)).then((()=>r.t(o,16|t[1])))}o.keys=()=>Object.keys(n),o.id=862769,e.exports=o},419137:(e,t,r)=>{var n={"./cesium/index":[391726,76180,75560,79216,92227],"./leaflet/index":[497611,96259,23596,24226,93991,49967,98324],"./openlayers/index":[864385,96259,18672,58493,52043,40353,47202,69141,74738,97892,10027,38920,61332,11704,72445,78471,8623,66920,45700,24226,93546,6909,49005,22467,64385]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(o)))}o.keys=()=>Object.keys(n),o.id=419137,e.exports=o},460604:(e,t,r)=>{"use strict";r.d(t,{hn:()=>n,yg:()=>o,vD:()=>i,jJ:()=>a,oy:()=>u,W:()=>s,B1:()=>c,fU:()=>l,cY:()=>p});var n="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",o="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",a="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",u="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",n=arguments.length>3?arguments[3]:void 0;return{type:a,id:e,owner:t,actionType:r,options:n}},c=function(e,t){return{type:u,owner:e,options:t}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:o,id:t,owner:r}},p=function(e){return{type:i,owner:e}}},881808:(e,t,r)=>{"use strict";r.d(t,{eD:()=>n,AM:()=>o,ok:()=>i,Gg:()=>a,nT:()=>u,TL:()=>s,KS:()=>c,EB:()=>l,DZ:()=>p,Aw:()=>f,V_:()=>y,H0:()=>m,jW:()=>d,JZ:()=>b,fQ:()=>g,HK:()=>v,YO:()=>O,I6:()=>h});var n="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",i="MAP_CONFIG_LOADED",a="MAP_CONFIG_LOAD_ERROR",u="MAP_LOAD_INFO",s="MAP_INFO_LOAD_START",c="MAP_INFO_LOADED",l="MAP_INFO_LOAD_ERROR",p="MAP:MAP_SAVE_ERROR",f="MAP:MAP_SAVED",y="MAP:RESET_MAP_SAVE_ERROR";function m(e,t,r){return{type:i,config:e,legacy:!!t,mapId:t,zoomToExtent:r}}function d(e,t){return{type:a,error:e,mapId:t}}function b(e,t,r,n,i){return{type:o,configName:e,mapId:t,config:r,mapInfo:n,overrideConfig:i}}function g(e,t){return{type:c,mapId:t,info:e}}function v(e,t){return{type:l,mapId:e,error:t}}function O(e){return{type:s,mapId:e}}function h(e){return{type:u,mapId:e}}},580416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>i,ih:()=>a,OX:()=>u,sb:()=>s,K$:()=>c,k7:()=>l,cX:()=>p,x9:()=>f,vs:()=>y,oE:()=>m,Po:()=>d,qv:()=>b,cI:()=>g,g6:()=>v,I4:()=>O,l$:()=>h,Xv:()=>E,k3:()=>S,CQ:()=>w,R8:()=>P,HN:()=>j,sH:()=>T,c7:()=>A,_7:()=>L,eF:()=>D,O6:()=>M,ED:()=>_,RP:()=>R,sF:()=>N,VP:()=>I,He:()=>C,vO:()=>x,WO:()=>k,bh:()=>F,pV:()=>z,MK:()=>U,ZF:()=>q,tV:()=>G,Dv:()=>Y,Yz:()=>H,kI:()=>V,XG:()=>Z,A4:()=>W,Rp:()=>B,$o:()=>K,ct:()=>$,oh:()=>X,$h:()=>J,ud:()=>Q,Qr:()=>ee,LR:()=>te,nN:()=>re,UG:()=>ne,F5:()=>oe,c9:()=>ie,Jh:()=>ae,Xy:()=>ue});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",a="TOGGLE_NODE",u="SORT_NODE",s="REMOVE_NODE",c="UPDATE_NODE",l="MOVE_NODE",p="LAYER_LOADING",f="LAYER_LOAD",y="LAYER_ERROR",m="ADD_LAYER",d="ADD_GROUP",b="REMOVE_LAYER",g="SHOW_SETTINGS",v="HIDE_SETTINGS",O="UPDATE_SETTINGS",h="REFRESH_LAYERS",E="LAYERS:UPDATE_LAYERS_DIMENSION",S="LAYERS_REFRESHED",w="LAYERS_REFRESH_ERROR",P="LAYERS:BROWSE_DATA",j="LAYERS:DOWNLOAD",T="LAYERS:CLEAR_LAYERS",A="LAYERS:SELECT_NODE",L="LAYERS:FILTER_LAYERS",D="LAYERS:SHOW_LAYER_METADATA",M="LAYERS:HIDE_LAYER_METADATA",_="LAYERS:UPDATE_SETTINGS_PARAMS";function R(e,t,r){return{type:g,node:e,nodeType:t,options:r}}function N(){return{type:v}}function I(e){return{type:O,options:e}}function C(e,t){return{type:n,newProperties:t,layer:e}}function x(e,t){return{type:o,layer:e,params:t}}function k(e,t){return{type:i,newProperties:t,group:e}}function F(e,t,r){return{type:a,node:e,nodeType:t,status:!r}}function z(e){return{type:"CONTEXT_NODE",node:e}}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:u,node:e,order:t,sortLayers:r}}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:s,node:e,nodeType:t,removeEmpty:r}}function G(e,t,r){return{type:c,node:e,nodeType:t,options:r}}function Y(e,t,r){return{type:l,node:e,groupId:t,index:r}}function H(e){return{type:p,layerId:e}}function V(e,t){return{type:f,layerId:e,error:t}}function Z(e,t,r){return{type:y,layerId:e,tilesCount:t,tilesErrorCount:r}}function W(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:m,layer:e,foreground:t}}function B(e,t,r){return{type:d,group:e,parent:t,options:r}}function K(e){return{type:b,layerId:e}}function $(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function X(e){return{type:S,layers:e}}function J(e,t){return{type:w,layers:e,error:t}}function Q(e,t,r,n){return{type:E,dimension:e,value:t,options:r,layers:n}}function ee(e){return{type:P,layer:e}}function te(e){return{type:j,layer:e}}function re(){return{type:T}}function ne(e,t,r){return{type:A,id:e,nodeType:t,ctrlKey:r}}function oe(e){return{type:L,text:e}}function ie(e,t){return{type:D,metadataRecord:e,maskLoading:t}}function ae(){return{type:M}}function ue(e,t){return{type:_,newParams:e,update:t}}},73814:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{xO:()=>u,HH:()=>s,yp:()=>c,i8:()=>l,hC:()=>p,UK:()=>f});var u="MAP:ADD_POPUP",s="MAP:REMOVE_POPUP",c="MAP:CLEAN_POPUPS",l=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:u,id:e,popup:i({id:e},t),single:r}},p=function(e){return{type:s,id:e}},f=function(){return{type:c}}},213652:(e,t,r)=>{"use strict";r.d(t,{Wz:()=>n,v2:()=>o,gj:()=>i,e_:()=>a});var n="MAP_TYPE_CHANGED",o="MAP_TYPE:UPDATE_LAST_2D_MAPTYPE";function i(e){return{type:n,mapType:e}}function a(e){return{type:o,mapType:e}}},589602:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{lD:()=>a,yK:()=>u,gf:()=>s,Qr:()=>c,Kx:()=>l,V:()=>p,Wt:()=>f,Qw:()=>y,GI:()=>m,MT:()=>d,XX:()=>b,sc:()=>g,qg:()=>v,Kf:()=>O,ES:()=>h,ud:()=>E,Bd:()=>S,pO:()=>w,Gd:()=>P,$3:()=>j,el:()=>T,CG:()=>A,h2:()=>L,NR:()=>D,RM:()=>M,dD:()=>_,wB:()=>R,Y_:()=>N,nl:()=>I,S1:()=>C});var a="CHANGE_MEASUREMENT_TOOL",u="CHANGE_MEASUREMENT_STATE",s="MEASUREMENT:CHANGE_UOM",c="MEASUREMENT:CHANGED_GEOMETRY",l="MEASUREMENT:SET_TEXT_LABELS",p="MEASUREMENT:SET_CURRENT_FEATURE",f="MEASUREMENT:ADD_AS_LAYER",y="MEASUREMENT:RESET_GEOMETRY",m="MEASUREMENT:CHANGE_FORMAT",d="MEASUREMENT:CHANGE_COORDINATES",b="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",g="MEASUREMENT:UPDATE_MEASURES",v="MEASUREMENT:INIT",O="MEASUREMENT:SET_MEASUREMENT_CONFIG",h="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function E(e,t,r,n,o){return{type:b,features:e,textLabels:t,uom:r,save:n,properties:o}}function S(e){return function(t){t(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:a},e)}(e))}}function w(e,t){return{type:h,features:e,properties:t}}function P(e,t,r){return{type:s,uom:e,value:t,previousUom:r}}function j(e){return{type:c,features:e}}function T(e,t){return{type:O,property:e,value:t}}function A(e){return{type:l,textLabels:e}}function L(e){return{type:p,featureIndex:e}}function D(e,t,r){return{type:f,features:e,textLabels:t,uom:r}}function M(e){return{type:m,format:e}}function _(e){return{type:d,coordinates:e}}function R(){return{type:y}}function N(e){return{type:g,measures:e}}function I(e){return{type:u,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:v,defaultOptions:e}}},647310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(375875),o=r.n(n),i=r(472500),a=r.n(i),u=r(727418),s=r.n(u),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const l={geocode:function(e,t){var r=s()({q:e},c,t||{}),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=s()({lat:e.lat,lon:e.lng},t||{},c),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},615402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(675263),o=r.n(n),i=r(124852),a=r.n(i);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function p(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var d=r(868195).FormattedHTMLMessage,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(n);if(o){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function u(){return s(this,u),i.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return this.context.intl?a().createElement(d,{id:this.props.msgId,values:this.props.msgParams}):a().createElement("span",null,this.props.msgId||"")}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a().Component);y(b,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),y(b,"contextTypes",{intl:o().object});const g=b},819983:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(124852),o=r.n(n),i=r(675263),a=r.n(i),u=r(552259);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return function(t){var r,i,a,s,c,p,f,y=(null==t||null===(r=t.map)||void 0===r?void 0:r.projection)||"EPSG:3857",m=(null==t||null===(i=t.map)||void 0===i||null===(a=i.mapOptions)||void 0===a||null===(s=a.view)||void 0===s?void 0:s.DPI)||null,d=null==t||null===(c=t.map)||void 0===c||null===(p=c.mapOptions)||void 0===p||null===(f=p.view)||void 0===f?void 0:f.scales,b=(0,n.useMemo)((function(){return d?(0,u.getResolutionsForScales)(d,y,m):null}),[d,y,m]),g=b?l(l({},t),{},{map:l(l({},t.map),{},{mapOptions:l(l({},t.map.mapOptions),{},{view:l(l({},t.map.mapOptions.view),{},{resolutions:b})})})}):t;return o().createElement(e,g)}};f.propTypes={Component:a().element};const y=f},947522:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>vt});var n=r(675263),o=r.n(n),i=r(124852),a=r.n(i),u=r(322843),s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=e,a=n,u=o,s=i;if({NODE_ENV:"production"}.isTest){var c={},l=function(e){return c[e]=c[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},c[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){l(e).rootCount+=t},iframesCreated:function(e){l(e).iframesCreated=!0},timedOut:function(e){l(e).timedOut=!0},fontLoaded:function(e){l(e).fontLoaded=!0},requiredExtraTimeout:function(e){l(e).requiredExtraTimeout=!0},getTests:function(){return c}}}r.timeoutAfter&&setTimeout((function(){a&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(s,-1),document.body.removeChild(a),a=0,r.onTimeout&&({NODE_ENV:"production"}.isTest&&window.reporter.timedOut(s),r.onTimeout()))}),r.timeoutAfter),u=function(){a&&a.firstChild.clientWidth===a.lastChild.clientWidth&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(s,-1),document.body.removeChild(a),a=0,{NODE_ENV:"production"}.isTest&&window.reporter.fontLoaded(s),t())},{NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(s,1),{NODE_ENV:"production"}.isLegacy||u(document.body.appendChild(a=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</div>"),{NODE_ENV:"production"}.isLegacy&&u(document.body.appendChild(a=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</span>.</table>"),a&&({NODE_ENV:"production"}.isTest&&window.reporter.iframesCreated(s),{NODE_ENV:"production"}.isLegacy||(a.firstChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=u,a.lastChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=u),{NODE_ENV:"production"}.isLegacy&&(a.firstChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",u):i.contentWindow.onresize=u,a.lastChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",u):i.contentWindow.onresize=u),{NODE_ENV:"production"}.isTest||(i=setTimeout(u)),{NODE_ENV:"production"}.isTest&&(i=setTimeout((function(){a&&(window.reporter.requiredExtraTimeout(s),u())}))))},c=r(727418),l=r.n(c),p=r(472986),f=r.n(p),y=r(893379),m=r.n(y),d=r(512817);m()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;var b=r(805346),g=r(737275),v=r(801550),O=r(747037),h=r.n(O),E=r(800827),S=r(93152),w=r(675110),P=r(227361),j=r.n(P),T=r(22222),A=r(986267);function L(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=function(e){return j()(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},_=function(e){return M(e)&&M(e).geometry},R=(0,T.P1)([function(e){return _(e)&&_(e).coordinates||[]},function(e){return _(e)&&_(e).type||"Polygon"},function(e){return _(e)&&_(e).id||"spatial_object"},function(e){return _(e)&&_(e).projection||"EPSG:3857"}],(function(e,t,r,n){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:r}]};return e.length>0&&t?(0,A.reprojectGeoJson)(o,n,"EPSG:4326").features:[]})),N=(0,T.P1)([R,function(e){return j()(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(L(t),L(e))})),I=r(274621),C=r(308316),x=r(38842),k=r(784715),F=r(618446),z=r.n(F);const U=(0,k.o)(z())(E.pb,E.Od,S.$v,w.Hi,N,(function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data}),I.y8,E.zT,S.m6,x.wk,x.c3,C.KV,(function(e,t,r,n,o,i,a,u,s,c,l,p){return{projectionDefs:e,map:t,mapType:r,layers:n,features:o,loadingError:i,securityToken:a,elevationEnabled:u,shouldLoadFont:s,isLocalizedLayerStylesEnabled:c,localizedLayerStylesName:l,currentLocaleLanguage:p}}));var q=r(601321),G=r(345304),Y=r(604206);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[],snapping:!1,snappingIsLoading:!1,snappingLayer:!1},K={edge:!0,vertex:!0,pixelTolerance:10,strategy:"bbox"};var $=r(41156),X={status:null};var J=r(129386);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var oe=r(556874),ie=r(460604),ae=r(91175),ue=r.n(ae),se=r(535937),ce=r.n(se),le=r(406557),pe=r.n(le),fe=r(513218),ye=r.n(fe),me=r(701469),de=r.n(me);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function ge(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ve(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){Ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===be(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Se=r(49977),we=r.n(Se),Pe=r(580416),je=r(881808),Te=r(263516),Ae=r(55105),Le=r(782904),De=r(624262),Me=r(552259),_e=r(197395),Re=r(921914),Ne=r(66604),Ie=r.n(Ne);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ze={checkMapPermissions:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(Te.XP).filter((function(){return(0,E.J9)(n())})).map((function(){var e=(0,E.J9)(n());return(0,je.I6)(e)}))},handleCreationLayerError:function(e,t){return e.ofType(v.TF).delay(500).switchMap((function(e){var r=(0,S.$v)(t.getState()),n=(0,w.CA)(t.getState(),e.options.id);return n&&(0,De.yJ)(n,r)?we().Observable.from([(0,Pe.He)(e.options.id,{invalid:!0})]):we().Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(v.TF).delay(500).filter((function(e){var r=(0,w.x)(t.getState());return r&&e.options.id===r.id&&"background"===e.options.group})).switchMap((function(e){var r=(0,S.$v)(t.getState()),n=ue()((0,w.pV)(t.getState()).filter((function(t){return(0,De.yJ)(t,r)&&t.id!==e.options.id})));return n?we().Observable.from([(0,Pe.He)(n.id,{visibility:!0}),(0,Le.Xg)("backgroundSelector","currentLayer",n),(0,Le.Xg)("backgroundSelector","tempLayer",n),(0,_e.Kp)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):we().Observable.of((0,_e.Kp)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(v.Ec).switchMap((function(){return we().Observable.of((0,ie.cY)(),(0,Le.fV)(),(0,Pe.nN)(),(0,Re.XP)())}))},resetLimitsOnInit:function(e,t){return e.ofType(je.ok,v.Li).switchMap((function(){var e=(0,E.A0)(t.getState()),r=(0,E.zj)(t.getState()),n=(0,E.S)(t.getState());return we().Observable.of((0,v.BV)({restrictedExtent:r,crs:e,minZoom:n}))}))},zoomToExtentEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(v.Qy).switchMap((function(e){var t=function(e){if(de()(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(ye()(e)){var t=Ie()(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return we().Observable.empty();var r=Me.default.getHook(Me.default.ZOOM_TO_EXTENT_HOOK),o=(0,Ae.CF)(n());if(r){var i=e.crs,a=e.maxZoom,u=e.options;return r(t,ke({crs:i,padding:o,maxZoom:a},void 0===u?{}:u)),we().Observable.empty()}return function(e,t){var r=0,n=e.extent,o=void 0===n?[]:n,i=A.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(i){var a=A.default.reproject(Me.default.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)r=1;else{var u=A.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");r=Me.default.getZoomForExtent(u,t.size,0,21,null)}e.maxZoom&&r>e.maxZoom&&(r=e.maxZoom);var s={minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},c=ke(ke({},t.bbox),{},{bounds:s});return we().Observable.of((0,v.o6)(a,r,c,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return we().Observable.empty()}(ke(ke({},e),{},{extent:t}),(0,E.Od)(n()))}))}};var Ue=r(73814),qe=r(589602),Ge=r(97266);function Ye(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var He=r(171703),Ve=r(120096);function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ze(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xe=function(){return a().createElement("span",null)};const Je=function(e,t){return Promise.all([r(419137)("./"+e+"/index"),r(862769)("./"+e+"/plugins/index")]).then((function(r){var n,o,i=(n=r,o=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(n,o)||function(e,t){if(e){if("string"==typeof e)return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].default,a=(0,He.connect)((function(e){return{projectionDefs:(0,E.pb)(e),mousePosition:(0,E.x9)(e)}}),l()({},{onMapViewChanges:v.o6,onClick:v.FP,onMouseMove:v.ou,onLayerLoading:Pe.Yz,onLayerLoad:Pe.kI,onLayerError:Pe.XG,onWarning:_e.Kp,onMouseOut:v.NE},t),(function(e,t,r){return l()({},r,e,l()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(i.LMap),u=(0,He.connect)((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:(0,Ge.VH)(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"mÂ²"}}}}),{changeMeasurementState:qe.nl,updateMeasures:qe.Y_,resetGeometry:qe.wB,changeGeometry:qe.$3,setTextLabels:qe.CG,changeMeasurement:qe.Bd})(i.MeasurementSupport||Xe),s=(0,He.connect)((function(e){var t;return Be(Be({},null!==(t=e.draw)&&void 0!==t?t:{}),{},{snappingLayerInstance:(0,Ve.lM)(e)})}),{onChangeDrawingStatus:Y.Yf,onEndDrawing:Y.fo,onGeometryChanged:Y.Vw,onSelectFeatures:Y.KD,onDrawingFeatures:Y.uj,onDrawStopped:Y.lo,setCurrentStyle:Y.PY,toggleSnappingIsLoading:Y.sc})(i.DrawSupport||Xe),c=(0,He.connect)((0,T.P1)((function(e){return function(e){return e&&e.box&&e.box.status}(e)}),(function(e){return{status:e}})),{onBoxEnd:$.zZ})(i.BoxSelectionSupport||Xe),p=(0,He.connect)((function(e){return e.highlight||{}}),{updateHighlighted:J._E})(i.HighlightFeatureSupport||Xe),f=(0,He.connect)((function(e){return{selection:e.selection||{}}}),{changeSelectionState:Ye})(i.SelectionSupport||Xe),y=(0,He.connect)(null,{onWarning:_e.Kp})(i.Layer||Xe),m=[],d=(0,He.connect)((0,T.P1)((function(e){return e.mapPopups&&e.mapPopups.popups||m}),(function(e){return{popups:e}})),{onPopupClose:Ue.hC})(i.PopupSupport||Xe);return{Map:a,Layer:y,Feature:i.Feature||Xe,tools:{measurement:u,overview:i.Overview||Xe,scalebar:i.ScaleBar||Xe,draw:s,highlight:p,selection:f,popup:d,box:c},mapType:e}}))};var Qe=r(819983),et=r(47805),tt=r(615402),rt=r(38560),nt=r(480681);const ot=function(e){var t=e.show,r=e.error,n=e.onReload;return t?a().createElement("div",{className:"ms-map-error-panel",style:{position:"absolute",width:"100%",height:"100%",color:"#ffffff",background:"rgba(0, 0, 0, 0.75)",zIndex:100,top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"}},a().createElement("div",{style:{maxWidth:500}},a().createElement("h1",null,a().createElement(tt.Z,{msgId:"map.renderingErrorTitle"})),a().createElement("p",null,a().createElement(tt.Z,{msgId:"map.renderingErrorMessage"})),(null==r?void 0:r.message)&&a().createElement(nt.Alert,{bsStyle:"danger"},a().createElement("small",null,r.message)),n&&a().createElement(rt.Z,{bsStyle:"primary",onClick:function(){return n()}},a().createElement(b.Z,{msgId:"map.reloadMap"})))):null};function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},at.apply(this,arguments)}function ut(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return st(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bt(n.key),n)}}function pt(e,t){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pt(e,t)}function ft(e,t){if(t&&("object"===it(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yt(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}function dt(e,t,r){return(t=bt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(e){var t=function(e,t){if("object"!==it(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===it(t)?t:String(t)}var gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mt(n);if(o){var r=mt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ft(this,e)});function u(){var e;ct(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return dt(yt(e=i.call.apply(i,[this].concat(r))),"state",{canRender:!0}),dt(yt(e),"getHighlightLayer",(function(t,r,n){var o=e.state.plugins;return a().createElement(o.Layer,{type:"vector",srs:t,position:r,key:"highlight",options:{name:"highlight"},env:n},e.props.features.map((function(e){return a().createElement(o.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),dt(yt(e),"getTool",(function(t){return h()(t)?{name:t,impl:e.state.plugins.tools[t]}:t[e.props.mapType]||t})),dt(yt(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||g.ZP.getConfigProp("defaultMapOptions")&&g.ZP.getConfigProp("defaultMapOptions")[e.props.mapType]})),dt(yt(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",r=[];e.props.isLocalizedLayerStylesEnabled&&r.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage});var n=e.state.plugins;return[].concat(ut(e.props.layers),ut(e.props.additionalLayers)).filter(e.filterLayer).map((function(o,i){return a().createElement(n.Layer,{type:o.type,srs:t,position:i,key:o.id||o.name,options:o,securityToken:e.props.securityToken,env:r},e.renderLayerContent(o,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,r)||[])})),dt(yt(e),"renderLayerContent",(function(t,r){var n=e.state.plugins;return t.features?t.features.filter((0,et.createFeatureFilter)(t.filterObj)).map((function(e){return a().createElement(n.Feature,{key:e.id,msId:e.id,type:e.type,crs:r,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})})):null})),dt(yt(e),"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(t){var r=t.Tool,n=t.name,o=t.cfg;return a().createElement(r,at({},o,{key:n,mapType:e.props.mapType}))}));return e.props.tools.map((function(t){var r=e.getTool(t),n=e.props.toolsOptions[r.name]&&e.props.toolsOptions[r.name][e.props.mapType]||e.props.toolsOptions[r.name]||{};return a().createElement(r.impl,at({key:r.name},n))})).concat(t)})),dt(yt(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),dt(yt(e),"updatePlugins",(function(t){e.currentMapType=t.mapType,t.onLoadingMapPlugins(!0),e.setState({plugins:void 0}),Je(t.mapType,t.actions).then((function(r){e._isMounted&&r.mapType===e.currentMapType&&(e.setState({plugins:r}),t.onLoadingMapPlugins(!1,t.mapType),t.onMapTypeLoaded(!0,t.mapType))}))})),e}return t=u,r=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,r=t.shouldLoadFont,n=t.fonts;r&&n&&(this.setState({canRender:!1}),Promise.all(n.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){s(e,r,{timeoutAfter:t.timeoutAfter,onTimeout:n,sampleText:t.sampleText,generic:t.generic})}))}(e,{timeoutAfter:5e3}).catch((function(e){console.warn("Fonts loading check for map style responded slowly or with an error. Fonts in map may not be rendered correctly. This is not necessarily an issue.",e)}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props),this._isMounted=!0}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){if(this.props.map&&this.state.canRender&&this.state.plugins){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return a().createElement(this.state.plugins.Map,at({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:l()({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange,errorPanel:ot}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},a().createElement(b.Z,{msgId:"map.loadingerror"}),":",this.props.loadingError):a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?a().createElement(f(),{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,a().createElement(b.Z,{msgId:this.props.mapLoadingMessage}))}}],r&&lt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a().Component);dt(gt,"propTypes",{mapType:o().string,map:o().object,layers:o().array,additionalLayers:o().array,zoomControl:o().bool,mapLoadingMessage:o().string,loadingSpinner:o().bool,loadingError:o().string,tools:o().array,fonts:o().array,options:o().object,mapOptions:o().object,projectionDefs:o().array,toolsOptions:o().object,onResolutionsChange:o().func,actions:o().object,features:o().array,securityToken:o().string,shouldLoadFont:o().bool,elevationEnabled:o().bool,isLocalizedLayerStylesEnabled:o().bool,localizedLayerStylesName:o().string,currentLocaleLanguage:o().string,items:o().array,onLoadingMapPlugins:o().func,onMapTypeLoaded:o().func}),dt(gt,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onResolutionsChange:function(){},items:[],onLoadingMapPlugins:function(){},onMapTypeLoaded:function(){}});const vt=(0,u.rx)("Map",{component:(0,u.$j)(U,{onResolutionsChange:v.SO,onMapTypeLoaded:v.Mk})((0,Qe.Z)(gt)),reducers:{map:q.Z,layers:G.Z,draw:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Y.hZ:return l()({},r,{drawStatus:n.status,drawOwner:n.owner,drawMethod:n.method,options:n.options,features:n.features,style:n.style});case Y.kD:return l()({},r,{currentStyle:n.currentStyle});case Y.DI:return l()({},r,{tempFeatures:n.features});case Y.IC:return l()({},r,{tempFeatures:[]});case Y.G_:return Z(Z({},r),{},{snapping:!r.snapping});case Y.uB:return Z(Z({},r),{},{snappingLayer:n.snappingLayer,snappingIsLoading:!1});case Y.Rh:return Z(Z({},r),{},{snappingIsLoading:!r.snappingIsLoading});case Y.vU:return Z(Z({},r),{},{snapConfig:Z(Z(Z({},Z(Z({},K),(null===(e=n.pluginCfg)||void 0===e?void 0:e.snapConfig)||{})),null!==(t=null==r?void 0:r.snapConfig)&&void 0!==t?t:{}),n.prop&&void 0!==n.value?W({},n.prop,n.value):{})});default:return r}},box:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;return t.type===$.gd?l()({},e,{status:t.status}):e},highlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.NF:return l()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case J.F2:return te(te({},e),{},{status:t.status});case J.fu:return te(te({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}},maptype:oe.Z,additionallayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.jJ:var r=ce()({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},pe()),n=ue()(e.filter((function(e){return e.id===r.id})));return n?e.map((function(e){return e.id===r.id?he(he({},n),r):he({},e)})):[].concat(ge(e),[r]);case ie.hn:return e.concat(t.layers);case ie.oy:var o=t.options,i=t.owner;return e.map((function(e,t){return e.owner===i?he(he({},e),{},{options:ye()(o)&&o[e.id]||de()(o)&&o[t]||{}}):he({},e)}));case ie.yg:var a=t.id,u=t.owner;return u?e.filter((function(e){return e.owner!==u})):e.filter((function(e){return e.id!==a}));case ie.vD:return t.owner?e.filter((function(e){return e.owner!==t.owner})):[];default:return e}}},epics:ze})},345304:(e,t,r)=>{"use strict";r.d(t,{Z:()=>N});var n=r(580416),o=r(782904),i=r(727418),a=r.n(i),u=r(423570),s=r.n(u),c=r(513218),l=r.n(c),p=r(701469),f=r.n(p),y=r(91175),m=r.n(y),d=r(747037),b=r.n(d),g=r(264721),v=r.n(g),O=r(984596),h=r.n(O),E=r(624262);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D=function e(t,r){return t&&f()(t)&&t.length>0?t.filter((function(e){return e.id&&e.id!==r||b()(e)&&e!==r})).map((function(t){return l()(t)?a()({},t,t.nodes?{nodes:e(t.nodes,r)}:{}):t})):t},M=function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=D(e,t),a=(0,E.Mk)(i,r);if(a)i=(0,E.oH)(i,a.id,"nodes",o?[t].concat(a.nodes.slice(0)):a.nodes.concat(t));else{a=m()((0,E.IS)([(0,E.Mk)(n,t)]));var u=r.split(".").reduce((function(e,t,n){var o=r.split(".",n+1).join("."),a=(0,E.Mk)(i,o);return a?e.concat(a):e}),[]).pop();u?(a=(0,E.Mk)([a],u.id).nodes[0],i=(0,E.oH)(i,u.id,"nodes",o?[a].concat(u.nodes):u.nodes.concat(a))):i=[a].concat(i)}return i},_=function e(t,r,n){return n?t.map((function(t){return b()(t)?t:t.id===n?P(P({},t),{},{nodes:[].concat(T(t.nodes),[r])}):P(P({},t),{},{nodes:e(t.nodes,r,n)})})):[].concat(T(t),[r])},R=function e(t,r,n){if(t){if(b()(t.id)){var o=t.id.lastIndexOf("."),i=-1!==o?r+t.id.slice(o+(""===r?1:0)):r+(""===r?"":".")+t.id;return a()({},t,{id:i,nodes:t.nodes.map((function(t){return e(t,i,n)}))})}if(b()(t)){var u,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=A(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(n);try{for(s.s();!(u=s.n()).done;){var c=u.value;c.id===t&&(c.group=r)}}catch(e){s.e(e)}finally{s.f()}return t}}return t};const N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flat:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.kM:return"RefreshLayers"===t.control?a()({},e,{refreshError:[]}):e;case n.cX:var r=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{loading:!0}):e}));return a()({},e,{flat:r});case n.x9:var i=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{loading:!1,previousLoadingError:e.loadingError,loadingError:!!t.error&&"Error"}):e}));return a()({},e,{flat:i});case n.vs:var u=t.tilesCount===t.tilesErrorCount,c=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{previousLoadingError:e.loadingError,loadingError:u?"Error":"Warning"}):e}));return a()({},e,{flat:c});case n.l$:return a()({},e,{refreshing:t.layers,refreshError:[]});case n.CQ:var l=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length})),p=t.layers.map((function(e){return{layer:e.fullLayer.title,error:t.error}}));return a()({},e,{refreshing:l,refreshError:[].concat(T(e.refreshError||[]),T(p))});case n.k3:var f=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length}));return a()({},e,{refreshing:f});case n.Zz:case n.yS:var y=e.flat||[],d=y.reduce((function(e,r){return e||r.id===t.layer&&"background"===r.group}),!1),b=y.map((function(e){return v()(h()(t.layer),e.id)?a()({},e,t.newProperties,t.params?{params:a()({},e.params,t.params)}:{}):"background"===e.group&&d&&t.newProperties&&t.newProperties.visibility?a()({},e,{visibility:!1}):a()({},e)}));return a()({},e,{flat:b});case n.ms:var g=e.flat.map((function(e){var r=e.group||"Default";return r===t.group||0===r.indexOf("".concat(t.group,"."))?a()({},e,t.newProperties):a()({},e)}));return a()({},e,{flat:g});case n.ih:var O="layers"===t.nodeType?"flat":"groups",S=e[O]||[],w=(0,E.oH)(S,t.node,"expanded",t.status);return a()({},e,j({},O,w));case n.OX:var A=(0,E.Mk)(e.groups||[],t.node),L=A&&A.nodes||"root"===t.node&&e.groups||null;if(L){var N=t.order.map((function(e){return L[e]})),I="root"===t.node?N:(0,E.oH)(e.groups,t.node,"nodes",N),C=t.sortLayers?t.sortLayers(I,e.flat):e.flat;return a()({},e,{groups:I,flat:C})}return e;case n.K$:var x="groups"===t.nodeType?"group":"id";if("group"===x){var k=e.groups?[].concat(e.groups):[],F=(0,E.oH)(k,t.node,t.options);return a()({},e,{groups:F})}var z=e.flat||[],U=!t.options.hasOwnProperty("group"),q=z.map((function(e){return e[x]===t.node||0===e[x].indexOf(t.node+".")?(e.group===(t.options.group||"Default")&&(U=!0),a()({},e,t.options)):a()({},e)})),G=m()(z.filter((function(e){return e[x]===t.node||0===e[x].indexOf(t.node+".")})));if(!U&&G){var Y=t.options.group||"Default",H=M(e.groups,t.node,Y,q),V=E.lD?(0,E.lD)(H,q):q;return a()({},e,{flat:V,groups:H})}return a()({},e,{flat:q});case n.k7:var Z=(0,E.Mk)(e.groups||[],t.node),W=(0,E.Mk)(e.flat,t.node);if(Z&&t.index>=0&&"root"!==Z.id&&"Default"!==Z.id&&(!W||"root"!==t.groupId)){var B=t.groupId||"Default",K=W?W.group||"Default":function(){var e=Z.id.split(".");return e[e.length-2]||"root"}();if(B===K){var $="root"===K?{nodes:e.groups}:(0,E.Mk)(e.groups,K),X=($&&$.nodes||[]).slice(),J=X.findIndex((function(e){return(e.id||e)===(Z.id||Z)}));if(-1!==J&&J!==t.index){for(var Q=Math.abs(t.index-J),ee=J<t.index?1:-1,te=J,re=0;re<Q;++re,te+=ee){var ne=X[te];X[te]=X[te+ee],X[te+ee]=ne}var oe="root"===K?X:(0,E.oH)(e.groups,t.groupId,"nodes",X);return a()({},e,{flat:(0,E.lD)(oe,e.flat),groups:oe})}}else{var ie=D(e.groups,Z.id||Z),ae="root"===B?{nodes:ie}:(0,E.Mk)(ie,t.groupId);if(ae){var ue=e.flat.map((function(e){return a()({},e)})),se=R(Z,"root"===B?"":B,ue),ce=ae.nodes.slice();ce.splice(t.index,0,se);var le="root"===B?ce:(0,E.oH)(ie.slice(),ae.id,"nodes",ce);return a()({},e,{flat:(0,E.lD)(le,ue),groups:le})}}}return e;case n.sb:if("groups"===t.nodeType){var pe=D(e.groups,t.node),fe=e.flat.filter((function(e){return!e.group||e.group!==t.node&&0!==e.group.indexOf(t.node+".")}));return{flat:fe,groups:pe}}if("layers"===t.nodeType){var ye=t.removeEmpty?(0,E.AZ)(D(e.groups,t.node)):D(e.groups,t.node),me=e.flat.filter((function(e){return e.id!==t.node}));return a()({},e,{flat:me,groups:ye})}return e;case n.oE:var de=(e.flat||[]).concat(),be=(e.groups||[]).concat(),ge=t.layer.id?t.layer:a()({},t.layer,{id:(0,E.R8)(t.layer)});de.push(ge);var ve=ge.group||"Default";"background"!==ve&&(be=M(be,ge.id,ve,de,t.foreground));var Oe=E.lD?(0,E.lD)(be,de):de;return a()({},e,{flat:Oe,groups:be});case n.qv:var he=D(e.groups,t.layerId),Ee=e.flat.filter((function(e){return e.id!==t.layerId}));return a()({},e,{flat:Ee,groups:he});case n.Po:var Se=s()(),we=_(e.groups,P({id:t.parent?t.parent+"."+Se:Se,title:t.group,name:Se,nodes:[],expanded:!0},t.options),t.parent);return a()({},e,{groups:we});case n.cI:var Pe=a()({},e.settings,{expanded:!0,node:t.node,nodeType:t.nodeType,options:t.options});return a()({},e,{settings:Pe,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.g6:var je=a()({},e.settings,{expanded:!1,node:null,nodeType:null,options:{}});return a()({},e,{settings:je,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.I4:var Te=a()({},e.settings&&e.settings.options,t.options),Ae=a()({},e.settings,{options:Te});return a()({},e,{settings:Ae});case n.sH:return a()({},e,{flat:[],groups:[],selected:[]});case n.c7:var Le=e.selected?[].concat(e.selected):[];if(t.id&&"group"===t.nodeType){var De=[].concat(e.groups),Me=(0,E.Mk)(De,t.id),_e=(0,E.ar)(Me);t.ctrlKey&&Me?0===Le.filter((function(e){return e===t.id})).length?Le=Le.concat(_e,[t.id]):(Le=Le.filter((function(e){return e!==t.id})),_e.forEach((function(e){Le=Le.filter((function(t){return t!==e}))}))):!t.ctrlKey&&Me&&(Le=0===Le.filter((function(e){return e===t.id})).length?[].concat(_e,[t.id]):[])}else t.id&&"layer"===t.nodeType?t.ctrlKey?0===Le.filter((function(e){return e===t.id})).length?Le.push(t.id):Le=Le.filter((function(e){return e!==t.id})):Le=0===Le.filter((function(e){return e===t.id})).length||Le.length>1?[t.id]:[]:Le=[];return a()({},e,{selected:Le,settings:{expanded:!1,node:null,nodeType:null,options:{}},layerMetadata:{expanded:!1,metadataRecord:{},maskLoading:!1}});case n._7:return a()({},e,{filter:t.text||""});case n.eF:var Re=a()({},e.layerMetadata,{metadataRecord:t.metadataRecord,expanded:!0,maskLoading:t.maskLoading});return a()({},e,{layerMetadata:Re});case n.O6:var Ne=a()({},e.layerMetadata,{metadataRecord:{},expanded:!1});return a()({},e,{layerMetadata:Ne});default:return e}}},601321:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(801550),o=r(727418),i=r.n(o),a=r(552259),u=r(986267);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var c=["type"];function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const m=function(){var e,t,r,o,s,f,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{eventListeners:{}},d=arguments.length>1?arguments[1]:void 0;switch(d.type){case n.pP:d.type;var b=y(d,c);return b.zoom=isNaN(b.zoom)?1:b.zoom,i()({},m,b);case n.N7:return i()({},m,{mousePointer:d.pointer});case n.mq:return i()({},m,{zoom:d.zoom,mapStateSource:d.mapStateSource});case n.JJ:return i()({},m,{limits:{restrictedExtent:d.restrictedExtent,crs:d.crs,minZoom:d.minZoom}});case n.Li:return i()({},m,{projection:d.crs});case n.OW:if(d.scales){var g=m&&m.mapOptions&&m.mapOptions.view&&m.mapOptions.view.DPI||null,v=a.default.getResolutionsForScales(d.scales,m&&m.projection||"EPSG:4326",g);return i()({},m,{mapOptions:i()({},m&&m.mapOptions,{view:i()({},m&&m.mapOptions&&m.mapOptions.view,{resolutions:v,scales:d.scales})})})}if(m&&m.mapOptions&&m.mapOptions.view&&m.mapOptions.view&&m.mapOptions.view.resolutions){var O=i()({},m);return O.mapOptions=i()({},O.mapOptions),O.mapOptions.view=i()({},O.mapOptions.view),delete O.mapOptions.view.resolutions,0===Object.keys(O.mapOptions.view).length&&delete O.mapOptions.view,0===Object.keys(O.mapOptions).length&&delete O.mapOptions,O}return m;case n.nZ:return i()({},m,{resolutions:d.resolutions});case n.IL:return i()({},m,{center:u.default.reproject(d.pos,d.crs,"EPSG:4326"),zoom:d.zoom,mapStateSource:null});case n.uv:var h=u.default.reproject(d.center,d.center.crs||"EPSG:4326","EPSG:4326");return i()({},m,{center:h,mapStateSource:null});case n.ZO:return i()({},m,{mapStateSource:d.mapStateSource,style:d.style,resize:m.resize?m.resize+1:1});case n.Eu:return i()({},m,{resize:m.resize?m.resize+1:1});case n.Um:var E=i()({},m.bbox,{rotation:d.rotation});return i()({},m,{bbox:E,mapStateSource:d.mapStateSource});case n.Ls:return i()({},m,{version:d.version});case n.YD:return i()({},m,{eventListeners:i()({},m.eventListeners||{},l({},d.eventName,[].concat(p(m.eventListeners&&m.eventListeners[d.eventName]||[]),[d.toolName])))});case n.GI:var S=m;if(null!=m&&m.eventListeners){var w=m.eventListeners[d.eventName].filter((function(e){return e!==d.toolName}))||[];S=i()({},m,{eventListeners:i()({},m.eventListeners,l({},d.eventName,w))})}return S;case n.eh:if(d&&d.orientation&&(d.orientation.center||d.orientation.marker)){var P,j,T,A,L=(null==d||null===(P=d.orientation)||void 0===P||null===(j=P.center)||void 0===j?void 0:j.split(","))||(null==d||null===(T=d.orientation)||void 0===T||null===(A=T.marker)||void 0===A?void 0:A.split(",")),D=L&&L[0],M=L&&L[1],_=d.orientation.zoom,R=d.orientation.heading,N=d.orientation.pitch,I=d.orientation.roll;return i()({},m,{orientate:{x:D,y:M,z:_,heading:R,pitch:N,roll:I}})}return null;case n.$j:var C=parseFloat(null==d||null===(e=d.data)||void 0===e?void 0:e.heading),x=parseFloat(null==d||null===(t=d.data)||void 0===t?void 0:t.pitch),k=parseFloat(null==d||null===(r=d.data)||void 0===r?void 0:r.roll),F=parseFloat(null==d||null===(o=d.data)||void 0===o?void 0:o.zoom),z=parseFloat(null==d||null===(s=d.data)||void 0===s?void 0:s.coordinate[0]),U=parseFloat(null==d||null===(f=d.data)||void 0===f?void 0:f.coordinate[1]);return{zoom:F,center:{x:z,y:U},viewerOptions:{orientation:{heading:C,pitch:x,roll:k}}};default:return m}}},556874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(213652),o=r(801550);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.Wz:return u(u({},e),{},{mapType:t.mapType,last2dMapType:t.mapType&&"cesium"!==t.mapType?t.mapType:"cesium"!==e.mapType?e.mapType:e.last2dMapType});case n.v2:return t.mapType&&"cesium"!==t.mapType&&t.mapType!==e.last2dMapType?u(u({},e),{},{last2dMapType:t.mapType}):e;case o.e$:return u(u({},e),{},{loaded:u(u({},e.loaded),{},s({},t.mapType,t.loaded))});default:return e}}},38842:(e,t,r)=>{"use strict";r.d(t,{wk:()=>p,Yf:()=>f,c3:()=>y,fY:()=>m});var n=r(218721),o=r.n(n),i=r(227361),a=r.n(i),u=r(313311),s=r.n(u),c=r(22222),l=r(308316),p=function(e){return o()(e,"localConfig.localizedLayerStyles")},f=function(e){var t=a()(e,"localConfig.plugins.dashboard",[]),r=s()(t,(function(e){return"DashboardEditor"===e.name}))||{};return a()(r,"cfg.catalog.localizedLayerStyles",!1)},y=function(e){return a()(e,"localConfig.localizedLayerStyles.name","mapstore_language")},m=(0,c.P1)(p,y,l.KV,(function(e,t,r){var n=[];return e&&n.push({name:t,value:r}),n}))},55105:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>p,Nr:()=>f,ic:()=>y,Jz:()=>d,VM:()=>b,CF:()=>g});var n=r(91175),o=r.n(n),i=r(800827),a=r(552259);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return e.maplayout&&e.maplayout.layout||{}},f=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=p(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return c(c({},e),{},l({},t,r[t]))}),{})||{}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=p(e),n=!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})));return n},d=function(e){return m(e,[{key:"right",value:658}])},b=function(e){return m(e,[{key:"bottom",value:30,type:"not"}])},g=function(e){var t=(0,i.Od)(e),r=f(e);return r&&t&&t.size&&{left:(0,a.parseLayoutValue)(r.left,t.size.width),bottom:(0,a.parseLayoutValue)(r.bottom,t.size.height),right:(0,a.parseLayoutValue)(r.right,t.size.width),top:(0,a.parseLayoutValue)(r.top,t.size.height)}}},97266:(e,t,r)=>{"use strict";r.d(t,{iL:()=>p,cD:()=>f,jM:()=>y,VH:()=>d,on:()=>b});var n=r(93152),o=r(607147),i=r(761868),a=r(808797);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return(0,o.Iz)(e)&&!e.measurement.isDrawing&&(0,n.m6)(e)},f=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},y=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},m=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=(0,i.t8)("geometry.coordinates",(0,a.L0)(t.geometry||{}),t)),t},d=function(e){return e.measurement&&c(c({},e.measurement),{},{feature:m(e)})||{}},b=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},808797:(e,t,r)=>{"use strict";r.d(t,{rp:()=>s,Ov:()=>l,wd:()=>p,L0:()=>f}),r(701469);var n=r(91175),o=r.n(n),i=r(807654),a=r.n(i);function u(e){var t=Math.floor(e),r=60*(e-t),n=Math.floor(r),o=60*(r-n);return t+"Â° "+n+"' "+Math.floor(o)+"'' "}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.measureTrueBearing,n=void 0!==r&&r,o=t.fractionDigits,i=void 0===o?0:o,a="";if(n){var s="";e>=0&&e<10?s="00":e>10&&e<100&&(s="0");var c=i>0?e.toFixed(i):Math.floor(e);a=s+c+"Â°"}else e>=0&&e<90?a="N "+u(e)+"E":e>90&&e<=180?a="S "+u(180-e)+"E":e>180&&e<270?a="S "+u(e-180)+"W":e>=270&&e<=360&&(a="N "+u(360-e)+"W");return a}var c={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return c[t]&&c[t][r]?e*c[t][r]:e}var p=function(e){return!a()(parseFloat(e[0]))&&!a()(parseFloat(e[1]))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type,n=t;if("LineString"===r){if((n=t.filter(p)).length<2)return[]}else if("Polygon"===r){if((n=o()(t).filter(p)).length<3)return[[]];n=[n.concat([o()(n)])]}return n}},512817:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .mapErrorMessage {\n    font-size: 16px;\n    color: red;\n}\n",""]);const i=o}}]);