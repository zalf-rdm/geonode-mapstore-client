(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[86169],{862769:(e,t,r)=>{var n={"./cesium/plugins/index":[854540,9,65792,82093,34531,9069,29379,45477,66287,50172,54540,95381],"./leaflet/plugins/index":[935701,7,45243,29962,66287,35701,45992],"./openlayers/plugins/index":[103498,9,18672,4319,47202,69141,51554,85828,74698,5797,10447,3279,66287,93546,13581,3498,12050]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(2).map(r.e)).then((()=>r.t(o,16|t[1])))}o.keys=()=>Object.keys(n),o.id=862769,e.exports=o},419137:(e,t,r)=>{var n={"./cesium/index":[391726,82093,34531,9069,29379,27962,65794,92227],"./leaflet/index":[497611,96259,45243,42201,51410,24226,88181,3155,98324],"./openlayers/index":[120447,96259,18672,4319,47202,69141,51554,85828,72445,37974,10447,52210,1577,21611,60142,55211,26580,24226,93546,6909,84590,20447]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(o)))}o.keys=()=>Object.keys(n),o.id=419137,e.exports=o},460604:(e,t,r)=>{"use strict";r.d(t,{hn:()=>n,yg:()=>o,vD:()=>i,jJ:()=>a,oy:()=>u,am:()=>l,W:()=>c,B1:()=>s,YP:()=>p,fU:()=>f,cY:()=>y});var n="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",o="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",a="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",u="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",l="ADDITIONALLAYER:MERGE_OPTIONS_BY_OWNER",c=function(e,t){return{type:a,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},s=function(e,t){return{type:u,owner:e,options:t}},p=function(e,t){return{type:l,owner:e,options:t}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:o,id:t,owner:r}},y=function(e){return{type:i,owner:e}}},41156:(e,t,r)=>{"use strict";r.d(t,{fy:()=>n,gd:()=>o,zZ:()=>i,ZR:()=>a});var n="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:n,boxEndInfo:e}}function a(e){return{type:o,status:e}}},604206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>a,IC:()=>u,uB:()=>s,Rh:()=>p,G_:()=>f,vU:()=>y,Vw:()=>m,KD:()=>d,uj:()=>b,lo:()=>g,Yf:()=>v,fo:()=>O,PY:()=>h,bp:()=>P,oJ:()=>S,k4:()=>w,sc:()=>j,Li:()=>E});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",u="DRAW:DRAW_SUPPORT_STOPPED",l="DRAW:FEATURES_SELECTED",c="DRAW:DRAWING_FEATURES",s="DRAW:SET_SNAPPING_LAYER",p="DRAW:SNAPPING_IS_LOADING",f="DRAW:TOGGLE_SNAPPING",y="DRAW:SET_SNAPPING_CONFIG";function m(e,t,r,n,o){return{type:a,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function d(){return{type:l,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function b(){return{type:c,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function g(){return{type:u}}function v(e,t,r,o,i,a){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:a}}function O(e,t){return{type:o,geometry:e,owner:t}}function h(e){return{type:i,currentStyle:e}}var P=function(e){return v("clean","",e,[],{})};function S(){return{type:f}}function w(e){return{type:s,snappingLayer:e}}function j(){return{type:p}}function E(e,t,r){return{type:y,value:e,prop:t,pluginCfg:r}}},129386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>i,WP:()=>a,_E:()=>u});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:i,featuresPath:e}}function u(e,t){return{type:o,features:e,status:t}}},73814:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{xO:()=>u,HH:()=>l,yp:()=>c,i8:()=>s,hC:()=>p,UK:()=>f});var u="MAP:ADD_POPUP",l="MAP:REMOVE_POPUP",c="MAP:CLEAN_POPUPS",s=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:u,id:e,popup:i({id:e},t),single:r}},p=function(e){return{type:l,id:e}},f=function(){return{type:c}}},213652:(e,t,r)=>{"use strict";r.d(t,{Wz:()=>n,UA:()=>o,LI:()=>i});var n="MAP_TYPE_CHANGED",o="MAP_TYPE:VISUALIZATION_MODE_CHANGED";function i(e){return{type:o,visualizationMode:e}}},615402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(45697),o=r.n(n),i=r(124852),a=r.n(i);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function c(e,t,r){return t=p(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function y(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var d=r(868195).FormattedHTMLMessage,b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.context.intl?a().createElement(d,{id:this.props.msgId,values:this.props.msgParams}):a().createElement("span",null,this.props.msgId||"")}}])&&l(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(a().Component);y(b,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),y(b,"contextTypes",{intl:o().object});const g=b},819983:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(124852),o=r.n(n),i=r(45697),a=r.n(i),u=r(552259);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return function(t){var r,i,a,l,c,p,f,y=(null==t||null===(r=t.map)||void 0===r?void 0:r.projection)||"EPSG:3857",m=(null==t||null===(i=t.map)||void 0===i||null===(a=i.mapOptions)||void 0===a||null===(l=a.view)||void 0===l?void 0:l.DPI)||null,d=null==t||null===(c=t.map)||void 0===c||null===(p=c.mapOptions)||void 0===p||null===(f=p.view)||void 0===f?void 0:f.scales,b=(0,n.useMemo)((function(){return d?(0,u.Xf)(d,y,m):null}),[d,y,m]),g=b?s(s({},t),{},{map:s(s({},t.map),{},{mapOptions:s(s({},t.map.mapOptions),{},{view:s(s({},t.map.mapOptions.view),{},{resolutions:b})})})}):t;return o().createElement(e,g)}};f.propTypes={Component:a().element};const y=f},281635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>It});var n=r(45697),o=r.n(n),i=r(124852),a=r.n(i),u=r(322843),l=r(472986),c=r.n(l),s=r(893379),p=r.n(s),f=r(512817);p()(f.Z,{insert:"head",singleton:!1}),f.Z.locals;var y=r(805346),m=r(737275),d=r(801550),b=r(747037),g=r.n(b),v=r(800827),O=r(93152),h=r(675110),P=r(227361),S=r.n(P),w=r(22222),j=r(916651);function E(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var L=function(e){return S()(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},D=function(e){return L(e)&&L(e).geometry},A=(0,w.P1)([function(e){return D(e)&&D(e).coordinates||[]},function(e){return D(e)&&D(e).type||"Polygon"},function(e){return D(e)&&D(e).id||"spatial_object"},function(e){return D(e)&&D(e).projection||"EPSG:3857"}],(function(e,t,r,n){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:r}]};return e.length>0&&t?(0,j.reprojectGeoJson)(o,n,"EPSG:4326").features:[]})),I=(0,w.P1)([A,function(e){return S()(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(E(t),E(e))})),C=r(274621),_=r(308316),k=r(38842),x=r(784715),M=r(618446),N=r.n(M);const R=(0,x.oz)(N())(v.pb,v.Od,O.$v,h.Hi,I,(function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data}),C.y8,v.zT,k.wk,k.c3,_.KV,(function(e,t,r,n,o,i,a,u,l,c,s){return{projectionDefs:e,map:t,mapType:r,layers:n,features:o,loadingError:i,securityToken:a,elevationEnabled:u,isLocalizedLayerStylesEnabled:l,localizedLayerStylesName:c,currentLocaleLanguage:s}}));var Z=r(171703),F=r(480681);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W=(0,w.P1)(v.Od,O.$v,O.c0,(function(e,t,r){return{map:e,mapType:t,isCesium:r}})),Y={updateConfigAction:d.aN};const B=(0,Z.connect)(W,Y)((function(e){var t=e.map,r=e.mapType,n=e.isCesium,o=e.updateConfigAction,i=e.mapOptions,u=U(U({},i&&i[r]||m.ZP.getConfigProp("defaultMapOptions")&&m.ZP.getConfigProp("defaultMapOptions")[r]||{}),null==t?void 0:t.mapOptions),l=function(e,t){o(H({},t,!e[t]))};return n?a().createElement("form",null,a().createElement(F.cw,null,a().createElement(F.J$,null,a().createElement(y.Z,{msgId:"map.settings.title"}))),a().createElement(F.XZ,{checked:u.showSkyAtmosphere,onChange:function(){return l(u,"showSkyAtmosphere")}},a().createElement(y.Z,{msgId:"map.settings.skyAtmosphere"})),a().createElement(F.XZ,{checked:u.showGroundAtmosphere,onChange:function(){return l(u,"showGroundAtmosphere")}},a().createElement(y.Z,{msgId:"map.settings.groundAtmosphere"})),a().createElement(F.XZ,{checked:u.enableFog,onChange:function(){return l(u,"enableFog")}},a().createElement(y.Z,{msgId:"map.settings.fog"})),a().createElement(F.XZ,{checked:u.depthTestAgainstTerrain,onChange:function(){return l(u,"depthTestAgainstTerrain")}},a().createElement(y.Z,{msgId:"map.settings.depthTest"}))):null}));var $=r(601321),X=r(345304),K=r(392411),J=r(727418),V=r.n(J),q=r(41156),Q={status:null};var ee=r(129386);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var ae=r(556874),ue=r(460604),le=r(91175),ce=r.n(le),se=r(535937),pe=r.n(se),fe=r(406557),ye=r.n(fe),me=r(513218),de=r.n(me),be=r(701469),ge=r.n(be);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ve(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we=r(49977),je=r.n(we),Ee=r(580416),Te=r(881808),Le=r(263516),De=r(55105),Ae=r(782904),Ie=r(624262),Ce=r(552259),_e=r(197395),ke=r(921914),xe=r(66604),Me=r.n(xe);function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Ne(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ze={checkMapPermissions:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(Le.XP).filter((function(){return(0,v.J9)(n())})).map((function(){var e=(0,v.J9)(n());return(0,Te.I6)(e)}))},handleCreationLayerError:function(e,t){return e.ofType(d.TF).delay(500).switchMap((function(e){var r=(0,O.$v)(t.getState()),n=(0,h.CA)(t.getState(),e.options.id);return n&&(0,Ie.yJ)(n,r)?je().Observable.from([(0,Ee.He)(e.options.id,{invalid:!0})]):je().Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(d.TF).delay(500).filter((function(e){var r=(0,h.x)(t.getState());return r&&e.options.id===r.id&&"background"===e.options.group})).switchMap((function(e){var r=(0,O.$v)(t.getState()),n=ce()((0,h.pV)(t.getState()).filter((function(t){return(0,Ie.yJ)(t,r)&&t.id!==e.options.id})));return n?je().Observable.from([(0,Ee.He)(n.id,{visibility:!0}),(0,Ae.Xg)("backgroundSelector","currentLayer",n),(0,Ae.Xg)("backgroundSelector","tempLayer",n),(0,_e.Kp)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):je().Observable.of((0,_e.Kp)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(d.Ec).switchMap((function(){return je().Observable.of((0,ue.cY)(),(0,Ae.fV)(),(0,Ee.nN)(),(0,ke.XP)())}))},resetLimitsOnInit:function(e,t){return e.ofType(Te.ok,d.Li).switchMap((function(){var e=(0,v.A0)(t.getState()),r=(0,v.zj)(t.getState()),n=(0,v.S)(t.getState());return je().Observable.of((0,d.BV)({restrictedExtent:r,crs:e,minZoom:n}))}))},zoomToExtentEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(d.Qy).switchMap((function(e){var t=function(e){if(ge()(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(de()(e)){var t=Me()(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return je().Observable.empty();var r=Ce.ZP.getHook(Ce.ZP.ZOOM_TO_EXTENT_HOOK),o=(0,De.CF)(n());if(r){var i=e.crs,a=e.maxZoom,u=e.options;return r(t,Ze({crs:i,padding:o,maxZoom:a},void 0===u?{}:u)),je().Observable.empty()}return function(e,t){var r=0,n=e.extent,o=void 0===n?[]:n,i=j.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(i){var a=j.default.reproject(Ce.ZP.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)r=1;else{var u=j.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");r=Ce.ZP.getZoomForExtent(u,t.size,0,21,null)}e.maxZoom&&r>e.maxZoom&&(r=e.maxZoom);var l={minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},c=Ze(Ze({},t.bbox),{},{bounds:l});return je().Observable.of((0,d.o6)(a,r,c,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return je().Observable.empty()}(Ze(Ze({},e),{},{extent:t}),(0,v.Od)(n()))}))}};var Ge=r(73814);function Ue(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var He=r(604206),We=r(120096);function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Ye(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ye(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Je=function(){return a().createElement("span",null)};var Ve=r(819983),qe=r(86686),Qe=r(615402),et=r(38560);const tt=function(e){var t=e.show,r=e.error,n=e.onReload;return t?a().createElement("div",{className:"ms-map-error-panel",style:{position:"absolute",width:"100%",height:"100%",color:"#ffffff",background:"rgba(0, 0, 0, 0.75)",zIndex:100,top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"}},a().createElement("div",{style:{maxWidth:500}},a().createElement("h1",null,a().createElement(Qe.Z,{msgId:"map.renderingErrorTitle"})),a().createElement("p",null,a().createElement(Qe.Z,{msgId:"map.renderingErrorMessage"})),(null==r?void 0:r.message)&&a().createElement(F.bZ,{bsStyle:"danger"},a().createElement("small",null,r.message)),n&&a().createElement(et.Z,{bsStyle:"primary",onClick:function(){return n()}},a().createElement(y.Z,{msgId:"map.reloadMap"})))):null};var rt=r(856175),nt=r(879504),ot=r(130002),it=r(898631);function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}var ut=["features"];function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=at(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==at(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pt="__geometry__type__",ft={format:"geostyler",body:{name:"highlight",rules:[{name:"Default Polygon Style",ruleId:"defaultPolygon",filter:["||",["==",pt,"Polygon"],["==",pt,"MultiPolygon"]],symbolizers:[{kind:"Fill",color:"#f2f2f2",fillOpacity:.3,outlineColor:"#3075e9",outlineOpacity:1,outlineWidth:2}]},{name:"Default Line Style",ruleId:"defaultLine",filter:["||",["==",pt,"LineString"],["==",pt,"MultiLineString"]],symbolizers:[{kind:"Line",color:"#3075e9",opacity:1,width:2}]},{name:"Default Point Style",ruleId:"defaultPoint",filter:["||",["==",pt,"Point"],["==",pt,"MultiPoint"]],symbolizers:[{kind:"Mark",color:"#f2f2f2",fillOpacity:.3,strokeColor:"#3075e9",strokeOpacity:1,strokeWidth:2,radius:10,wellKnownName:"Circle",msBringToFront:!0}]}]}},yt=["features"],mt=["id"];function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bt.apply(null,arguments)}function gt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){Lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function St(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dt(n.key),n)}}function wt(e,t,r){return t=Et(t),function(e,t){if(t&&("object"==dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jt()?Reflect.construct(t,r||[],Et(e).constructor):t.apply(e,r))}function jt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jt=function(){return!!e})()}function Et(e){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Et(e)}function Tt(e,t){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tt(e,t)}function Lt(e,t,r){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dt(e){var t=function(e,t){if("object"!=dt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dt(t)?t:t+""}var At=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Lt(e=wt(this,t,[].concat(n)),"state",{canRender:!0}),Lt(e,"getHighlightLayer",(function(t,r,n){var o=e.state.plugins,i=function(e){var t=e.features;return ct(ct({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ut)),{},{visibility:!0,features:null==t?void 0:t.map((function(e){var t;return ct(ct({},e),{},{properties:ct(ct({},(null==e?void 0:e.properties)||{}),{},st({},pt,null==e||null===(t=e.geometry)||void 0===t?void 0:t.type))})})),style:ft})}({features:e.props.features}),u=i.features,l=Pt(i,yt);return a().createElement(o.Layer,{type:"vector",srs:t,position:r,key:"highlight",env:n,options:ht(ht({name:"highlight"},l),{},{features:u})},u.map((function(e){return a().createElement(o.Feature,{msId:e.id,properties:e.properties,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),Lt(e,"getTool",(function(t){return g()(t)?{name:t,impl:e.state.plugins.tools[t]}:t[e.props.mapType]||t})),Lt(e,"getConfigMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||m.ZP.getConfigProp("defaultMapOptions")&&m.ZP.getConfigProp("defaultMapOptions")[e.props.mapType]||{}})),Lt(e,"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",r=[];e.props.isLocalizedLayerStylesEnabled&&r.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage});var n=e.state.plugins;return[].concat(gt(e.props.layers),gt(e.props.additionalLayers.map((function(e,t){var r=e.id;return ht(ht({},Pt(e,mt)),{},{id:r||"additional-layers-".concat(t)})})))).filter(e.filterLayer).map((function(o,i){return a().createElement(n.Layer,{type:o.type,srs:t,position:i,key:o.id||o.name,options:o,securityToken:e.props.securityToken,env:r},e.renderLayerContent(o,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,r)||[])})),Lt(e,"renderLayerContent",(function(t,r){var n=e.state.plugins;return t.features?t.features.filter((0,qe.createFeatureFilter)(t.filterObj)).map((function(e){return a().createElement(n.Feature,{key:e.id,msId:e.id,type:e.type,crs:r,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})})):null})),Lt(e,"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(t){var r=t.Tool,n=t.name,o=t.cfg;return a().createElement(r,bt({},o,{key:n,mapType:e.props.mapType}))}));return e.props.tools.map((function(t){var r=e.getTool(t),n=e.props.toolsOptions[r.name]&&e.props.toolsOptions[r.name][e.props.mapType]||e.props.toolsOptions[r.name]||{};return a().createElement(r.impl,bt({key:r.name},n))})).concat(t)})),Lt(e,"filterLayer",(function(t){return t.useForElevation?"cesium"===e.props.mapType||e.props.elevationEnabled:"elevation"!==t.type||e.props.elevationEnabled})),Lt(e,"updatePlugins",(function(t){e.currentMapType=t.mapType,t.onLoadingMapPlugins(!0),e.setState({plugins:void 0}),e.props.pluginsCreator(t.mapType,t.actions).then((function(r){e._isMounted&&r.mapType===e.currentMapType&&(e.setState({plugins:r}),t.onLoadingMapPlugins(!1,t.mapType),t.onMapTypeLoaded(!0,t.mapType))}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t)}(t,e),r=t,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.updatePlugins(this.props),this._isMounted=!0}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){if(this.props.map&&this.state.canRender&&this.state.plugins){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return a().createElement(this.state.plugins.Map,bt({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:ht(ht({},this.getConfigMapOptions()),t),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange,errorPanel:tt}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},a().createElement(y.Z,{msgId:"map.loadingerror"}),":",this.props.loadingError):a().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?a().createElement(c(),{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,a().createElement(y.Z,{msgId:this.props.mapLoadingMessage}))}}])&&St(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(a().Component);Lt(At,"propTypes",{mapType:o().string,map:o().object,layers:o().array,additionalLayers:o().array,zoomControl:o().bool,mapLoadingMessage:o().string,loadingSpinner:o().bool,loadingError:o().string,tools:o().array,options:o().object,mapOptions:o().object,projectionDefs:o().array,toolsOptions:o().object,onResolutionsChange:o().func,actions:o().object,features:o().array,securityToken:o().string,elevationEnabled:o().bool,isLocalizedLayerStylesEnabled:o().bool,localizedLayerStylesName:o().string,currentLocaleLanguage:o().string,items:o().array,onLoadingMapPlugins:o().func,onMapTypeLoaded:o().func,pluginsCreator:o().func}),Lt(At,"defaultProps",{mapType:it.Bk.OPENLAYERS,actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},toolsOptions:{measurement:{},locate:{},scalebar:Lt({},it.Bk.LEAFLET,{position:"bottomright"}),overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],elevationEnabled:!1,onResolutionsChange:function(){},items:[],onLoadingMapPlugins:function(){},onMapTypeLoaded:function(){},pluginsCreator:function(e,t){return Promise.all([r(419137)("./"+e+"/index"),r(862769)("./"+e+"/plugins/index")]).then((function(r){var n,o,i=(n=r,o=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(n,o)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].default,a=(0,Z.connect)((function(e){return{projectionDefs:(0,v.pb)(e),mousePosition:(0,v.x9)(e)}}),V()({},{onMapViewChanges:d.o6,onClick:d.FP,onMouseMove:d.ou,onLayerLoading:Ee.Yz,onLayerLoad:Ee.kI,onLayerError:Ee.XG,onWarning:_e.Kp,onMouseOut:d.NE},t),(function(e,t,r){return V()({},r,e,V()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(i.LMap),u=(0,Z.connect)((function(e){var t;return $e($e({},null!==(t=e.draw)&&void 0!==t?t:{}),{},{snappingLayerInstance:(0,We.lM)(e)})}),{onChangeDrawingStatus:He.Yf,onEndDrawing:He.fo,onGeometryChanged:He.Vw,onSelectFeatures:He.KD,onDrawingFeatures:He.uj,onDrawStopped:He.lo,setCurrentStyle:He.PY,toggleSnappingIsLoading:He.sc})(i.DrawSupport||Je),l=(0,Z.connect)((0,w.P1)((function(e){return function(e){return e&&e.box&&e.box.status}(e)}),(function(e){return{status:e}})),{onBoxEnd:q.zZ})(i.BoxSelectionSupport||Je),c=(0,Z.connect)((function(e){return e.highlight||{}}),{updateHighlighted:ee._E})(i.HighlightFeatureSupport||Je),s=(0,Z.connect)((function(e){return{selection:e.selection||{}}}),{changeSelectionState:Ue})(i.SelectionSupport||Je),p=(0,Z.connect)(null,{onWarning:_e.Kp})(i.Layer||Je),f=[],y=(0,Z.connect)((0,w.P1)((function(e){return e.mapPopups&&e.mapPopups.popups||f}),(function(e){return{popups:e}})),{onPopupClose:Ge.hC})(i.PopupSupport||Je);return{Map:a,Layer:p,Feature:i.Feature||Je,tools:{overview:i.Overview||Je,scalebar:i.ScaleBar||Je,draw:u,highlight:c,selection:s,popup:y,box:l},mapType:e}}))}});const It=(0,u.rx)("Map",{component:(0,u.$j)(R,{onResolutionsChange:d.SO,onMapTypeLoaded:d.Mk})((0,Ve.Z)(At)),reducers:{map:$.Z,layers:X.Z,draw:K.Z,box:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;return t.type===q.gd?V()({},e,{status:t.status}):e},highlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.NF:return V()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case ee.F2:return ne(ne({},e),{},{status:t.status});case ee.fu:return ne(ne({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}},maptype:ae.Z,additionallayers:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;switch(r.type){case ue.jJ:var n=pe()({id:r.id,owner:r.owner,actionType:r.actionType,options:r.options},ye()),o=ce()(t.filter((function(e){return e.id===n.id})));return o?t.map((function(e){return e.id===n.id?Pe(Pe({},o),n):Pe({},e)})):[].concat(function(e){if(Array.isArray(e))return Oe(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]);case ue.hn:return t.concat(r.layers);case ue.am:return t.map((function(e){return e.owner===r.owner?Pe(Pe({},e),{},{options:Pe(Pe({},e.options),r.options)}):e}));case ue.oy:var i=r.options,a=r.owner;return t.map((function(e,t){return e.owner===a?Pe(Pe({},e),{},{options:de()(i)&&i[e.id]||ge()(i)&&i[t]||{}}):Pe({},e)}));case ue.yg:var u=r.id,l=r.owner;return l?t.filter((function(e){return e.owner!==l})):t.filter((function(e){return e.id!==u}));case ue.vD:return r.owner?t.filter((function(e){return e.owner!==r.owner})):[];default:return t}}},epics:ht(ht(ht({},ze),nt.Z),(0,rt.Z)(ot.Z)),containers:{Settings:function(){return{tool:a().createElement(B,null),position:2}}}})},392411:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(604206),o=r(727418),i=r.n(o);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[],snapping:!1,snappingIsLoading:!1,snappingLayer:!1},p={edge:!0,vertex:!0,pixelTolerance:10,strategy:"bbox"};const f=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case n.hZ:return i()({},r,{drawStatus:o.status,drawOwner:o.owner,drawMethod:o.method,options:o.options,features:o.features,style:o.style});case n.kD:return i()({},r,{currentStyle:o.currentStyle});case n.DI:return i()({},r,{tempFeatures:o.features});case n.IC:return i()({},r,{tempFeatures:[]});case n.G_:return l(l({},r),{},{snapping:!r.snapping});case n.uB:return l(l({},r),{},{snappingLayer:o.snappingLayer,snappingIsLoading:!1});case n.Rh:return l(l({},r),{},{snappingIsLoading:!r.snappingIsLoading});case n.vU:return l(l({},r),{},{snapConfig:l(l(l({},l(l({},p),(null===(e=o.pluginCfg)||void 0===e?void 0:e.snapConfig)||{})),null!==(t=null==r?void 0:r.snapConfig)&&void 0!==t?t:{}),o.prop&&void 0!==o.value?c({},o.prop,o.value):{})});default:return r}}},345304:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(580416),o=r(782904),i=r(727418),a=r.n(i),u=r(423570),l=r.n(u),c=r(747037),s=r.n(c),p=r(264721),f=r.n(p),y=r(984596),m=r.n(y),d=r(624262);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var S=function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n?t.map((function(t){return s()(t)?t:t.id===n?v(v({},t),{},{nodes:o?[r].concat(h(t.nodes)):[].concat(h(t.nodes),[r])}):v(v({},t),{},{nodes:e(t.nodes,r,n,o)})})):o?[r].concat(h(t)):[].concat(h(t),[r])};const w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flat:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.kM:return"RefreshLayers"===t.control?a()({},e,{refreshError:[]}):e;case n.cX:var r=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{loading:!0}):e}));return a()({},e,{flat:r});case n.x9:var i=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{loading:!1,previousLoadingError:e.loadingError,loadingError:!!t.error&&"Error"}):e}));return a()({},e,{flat:i});case n.vs:var u=t.tilesCount===t.tilesErrorCount,c=(e.flat||[]).map((function(e){return e.id===t.layerId?a()({},e,{previousLoadingError:e.loadingError,loadingError:u?"Error":"Warning"}):e}));return a()({},e,{flat:c});case n.l$:return a()({},e,{refreshing:t.layers,refreshError:[]});case n.CQ:var s=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length})),p=t.layers.map((function(e){return{layer:e.fullLayer.title,error:t.error}}));return a()({},e,{refreshing:s,refreshError:[].concat(h(e.refreshError||[]),h(p))});case n.k3:var y=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length}));return a()({},e,{refreshing:y});case n.Zz:case n.yS:var b=e.flat||[],g=b.reduce((function(e,r){return e||r.id===t.layer&&"background"===r.group}),!1),P=b.map((function(e){return f()(m()(t.layer),e.id)?a()({},e,t.newProperties,t.params?{params:a()({},e.params,t.params)}:{}):"background"===e.group&&g&&t.newProperties&&t.newProperties.visibility?a()({},e,{visibility:!1}):a()({},e)}));return a()({},e,{flat:P});case n.ms:var w=e.flat.map((function(e){var r=e.group||d.tE;return r===t.group||0===r.indexOf("".concat(t.group,"."))?a()({},e,t.newProperties):a()({},e)}));return a()({},e,{flat:w});case n.ih:var j="layers"===t.nodeType?"flat":"groups",E=e[j]||[],T=(0,d.oH)(E,t.node,"expanded",t.status);return a()({},e,O({},j,T));case n.OX:var L=(0,d.Mk)(e.groups||[],t.node),D=L&&L.nodes||t.node===d.oR&&e.groups||null;if(D){var A=t.order.map((function(e){return D[e]})),I=t.node===d.oR?A:(0,d.oH)(e.groups,t.node,"nodes",A),C=t.sortLayers?t.sortLayers(I,e.flat):e.flat;return a()({},e,{groups:I,flat:C})}return e;case n.K$:var _=(0,d.Yt)({layers:e.flat,groups:e.groups},{node:t.node,nodeType:t.nodeType,options:t.options});return v(v(v({},e),_.layers&&{flat:_.layers}),_.groups&&{groups:_.groups});case n.k7:var k=(0,d.tV)({groups:e.groups,layers:e.flat},{node:t.node,index:t.index,groupId:t.groupId});return null===k?e:null!==k?v(v({},e),{},{flat:k.layers,groups:k.groups}):e;case n.sb:if("groups"===t.nodeType){var x=(0,d.pD)(e.groups,t.node),M=e.flat.filter((function(e){return!e.group||e.group!==t.node&&0!==e.group.indexOf(t.node+".")}));return{selected:(0,d.WR)((null==e?void 0:e.selected)||[],null==t?void 0:t.node,!0),flat:M,groups:x}}if("layers"===t.nodeType){var N=t.removeEmpty?(0,d.AZ)((0,d.pD)(e.groups,t.node)):(0,d.pD)(e.groups,t.node),R=e.flat.filter((function(e){return e.id!==t.node}));return a()({},e,{flat:R,groups:N,selected:((null==e?void 0:e.selected)||[]).filter((function(e){return e!==t.node}))})}return e;case n.oE:var Z=(0,d.Cx)(t.layer),F=(e.flat||[]).concat(),z=(e.groups||[]).concat(),G=Z.id?Z:a()({},Z,{id:(0,d.R8)(Z)});F.push(G);var U=G.group||d.tE;"background"!==U&&(z=(0,d.Dv)(z,G.id,U,F,t.foreground));var H=d.lD?(0,d.lD)(z,F):F;return a()({},e,{flat:H,groups:z});case n.qv:var W=(0,d.pD)(e.groups,t.layerId),Y=e.flat.filter((function(e){return e.id!==t.layerId}));return a()({},e,{flat:Y,groups:W});case n.Po:var B,$=l()(),X={id:d.tE,name:d.tE,title:d.tE,expanded:!0,nodes:[]},K=null!==(B=t.parent)&&void 0!==B?B:d.tE,J=(e.groups||[]).find((function(e){return e.id===d.tE}))?e.groups:[X].concat(h(e.groups)),V=S(J,v({id:K+"."+$,title:t.group,name:$,nodes:[],expanded:!0},t.options),K,t.asFirst);return a()({},e,{groups:V});case n.cI:var q=a()({},e.settings,{expanded:!0,node:t.node,nodeType:t.nodeType,options:t.options});return a()({},e,{settings:q,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.g6:var Q=a()({},e.settings,{expanded:!1,node:null,nodeType:null,options:{}});return a()({},e,{settings:Q,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.I4:var ee=a()({},e.settings&&e.settings.options,t.options),te=a()({},e.settings,{options:ee});return a()({},e,{settings:te});case n.sH:return a()({},e,{flat:[],groups:[],selected:[]});case n.c7:return v(v({},e),{},{selected:(0,d.WR)((null==e?void 0:e.selected)||[],null==t?void 0:t.id,null==t?void 0:t.ctrlKey),settings:{expanded:!1,node:null,nodeType:null,options:{}},layerMetadata:{expanded:!1,metadataRecord:{},maskLoading:!1}});case n._7:return a()({},e,{filter:t.text||""});case n.eF:var re=a()({},e.layerMetadata,{metadataRecord:t.metadataRecord,expanded:!0,maskLoading:t.maskLoading});return a()({},e,{layerMetadata:re});case n.O6:var ne=a()({},e.layerMetadata,{metadataRecord:{},expanded:!1});return a()({},e,{layerMetadata:ne});default:return e}}},601321:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(801550),o=r(275982),i=r(727418),a=r.n(i),u=r(552259),l=r(916651);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var s=["type"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const d=function(){var e,t,r,i,c,p,d,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{eventListeners:{}},g=arguments.length>1?arguments[1]:void 0;switch(g.type){case n.pP:g.type;var v=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(g,s);return v.zoom=isNaN(v.zoom)?1:v.zoom,a()({},b,v);case n.N7:return a()({},b,{mousePointer:g.pointer});case o.nk:return a()({},{eventListeners:{}});case n.mq:return a()({},b,{zoom:g.zoom,mapStateSource:g.mapStateSource});case n.JJ:return a()({},b,{limits:{restrictedExtent:g.restrictedExtent,crs:g.crs,minZoom:g.minZoom}});case n.Li:return a()({},b,{projection:g.crs});case n.OW:if(g.scales){var O=b&&b.mapOptions&&b.mapOptions.view&&b.mapOptions.view.DPI||null,h=u.ZP.getResolutionsForScales(g.scales,b&&b.projection||"EPSG:4326",O);return a()({},b,{mapOptions:a()({},b&&b.mapOptions,{view:a()({},b&&b.mapOptions&&b.mapOptions.view,{resolutions:h,scales:g.scales})})})}if(b&&b.mapOptions&&b.mapOptions.view&&b.mapOptions.view&&b.mapOptions.view.resolutions){var P=a()({},b);return P.mapOptions=a()({},P.mapOptions),P.mapOptions.view=a()({},P.mapOptions.view),delete P.mapOptions.view.resolutions,0===Object.keys(P.mapOptions.view).length&&delete P.mapOptions.view,0===Object.keys(P.mapOptions).length&&delete P.mapOptions,P}return b;case n.nZ:return a()({},b,{resolutions:g.resolutions});case n.IL:return a()({},b,{center:l.default.reproject(g.pos,g.crs,"EPSG:4326"),zoom:g.zoom,mapStateSource:null});case n.uv:var S=l.default.reproject(g.center,g.center.crs||"EPSG:4326","EPSG:4326");return a()({},b,{center:S,mapStateSource:null});case n.ZO:return a()({},b,{mapStateSource:g.mapStateSource,style:g.style,resize:b.resize?b.resize+1:1});case n.Eu:return a()({},b,{resize:b.resize?b.resize+1:1});case n.Um:var w=a()({},b.bbox,{rotation:g.rotation});return a()({},b,{bbox:w,mapStateSource:g.mapStateSource});case n.Ls:return a()({},b,{version:g.version});case n.YD:return a()({},b,{eventListeners:a()({},b.eventListeners||{},y({},g.eventName,[].concat((d=b.eventListeners&&b.eventListeners[g.eventName]||[],function(e){if(Array.isArray(e))return m(e)}(d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[g.toolName])))});case n.GI:var j=b;if(null!=b&&b.eventListeners){var E=(b.eventListeners&&b.eventListeners[g.eventName]||[]).filter((function(e){return e!==g.toolName}))||[];j=a()({},b,{eventListeners:a()({},b.eventListeners,y({},g.eventName,E))})}return j;case n.eh:if(g&&g.orientation&&(g.orientation.center||g.orientation.marker)){var T,L,D,A,I=(null==g||null===(T=g.orientation)||void 0===T||null===(L=T.center)||void 0===L?void 0:L.split(","))||(null==g||null===(D=g.orientation)||void 0===D||null===(A=D.marker)||void 0===A?void 0:A.split(",")),C=I&&I[0],_=I&&I[1],k=g.orientation.zoom,x=g.orientation.heading,M=g.orientation.pitch,N=g.orientation.roll;return a()({},b,{orientate:{x:C,y:_,z:k,heading:x,pitch:M,roll:N}})}return null;case n.$j:var R=parseFloat(null==g||null===(e=g.data)||void 0===e?void 0:e.heading),Z=parseFloat(null==g||null===(t=g.data)||void 0===t?void 0:t.pitch),F=parseFloat(null==g||null===(r=g.data)||void 0===r?void 0:r.roll);return{zoom:parseFloat(null==g||null===(i=g.data)||void 0===i?void 0:i.zoom),center:{x:parseFloat(null==g||null===(c=g.data)||void 0===c?void 0:c.coordinate[0]),y:parseFloat(null==g||null===(p=g.data)||void 0===p?void 0:p.coordinate[1])},viewerOptions:{orientation:{heading:R,pitch:Z,roll:F}}};case n.bJ:return f(f({},b),{},{mapOptions:f(f({},b.mapOptions),g.configUpdate)});default:return b}}},556874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(213652),o=r(801550),i=r(881808),a=r(898631);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:(0,a._1)()},u=arguments.length>1?arguments[1]:void 0;switch(u.type){case i.ok:var l=null==u||null===(e=u.config)||void 0===e||null===(t=e.map)||void 0===t?void 0:t.visualizationMode;return c(c({},r),{},{mapType:(0,a._1)(l)});case n.Wz:return c(c({},r),{},{mapType:u.mapType});case n.UA:return c(c({},r),{},{mapType:(0,a._1)(u.visualizationMode)});case o.e$:return c(c({},r),{},{loaded:c(c({},r.loaded),{},s({},u.mapType,u.loaded))});default:return r}}},120096:(e,t,r)=>{"use strict";r.d(t,{lM:()=>f,jP:()=>y,Qp:()=>m,l:()=>d,$N:()=>b});var n=r(227361),o=r.n(n),i=r(513218),a=r.n(i),u=r(675110),l=r(731255),c=r(784715),s=r(624262),p=r(308316),f=function(e){var t,r;return!(null==e||null===(t=e.draw)||void 0===t||!t.snappingLayer)&&(null!==(r=(0,u.CA)(e,e.draw.snappingLayer))&&void 0!==r?r:(0,u.iv)(e,e.draw.snappingLayer))},y=function(e){return o()(e,"draw.snapping",!1)},m=function(e){return o()(e,"draw.snappingIsLoading",!1)},d=function(e){return o()(e,"draw.snapConfig",!1)},b=(0,c.oz)((function(e,t){return e===t||a()(e)&&a()(t)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.title)===(null==t?void 0:t.title)&&(null==e?void 0:e.visibility)===(null==t?void 0:t.visibility)}))([u.l2,u.KL,l.Li,f,d,p.Pz],(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=null==n?void 0:n.id,u=null==r?void 0:r.id,l=t.filter((function(e){var t;return(null!==(t=null==o?void 0:o.additionalLayers)&&void 0!==t?t:[]).includes(e.id)})).map((function(e){return e.options})).concat(e);return(u?[{value:u,label:(0,s.in)(r,i),active:u===a}]:[]).concat(l.map((function(e){var t;return!(e.id===u||!["wms","wfs","vector"].includes(null==e?void 0:e.type)||"wms"===(null==e?void 0:e.type)&&"wfs"!==(null==e||null===(t=e.search)||void 0===t?void 0:t.type)||"background"===e.group||!e.visibility)&&{value:e.id,label:(0,s.in)(e,i),active:e.id===a}})).filter(Boolean))}))},512817:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .mapErrorMessage {\n    font-size: 16px;\n    color: red;\n}\n",""]);const i=o}}]);