(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[3498],{100604:(e,t,r)=>{"use strict";var n=r(608010),o=r(438225),i=r(541274);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,n.registerType)("arcgis",{create:function(e){return new o.Z({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new i.Z({params:u(u({},void 0!==e.name&&{LAYERS:"show:".concat(e.name)}),e.format&&{format:e.format}),url:e.url})})},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:function(){return null}})},447098:(e,t,r)=>{"use strict";var n=r(608010),o=r(438225),i=r(683622),a=function e(t,r){t.getSource&&"error"===t.getSource().getState()&&r.onError&&r.onError(t),t.getSource&&"loading"===t.getSource().getState()&&setTimeout(e.bind(null,t,r),1e3)};n.default.registerType("bing",{create:function(e){var t=e.apiKey,r=e.maxNativeZoom||19,n=new o.Z({msId:e.id,preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new i.Z({key:t,imagerySet:e.name,maxZoom:r})});return setTimeout(a.bind(null,n,e),1e3),n},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},isValid:function(e){return!e.getSource||"error"!==e.getSource().getState()}})},983268:(e,t,r)=>{"use strict";var n=r(608010),o=r(618446),i=r.n(o),a=r(227361),l=r.n(a),u=r(307454),s=r(9602),c=r(774565);function f(e){return new s.Z({msId:e.id,style:l()(e,"style.body"),opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,source:new u.Z({convertToRGB:"auto",sources:e.sources,wrapX:!0}),zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution})}n.default.registerType("cog",{create:f,update:function(e,t,r,n){return t.srs===r.srs&&i()(t.style,r.style)&&i()(t.sources,r.sources)?(r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null):f(t)},isCompatible:function(e){var t;return(0,c.LZ)(null==e||null===(t=e.sourceMetadata)||void 0===t?void 0:t.crs)}})},990349:(e,t,r)=>{"use strict";var n=r(608010),o=r(701469),i=r.n(o),a=r(233044),l=r(503901),u=r(438225),s=r(991587),c=r(908591);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e){try{var t=function(e,t){var r=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,r.getView().getZoom())}(this,e),r=p(t,3),n=r[0],o=r[1],a=r[2],u=this.getSource().getTileGrid(),s=u.getTileSize(),c=u.getTileCoordExtent(t),f=i()(s)?s:[s,s],m=(0,l.yQ)((0,l.Bi)(o,a,n,this.get("msId")),(0,l.bg)(e,c,f),f[0],this.get("nodata"),this.get("littleEndian"));return m.available?m.value:""}catch(e){return""}}var g=function(e,t){var r,n,o=(0,c.mb)(i()(e.url)?e.url:[e.url]),f=(0,c.aD)(e)||{};o.forEach((function(t){return(0,a.addAuthenticationParameter)(t,f,e.securityToken)}));var m=new u.Z({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new s.Z({attributions:(0,c.tR)(e.credits),urls:o,crossOrigin:e.crossOrigin,params:y(y({},f),{},{format:(null==e?void 0:e.format)||"application/bil16"}),tileGrid:(0,c.$G)(e,t),tileLoadFunction:function(t,r){var n=(0,c.nf)(e.forceProxy,r),o=t.getTileCoord();t.getImage().src="";var i=p(o,3),a=i[0],u=i[1],s=i[2];(0,l.qR)(n,o,(0,l.Bi)(u,s,a,e.id))}})});return m.set("map",t),m.set("nodata",e.nodata),m.set("littleEndian",null!==(r=null!==(n=null==e?void 0:e.littleEndian)&&void 0!==n?n:null==e?void 0:e.littleendian)&&void 0!==r&&r),m.set("getElevation",v.bind(m)),t.get("msElevationLayers")||t.set("msElevationLayers",[]),t.get("msElevationLayers").push(m),m.on("propertychange",(function r(n){"map"===n.key&&null===n.target.get(n.key)&&(t.set("msElevationLayers",t.get("msElevationLayers").filter((function(t){return t.get("msId")!==e.id}))),m.un("propertychange",r))})),m};n.default.registerType("elevation",{create:function(e,t){return"wms"===e.provider?g(e,t):null}})},573431:(e,t,r)=>{"use strict";var n,o,i=r(608010),a=r(124852),l=r.n(a),u=r(218672),s={},c="ontouchstart"in window,f=c?"touchstart":"mousedown",m=c?"touchmove":"mousemove",y=c?"touchend":"mouseup";function d(){var e,t;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t?void 0:t.maps}i.default.registerType("google",{create:function(e,t,r){if(document.getElementById(r+"gmaps")){var o=d();if(!o)return null;n||(n={HYBRID:o.MapTypeId.HYBRID,SATELLITE:o.MapTypeId.SATELLITE,ROADMAP:o.MapTypeId.ROADMAP,TERRAIN:o.MapTypeId.TERRAIN}),s[r]||(s[r]=new o.Map(document.getElementById(r+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,minZoom:e.minZoom,maxZoom:e.maxZoom})),s[r].setMapTypeId(n[e.name]);var i=document.getElementById(r+"gmaps"),a=function(){if(s[r]&&"hidden"!==i.style.visibility){var e=(0,u.vs)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");s[r].setCenter(new o.LatLng(e[1],e[0]))}},l=function(){s[r]&&"hidden"!==i.style.visibility&&s[r].setZoom(t.getView().getZoom())},c=function(){if("hidden"!==i.style.visibility){var e=180*t.getView().getRotation()/Math.PI;i.style.transform="rotate("+e+"deg)",o.event.trigger(s[r],"resize")}},p=function(){var e=t.getView();e.on("change:center",a),e.on("change:resolution",l),e.on("change:rotation",c)};t.on("change:view",p),p(),a(),l();var b=t.getViewport(),v=document.getElementById(r+"gmaps").style.transform,g=!1,h=!1;b.addEventListener(f,(function(){g=!0})),b.addEventListener(y,(function(){h&&g&&function(){var e=document.getElementById(r+"gmaps").style.transform;if(s[r]&&e!==v&&-1!==e.indexOf("rotate")){var n=function(e,t){var r=t[0],n=t[1],o=[[r/2,n/2],[-r/2,n/2],[-r/2,-n/2],[r/2,-n/2]].map((function(t){return r=t,n=e*Math.PI/180,o=r[0],i=r[1],[o*Math.cos(n)-i*Math.sin(n),o*Math.sin(n)+i*Math.cos(n)];var r,n,o,i})),i=o.map((function(e){return e[0]})),a=o.map((function(e){return e[1]})),l=Math.max.apply(null,i),u=Math.min.apply(null,i),s=Math.max.apply(null,a),c=Math.min.apply(null,a),f=Math.abs(s)+Math.abs(c);return{width:Math.abs(l)+Math.abs(u),height:f}}(-parseFloat(e.match(/[\+\-]?\d+\.?\d*/i)[0]),t.getSize());i.style.width=n.width+"px",i.style.height=n.height+"px",i.style.left=Math.round((t.getSize()[0]-n.width)/2)+"px",i.style.top=Math.round((t.getSize()[1]-n.height)/2)+"px",o.event.trigger(s[r],"resize"),a()}}(),v=document.getElementById(r+"gmaps").style.transform,g=!1})),b.addEventListener(m,(function(){h=g}))}return null},render:function(e,t,r){o||(o=e.name);var i={zIndex:0};if(!0===e.visibility){var a=document.getElementById(r+"gmaps");a&&(a.style.visibility="visible"),s[r]&&n&&(s[r].setMapTypeId(n[e.name]),s[r].setTilt(0))}else i.visibility="hidden";if(o===e.name){var u=document.getElementById(r+"gmaps");return u&&(u.style.visibility=e.visibility?"visible":"hidden"),l().createElement("div",{id:r+"gmaps",className:"fill",style:i})}return null},update:function(e,t,r,n,o){if(s[o]){var i=d();if(!r.visibility&&t.visibility){var a=n.getView(),l=(0,u.vs)(a.getCenter(),"EPSG:3857","EPSG:4326");s[o].setCenter(new i.LatLng(l[1],l[0])),s[o].setZoom(a.getZoom())}!r.minZoom&&t.minZoom&&s[o].setOptions({minZoom:t.minZoom}),!r.maxZoom&&t.maxZoom&&s[o].setOptions({maxZoom:t.maxZoom})}},remove:function(e,t,r){o===e.name&&(o=void 0,delete s[r])}})},430189:(e,t,r)=>{"use strict";var n=r(608010),o=r(378426),i=r(397208),a=r(623068),l=r(898185),u=r(944538),s=r(752043),c=r(15265),f=r(120767),m=r(831219),y=r(315565),d=r(473392),p=r(973410),b=r(421915),v=r(921882),g=r(218672),h=r(435415),S=r(984023),x=r(423923);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}function E(e,t,r){return t=T(t),function(e,t){if(t&&("object"==w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var Z=new f.Z({color:"rgba(0,0,0,0.2)"}),M=new m.ZP({stroke:new f.Z({color:"rgba(0,0,0,1)"}),fill:new l.Z({color:"rgba(255,255,255,1)"})}),z=new y.Z({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.Z({color:"rgba(0,0,0,1)"}),stroke:new f.Z({color:"rgba(255,255,255,1)",width:3})}),C=new y.Z({font:"12px Calibri,sans-serif",textAlign:"end",fill:new l.Z({color:"rgba(0,0,0,1)"}),stroke:new f.Z({color:"rgba(255,255,255,1)",width:3})});const k=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e||{},a=Object.assign({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},n);return delete a.maxLines,delete a.strokeStyle,delete a.targetSize,delete a.showLabels,delete a.showFrame,delete a.frameRatio,delete a.frameStyle,delete a.xLabelFormatter,delete a.yLabelFormatter,delete a.xLabelPosition,delete a.yLabelPosition,delete a.xLabelStyle,delete a.yLabelStyle,delete a.intervals,(r=E(this,t,[a])).gridProjection_=(0,g.U2)(void 0!==n.projection?n.projection:"EPSG:4326"),r.projection_=null,r.maxY_=1/0,r.maxX_=1/0,r.minY_=-1/0,r.minX_=-1/0,r.maxYP_=1/0,r.maxXP_=1/0,r.minYP_=-1/0,r.minXP_=-1/0,r.targetSize_=void 0!==n.targetSize?n.targetSize:100,r.maxLines_=void 0!==n.maxLines?n.maxLines:100,r.meridians_=[],r.parallels_=[],r.strokeStyle_=void 0!==n.strokeStyle?n.strokeStyle:Z,r.fromTargetTransform_=void 0,r.toTargetTransform_=void 0,r.projectionCenterTarget_=null,r.meridiansLabels_=null,r.parallelsLabels_=null,r.frameStyle_=null,r.frame_=null,r.frameRatio_=0,!0===n.showFrame&&(r.frameStyle_=void 0!==n.frameStyle?n.frameStyle:M,r.frameRatio_=void 0!==n.frameRatio?n.frameRatio:.1),!0===n.showLabels&&(r.xLabelFormatter_=(0,x.A4)(n.projection||"EPSG:4326",n.xLabelFormatter),r.yLabelFormatter_=(0,x.u3)(n.projection||"EPSG:4326",n.yLabelFormatter),r.xLabelPosition_=void 0===n.xLabelPosition?0:n.xLabelPosition,r.yLabelPosition_=void 0===n.yLabelPosition?1:n.yLabelPosition,r.xLabelStyleBase_=new m.ZP({text:void 0!==n.xLabelStyle?n.xLabelStyle.clone():z}),r.xLabelStyle_=function(e){var t=e.get("graticule_label");return r.xLabelStyleBase_.getText().setText(t),r.xLabelStyleBase_},r.yLabelStyleBase_=new m.ZP({text:void 0!==n.yLabelStyle?n.yLabelStyle.clone():C}),r.yLabelStyle_=function(e){var t=e.get("graticule_label");return r.yLabelStyleBase_.getText().setText(t),r.yLabelStyleBase_},r.meridiansLabels_=[],r.parallelsLabels_=[],r.addEventListener(i.Z.POSTRENDER,r.drawLabels_.bind(r))),r.intervals_=void 0!==n.intervals?n.intervals:(0,S.bL)(n.projection||"EPSG:4326"),r.setSource(new p.Z({loader:r.loaderFunction.bind(r),strategy:r.strategyFunction.bind(r),features:new o.Z,overlaps:!1,useSpatialIndex:!1,wrapX:n.wrapX})),r.featurePool_=[],r.lineStyle_=new m.ZP({stroke:r.strokeStyle_}),r.loadedExtent_=null,r.renderedExtent_=null,r.renderedResolution_=null,r.setRenderOrder(null),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(t,e),r=t,(n=[{key:"strategyFunction",value:function(e,t){var r=e.slice();return this.projection_&&this.getSource().getWrapX()&&(0,b.Cf)(r,this.projection_),this.loadedExtent_&&((0,b.iW)(this.loadedExtent_,r,t)?r=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[r]}},{key:"loaderFunction",value:function(e,t,r){this.loadedExtent_=e;var n=this.getSource(),o=this.getExtent()||[-1/0,-1/0,1/0,1/0],i=(0,b.Ed)(o,e);if(!(this.renderedExtent_&&(0,b.fS)(this.renderedExtent_,i)&&this.renderedResolution_===t||(this.renderedExtent_=i,this.renderedResolution_=t,(0,b.xb)(i)))){var l=(0,b.qg)(i),u=t*t/4;(!this.projection_||!(0,g.OP)(this.projection_,r))&&this.updateProjectionInfo_(r),this.createGraticule_(i,l,t,u);var s,c=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(c+=this.meridians_.length),this.parallelsLabels_&&(c+=this.parallels_.length);c>this.featurePool_.length;)s=new a.Z,this.featurePool_.push(s);var f=n.getFeaturesCollection();f.clear();var m,y,d=0;for(m=0,y=this.meridians_.length;m<y;++m)(s=this.featurePool_[d++]).setGeometry(this.meridians_[m]),s.setStyle(this.lineStyle_),f.push(s);for(m=0,y=this.parallels_.length;m<y;++m)(s=this.featurePool_[d++]).setGeometry(this.parallels_[m]),s.setStyle(this.lineStyle_),f.push(s)}}},{key:"drawLabels_",value:function(e){var t=e.frameState.viewState.rotation,r=e.frameState.viewState.resolution,n=e.frameState.size,o=e.frameState.extent,i=(0,b.qg)(o),a=o;if(t){var l=n[0]*r,u=n[1]*r;a=[i[0]-l/2,i[1]-u/2,i[0]+l/2,i[1]+u/2]}var s=0,c=0,f=this.yLabelPosition_<.5,m=this.projection_.getExtent(),y=(0,b.dz)(m);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,b.r4)(m,o)&&(s=Math.floor((o[0]-m[0])/y),c=Math.ceil((o[2]-m[2])/y),f=f!==Math.abs(t)>Math.PI/2);var d=(0,h.u3)(e);this.frame_&&(d.setFillStrokeStyle(this.frameStyle_.getFill(),this.frameStyle_.getStroke()),d.drawGeometry(this.frame_));for(var p=s;p<=c;++p){var v,g=this.meridians_.length+this.parallels_.length,S=void 0,x=void 0,w=void 0,O=void 0;if(this.meridiansLabels_)for(x=0,w=this.meridiansLabels_.length;x<w;++x){var P=this.meridians_[x];if(t||0!==p){var R=P.clone();R.translate(p*y,0),R.rotate(-t,i),(O=this.getMeridianPoint_(R,a,x)).rotate(t,i)}else O=this.getMeridianPoint_(P,o,x);(S=this.featurePool_[g++]).setGeometry(O),S.set("graticule_label",this.meridiansLabels_[x].text),d.drawFeature(S,this.xLabelStyle_(S))}if((null===(v=this.parallelsLabels_)||void 0===v?void 0:v.length)>0&&(p===s&&f||p===c&&!f))for(x=0,w=this.parallels_.length;x<w;++x){var j=this.parallels_[x];if(t||0!==p){var _=j.clone();_.translate(p*y,0),_.rotate(-t,i),(O=this.getParallelPoint_(_,a,x)).rotate(t,i)}else O=this.getParallelPoint_(j,o,x);(S=this.featurePool_[g++]).setGeometry(O),S.set("graticule_label",this.parallelsLabels_[x].text),d.drawFeature(S,this.yLabelStyle_(S))}}}},{key:"createGraticule_",value:function(e,t,r,n){var o=(0,S.ZS)(this.intervals_,this.projectionCenterTarget_,this.targetSize_,r,this.fromTargetTransform_),i=(0,S.uI)(o,this.projection_.getCode(),this.gridProjection_.getCode(),[e[0],e[1],e[2],e[3]],[this.minXP_,this.minYP_,this.maxXP_,this.maxYP_],t,n,this.maxLines_,!!this.xLabelFormatter_,this.xLabelFormatter_,this.yLabelFormatter_,this.xLabelPosition_,this.yLabelPosition_,this.frameRatio_,{center:t,resolution:r,interval:o});this.meridians_=i.xLines.map((function(e){return new u.Z(e,"XY")})),this.parallels_=i.yLines.map((function(e){return new u.Z(e,"XY")})),this.meridiansLabels_=i.xLabels.map((function(e){return P(P({},e),{},{geom:new s.Z(e.geom)})})),this.parallelsLabels_=i.yLabels.map((function(e){return P(P({},e),{},{geom:new s.Z(e.geom)})})),this.frame_=i.frame?new c.ZP([i.frame.exterior,i.frame.interior],"XY"):null}},{key:"getMeridianPoint_",value:function(e,t,r){var n=e.getFlatCoordinates(),o=1,i=n.length-1;n[o]>n[i]&&(o=i,i=1);var a=Math.max(t[1],n[o]),l=Math.min(t[3],n[i]),u=(0,v.uZ)(t[1]+Math.abs(t[1]-t[3])*this.xLabelPosition_,a,l),s=[n[o-1]+(n[i-1]-n[o-1])*(u-n[o])/(n[i]-n[o]),u],c=this.meridiansLabels_[r].geom;return c.setCoordinates(s),c}},{key:"getMeridians",value:function(){return this.meridians_}},{key:"getParallelPoint_",value:function(e,t,r){var n=e.getFlatCoordinates(),o=0,i=n.length-2;n[o]>n[i]&&(o=i,i=0);var a=Math.max(t[0],n[o]),l=Math.min(t[2],n[i]),u=(0,v.uZ)(t[0]+Math.abs(t[0]-t[2])*this.yLabelPosition_,a,l),s=[u,n[o+1]+(n[i+1]-n[o+1])*(u-n[o])/(n[i]-n[o])],c=this.parallelsLabels_[r].geom;return c.setCoordinates(s),c}},{key:"getParallels",value:function(){return this.parallels_}},{key:"updateProjectionInfo_",value:function(e){var t=this.gridProjection_||(0,g.U2)("EPSG:4326"),r=e.getWorldExtent(),n=e.getExtent();this.maxY_=r[3],this.maxX_=r[2],this.minY_=r[1],this.minX_=r[0],this.maxYP_=n[3],this.maxXP_=n[2],this.minYP_=n[1],this.minXP_=n[0],this.fromTargetTransform_=(0,g.Ck)(t,e),this.toTargetTransform_=(0,g.Ck)(e,t),this.projectionCenterTarget_=this.toTargetTransform_((0,b.qg)(e.getExtent())),this.projection_=e}}])&&j(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(d.Z);var A=r(393546);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){return new k({zIndex:1/0,strokeStyle:e.style?(0,A.C2)(e).getStroke():new f.Z({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),xLabelStyle:e.labelXStyle?(0,A.C2)({style:F(F({},e.labelXStyle),{},{verticalAlign:e.labelXStyle.verticalAlign||"bottom",offsetY:0}),properties:{isText:!0}})[0].getText():new y.Z({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.Z({color:"rgba(0,0,0,1)"}),stroke:new f.Z({color:"rgba(255,255,255,1)",width:3})}),yLabelStyle:e.labelYStyle?(0,A.C2)({style:F(F({},e.labelYStyle),{},{textAlign:e.labelYStyle.textAlign||"end",offsetY:0}),properties:{isText:!0}})[0].getText():new y.Z({font:"12px Calibri,sans-serif",textAlign:"end",fill:new l.Z({color:"rgba(0,0,0,1)"}),stroke:new f.Z({color:"rgba(255,255,255,1)",width:3})}),showLabels:e.labels||!1,showFrame:e.frame||!1,frameRatio:e.frameRatio,frameStyle:e.frameStyle?(0,A.C2)({style:e.frameStyle}):new m.ZP({stroke:new f.Z({color:"rgba(0,0,0,1)"}),fill:new l.Z({color:"rgba(255,255,255,1)"})}),projection:e.srs,xLabelFormatter:e.xLabelFormatter,yLabelFormatter:e.yLabelFormatter})}n.default.registerType("graticule",{create:N,update:function(e,t,r,n){return t.srs!==r.srs?N(t):null}})},905348:(e,t,r)=>{"use strict";r(608010).default.registerType("mapquest",{create:function(e){return e.onError(),!1},isValid:function(){return!1}})},739075:(e,t,r)=>{"use strict";var n=r(608010),o=r(751635),i=r(438225);n.default.registerType("osm",{create:function(e){return new i.Z({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new o.Z,minResolution:e.minResolution,maxResolution:e.maxResolution})},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},123281:(e,t,r)=>{"use strict";var n=r(608010),o=r(798143),i=r.n(o),a=r(193409),l=function e(t){if(0!==t.length)for(var r=0;r<t.length;r++){var n=t.item(r);n.removeAttribute("data-reactid"),e(n.children||[])}};n.default.registerType("overlay",{create:function(e,t){var r=function(e,t){var r=e.cloneNode(!0);r.id=t.id+"-overlay",r.className=(t.className||e.className)+"-overlay",r.removeAttribute("data-reactid"),l(r.children||[]);var n=t.closeClass||"close";if(t.onClose&&1===r.getElementsByClassName(n).length){var o=r.getElementsByClassName(n)[0];i().add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}if(t.onLink)for(var a=r.getElementsByTagName("a"),u=0;u<a.length;u++)i().add(a[u],"click",t.onLink);return r}(document.getElementById(e.id),e);document.body.appendChild(r);var n=new a.Z({id:e.id,element:r,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(n),{detached:!0,remove:function(){t.removeOverlay(n)}}}})},960470:(e,t,r)=>{"use strict";var n=r(227361),o=r.n(n),i=r(608010),a=r(836365),l=r(408930),u=r(438225);i.default.registerType("tms",{create:function(e){return new u.Z(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()(e,"bbox.bounds",{}),r=t.minx,n=t.miny,i=t.maxx,u=t.maxy,s={projection:e.srs,url:"".concat(e.tileMapUrl,"/{z}/{x}/{-y}.").concat(e.extension),attributions:e.attribution?[e.attribution]:[]},c=new a.Z(s),f=c.getTileGrid();if(e.forceDefaultTileGrid){var m=f.getExtent(),y=[m[0],m[1]],d=new l.Z({origin:y,extent:e.bbox&&[r,n,i,u],resolutions:f.getResolutions(),tileSize:e.tileSize});c.setTileGridForProjection(e.srs,d),"EPSG:3857"===e.srs&&c.setTileGridForProjection("EPSG:900913",d)}else e.tileSets&&c.setTileGridForProjection(e.srs,new l.Z({origin:e.origin,extent:e.bbox&&[r,n,i,u],resolutions:e.tileSets.map((function(e){return e.resolution})),tileSize:e.tileSize}));return{msId:e.id,extent:e.bbox&&[r,n,i,u],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:c,minResolution:e.minResolution,maxResolution:e.maxResolution}}(e))},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},586714:(e,t,r)=>{"use strict";var n=r(727418),o=r.n(n),i=r(608010),a=r(45992),l=r(916651),u=r(218056),s=r(836365),c=r(438225);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}i.default.registerType("tileprovider",{create:function(e){var t=f(a.Z.getLayerConfig(e.provider,e),2),r=t[0],n=t[1];return n.url=r,new c.Z(function(e){var t,r,n,i,a,c,m,y,d,p=e.url.match(/(\{s\})/)?(0,u.Um)(e):[(0,u.XK)(e.url,e)],b=o()({},{urls:p,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),v=new s.Z(b);return o()({},{msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:v,minResolution:e.minResolution,maxResolution:e.maxResolution},e.bounds?{extent:(t=e.bounds,r=e.srs?e.srs:"EPSG:3857",n=f(t,2),i=f(n[0],2),a=i[0],c=i[1],m=f(n[1],2),y=m[0],d=m[1],l.default.reprojectBbox([c,a,d,y],"EPSG:4326",l.default.normalizeSRS(r)))}:{})}(n))},update:function(e,t,r){r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},437420:(e,t,r)=>{"use strict";var n=r(608010),o=r(393546),i=r(618446),a=r.n(i),l=r(973410),u=r(473392),s=r(904679);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n.default.registerType("vector",{create:function(e,t){var r=new l.Z({features:[],useSpatialIndex:!1}),n=new u.Z({msId:e.id,source:r,visible:!1!==e.visibility,zIndex:e.zIndex,opacity:e.opacity,minResolution:e.minResolution,maxResolution:e.maxResolution});return(0,o.C2)((0,s.p)(m(m({},e),{},{asPromise:!0}))).then((function(r){r&&(r.__geoStylerStyle?r({map:t,features:e.features}).then((function(e){n.setStyle(e)})):n.setStyle(r))})),n},update:function(e,t,r,n){var i=r.crs||r.srs||"EPSG:3857",l=t.crs||t.srs||"EPSG:3857";l!==i&&e.getSource().forEachFeature((function(e){e.getGeometry().transform(i,l)}));var u=!a()(r.features,t.features),c=!a()(r.style,t.style),f=r.styleName!==t.styleName;(c||f||u)&&(0,o.C2)((0,s.p)(m(m({},t),{},{asPromise:!0}))).then((function(r){r&&(r.__geoStylerStyle?r({map:n,features:t.features}).then((function(t){e.setStyle(t)})):e.setStyle(r))})),r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:function(){return null}})},503690:(e,t,r)=>{"use strict";var n=r(91175),o=r.n(n),i=r(472500),a=r.n(i),l=r(916651),u=r(552259),s=r(608010),c=r(233044),f=r(218672),m=r(421915),y=r(408930),d=r(949110),p=r(216969),b=r(404780),v=r(333358),g=r(429122);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t=l.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),r=(0,f.U2)(t),n=r.getMetersPerUnit(),i=o()(e.tilingSchemes&&e.tilingSchemes.schemes&&e.tilingSchemes.schemes.filter((function(e){return e.supportedCRS===t})))||{},s=i.identifier,h=i.tileMatrix,S=i.boundingBox,w=h&&h.map((function(e){return e.scaleDenominator})),R=u.ZP.getResolutions(),j=e.resolutions||w&&w.map((function(e){return 28e-5*e/n}))||R,_="ne"===r.getAxisOrientation().substr(0,2),E=h&&h.map((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).topLeftCorner})).map((function(){var e,t,r=(t=2,function(e){if(Array.isArray(e))return e}(e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1];return _?[o,n]:[n,o]})),L=h&&h.map((function(e){return[e.tileWidth,e.tileHeight]})),T=e.bbox,I=T?(0,m.Ne)([parseFloat(T.bounds.minx),parseFloat(T.bounds.miny),parseFloat(T.bounds.maxx),parseFloat(T.bounds.maxy)],(0,f.Ck)(T.crs,e.srs)):null,Z=S&&S.lowerCorner&&S.upperCorner?[].concat(O(S.lowerCorner),O(S.upperCorner)):null,M=new y.Z({extent:Z,minZoom:0,origins:E,origin:E?void 0:[20037508.3428,-20037508.3428],resolutions:j,tileSizes:L,tileSize:L?void 0:[256,256]}),z=(e.url||"").replace(/\{tilingSchemeId\}/,s).replace(/\{level\}/,"{z}").replace(/\{row\}/,"{y}").replace(/\{col\}/,"{x}"),C={};(0,c.addAuthenticationParameter)(z,C,e.securityToken);var k=decodeURI(z),A=a().format({query:x({},C)}),D=(0,v.z)(e.format)&&g.y[e.format]||b.Z,G=new p.Z({format:new D({dataProjection:t,layerName:"_layer_"}),tileGrid:M,url:k+A}),F=new d.Z({extent:I,msId:e.id,source:G,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution});return(0,g.b)(e.vectorStyle,F),F};s.default.registerType("wfs3",{create:j,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs?j(t):(r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null)},render:function(){return null}})},873576:(e,t,r)=>{"use strict";var n=r(608010),o=r(624262),i=r(393546),a=r(973410),l=r(473392),u=r(880161),s=r(169141),c=r(432420),f=r(143378),m=r(838848),y=r(904679);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e,t){return function(r,n,i){var a,l,u,s=i.getCode(),y=[],d=function(){e.removeLoadedExtent(r),e.dispatchEvent("vectorerror")};if(t.serverType===o.z$.NO_VENDOR)if((0,m.si)(t))a=new Promise((function(e,t){t()}));else{if("bbox"===(null==t?void 0:t.strategy)){var p=(u=4,function(e){if(Array.isArray(e))return e}(l=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(l,u)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());y=[{spatialField:{operation:"BBOX",geometry:{projection:s,extent:[[p[0],p[1],p[2],p[3]]]}}}]}a=(0,c.k2)(t,{filters:y,proj:s},(0,m.iE)(t))}else{var v=(0,f.v)(t),h=(0,m.iE)(t);a=(0,c.Bm)(t.url,t.name,b({outputFormat:"application/json",srsname:s},v),h)}a.then((function(r){200===r.status?(e.addFeatures(e.getFormat().readFeatures(r.data)),e.set("@wfsFeatureCollection",r.data),t.onLoadEnd&&t.onLoadEnd()):d()})).catch((function(e){d()}))}},S=function(e){return"bbox"===e.strategy?u.VW:"all"===e.strategy?u.$6:"tile"===e.strategy?u.Gg:null},x=function(e,t,r){return function(e,t,r){var n=e.getSource().get("@wfsFeatureCollection")||{};return(0,i.C2)((0,y.p)(b(b({},t),{},{features:n.features,asPromise:!0}))).then((function(t){t&&(t.__geoStylerStyle?t({map:r,features:n.features}).then((function(t){e.setStyle(t)})):e.setStyle(t))}))}(e,t,r)};n.default.registerType("wfs",{create:function(e,t){var r,n=new a.Z({strategy:S(e)||void 0,format:new s.Z});return n.setLoader(h(n,b(b({},e),{},{onLoadEnd:function(){x(r,e,t)}}))),r=new l.Z({msId:e.id,source:n,visible:!1!==e.visibility,zIndex:e.zIndex,opacity:e.opacity,minResolution:e.minResolution,maxResolution:e.maxResolution}),x(r,e,t),r},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=r.crs||r.srs||"EPSG:3857",i=t.crs||t.srs||"EPSG:3857",a=e.getSource();i!==o&&a.forEachFeature((function(e){e.getGeometry().transform(o,i)})),(0,m.Es)(r,t)&&(a.setLoader(h(a,t)),a.clear(),a.refresh()),t.style===r.style&&t.styleName===r.styleName||x(e,t,n),r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:function(){return null}})},828437:(e,t,r)=>{"use strict";var n=r(608010),o=r(414293),i=r.n(o),a=r(618446),l=r.n(a),u=r(393386),s=r.n(u),c=r(701469),f=r.n(c),m=r(727418),y=r.n(m),d=r(375875),p=r.n(d),b=r(916651),v=r(774565),g=r(737275),h=r(143378),S=r(233044),x=r(685246),w=r(125869),O=r(218672),P=r(438225),R=r(991587),j=r(216969),_=r(949110),E=r(333358),L=r(429122),T=r(908591);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e,t){return function(r,n){var o,i,a=r.getImage(),l=(0,T.nf)(e.forceProxy,n);if("function"==typeof window.btoa&&n.length>=(e.maxLengthUrl||(null===(o=(0,g.u8)("miscSettings"))||void 0===o?void 0:o.maxURLLength)||1/0)){var u=function(e){if(Array.isArray(e))return e}(i=n.split("&"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=u[0],c=u.slice(1);s=(0,T.nf)(e.forceProxy,s),p().post(s,"&"+c.join("&"),{headers:M({"Content-type":"application/x-www-form-urlencoded;charset=utf-8"},t),responseType:"arraybuffer"}).then((function(e){if(200===e.status){for(var t=new Uint8Array(e.data),r=t.length,n=new Array(r);r--;)n[r]=String.fromCharCode(t[r]);var o=n.join(""),i=e.headers["content-type"];0===i.indexOf("image")&&(a.src="data:"+i+";base64,"+window.btoa(o))}})).catch((function(e){console.error(e)}))}else t?p().get(l,{headers:t,responseType:"blob"}).then((function(e){200===e.status&&e.data?r.getImage().src=URL.createObjectURL(e.data):console.error("Status code: "+e.status)})).catch((function(e){console.error(e)})):a.src=l}},A=function(e,t,r){if(e.useForElevation)return n.default.createLayer("elevation",M(M({},e),{},{provider:"wms"}),t,r);var o=(0,T.mb)(f()(e.url)?e.url:[e.url]),i=(0,T.aD)(e)||{};o.forEach((function(t){return(0,S.addAuthenticationParameter)(t,i,e.securityToken)}));var a=(0,S.getAuthenticationHeaders)(o[0],e.securityToken),l=(0,E.z)(e.format);if(e.singleTile&&!l)return new x.Z({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new w.Z({url:o[0],crossOrigin:e.crossOrigin,attributions:(0,T.tR)(e.credits),params:i,ratio:e.ratio||1,imageLoadFunction:k(e,a)})});var u,s={attributions:(0,T.tR)(e.credits),urls:o,crossOrigin:e.crossOrigin,params:i,tileGrid:(0,T.$G)(e,t),tileLoadFunction:k(e,a)},c=new R.Z(M({},s)),m={msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution};return(u=l?new _.Z(M(M({},m),{},{source:new j.Z(M(M({},s),{},{format:new L.y[e.format]({layerName:"_layer_"}),tileUrlFunction:function(e,t,r){return c.tileUrlFunction(e,t,r)}}))})):new P.Z(M(M({},m),{},{source:c}))).set("map",t),l&&(u.set("wmsSource",c),e.vectorStyle&&(0,L.b)(e.vectorStyle,u,t)),u};n.default.registerType("wms",{create:A,update:function(e,t,r,n){var o=(0,E.z)(t.format);if(function(e,t){return e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||(0,E.z)(e.format)!==(0,E.z)(t.format)||(0,E.z)(e.format)&&(0,E.z)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles||e.tileSize!==t.tileSize||e.forceProxy!==t.forceProxy||e.tileGridStrategy!==t.tileGridStrategy||!l()(e.tileGrids,t.tileGrids)}(r,t))return A(t,n);var a=!1;o&&t.vectorStyle&&!l()(t.vectorStyle,r.vectorStyle||{})&&((0,L.b)(t.vectorStyle,e,n),a=!0);var u=e.get("wmsSource")||e.getSource(),c=o?e.getSource():null;if(r.srs!==t.srs){var f=b.default.normalizeSRS(t.srs,t.allowedSRS),m=(0,O.U2)(f).getExtent()||(0,v.Vh)(f).extent;if(t.singleTile&&!o)e.setExtent(m);else{var d=(0,T.$G)(t,n);u.tileGrid=d,c&&(c.tileGrid=d)}a=!0}r.credits!==t.credits&&t.credits&&(u.setAttributions((0,T.tR)(t.credits)),a=!0);var p,g,x,w,P=!1;if(r&&u&&u.updateParams&&(r.params&&t.params?P=s()(Object.keys(r.params),Object.keys(t.params)).reduce((function(e,n){return t.params[n]!==r.params[n]||e}),!1):(!r.params&&t.params||r.params&&!t.params)&&(P=!0),p=(0,T.aD)(r),g=(0,T.aD)(t),P=P||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce((function(e,t){return p[t]!==g[t]||e}),!1),a=a||P),r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),a&&(null==u||null===(x=u.tileCache)||void 0===x||null===(w=x.pruneExceptNewestZ)||void 0===w||w.call(x),c&&(c.clear(),c.refresh()),P)){var R=y()(g,(0,S.addAuthenticationToSLD)((0,h.v)(t)||{},t));u.updateParams(y()(R,Object.keys(p||{}).reduce((function(e,t){return i()(R[t])?y()(e,z({},t,void 0)):e}),{})))}return null}})},707086:(e,t,r)=>{"use strict";var n=r(608010),o=r(984596),i=r.n(o),a=r(91175),l=r.n(a),u=r(610928),s=r.n(u),c=r(233044),f=r(707294),m=r(916651),y=r(552259),d=r(333358),p=r(472500),b=r.n(p),v=r(218672),g=r(421915),h=r(438225),S=r(949110),x=r(162953),w=r(216969),O=r(923241),P=r(404780),R=r(169141),j=r(496476),_=r(393546),E=r(624262);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==L(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={"application/vnd.mapbox-vector-tile":P.Z,"application/json;type=geojson":R.Z,"application/json;type=topojson":j.Z},z=function(e){var t="RESTful"===e.requestEncoding?"REST":e.requestEncoding,r=function(e,t){return e.map((function(e){return"REST"===t?e:e.split("?")[0]}))}(i()(e.url),t),n=m.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=(0,v.U2)(n),a=o.getMetersPerUnit(),l=f.h7(e,n),u=l.tileMatrixSetName,p=l.tileMatrixSet,P=l.matrixIds,R=p&&(null==p?void 0:p.TileMatrix.map((function(e){return Number(e.ScaleDenominator)}))),j=y.ZP.getResolutions(),L=e.resolutions||R&&R.map((function(e){return 28e-5*e/a}))||j,T="ne"===o.getAxisOrientation().substr(0,2),Z=p&&p.TileMatrix&&p.TileMatrix.map((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).TopLeftCorner;return e&&m.default.parseString(e)})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,r=e.y;return T?[r,t]:[t,r]})),z=p&&p.TileMatrix&&p.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.MatrixWidth,r=e.MatrixHeight;return[parseInt(t,10),parseInt(r,10)]})),C=p&&p.TileMatrix&&p.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TileWidth,r=e.TileHeight;return[parseInt(t,10),parseInt(r,10)]})),k=e.bbox,A=k?(0,g.Ne)([parseFloat(k.bounds.minx),parseFloat(k.bounds.miny),parseFloat(k.bounds.maxx),parseFloat(k.bounds.maxy)],(0,v.Ck)(k.crs,e.srs)):void 0,D=A&&(0,g.Ed)(A,o.getExtent()),G={};r.forEach((function(t){return(0,c.addAuthenticationParameter)(t,G,e.securityToken)}));var F=b().format({query:I({},G)}),B=e.maxResolution||s()(j.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return L[0]/e*256<.5}))),N=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",U=(0,d.z)(N),X=I(I({requestEncoding:t,urls:r.map((function(e){return e+F})),layer:e.name,version:e.version||"1.0.0",matrixSet:u},e.credits&&{attributions:(0,E.go)(e.credits)}),{},{format:N,style:e.style||"",tileGrid:new O.Z({origins:Z,origin:Z?void 0:[20037508.3428,-20037508.3428],resolutions:L,matrixIds:f.Wg((P||f.nn(e)||[]).map((function(e){return e.identifier})),L.length),sizes:z,extent:D,tileSizes:C,tileSize:!C&&(e.tileSize||[256,256])}),wrapX:!0}),Y=new x.Z(X),V=new(U?S.Z:h.Z)({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution<B?e.maxResolution:B,visible:!1!==e.visibility,source:U?new w.Z(I(I({},X),{},{format:new M[e.format]({dataProjection:n}),tileUrlFunction:function(){return Y.tileUrlFunction.apply(Y,arguments)}})):Y});return U&&V.setStyle((0,_.C2)(e)),V};n.default.registerType("wmts",{create:z,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs||r.format!==t.format||r.style!==t.style||r.credits!==t.credits?z(t):(r.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),r.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null)},isCompatible:function(e){return!!l()(m.default.getEquivalentSRS(e.srs||"EPSG:3857").filter((function(t){return function(e,t){var r=f.h7(t,e),n=r.tileMatrixSetName,o=r.tileMatrixSet;return o?m.default.getEPSGCode(o["ows:SupportedCRS"])===e:n===e}(t,e)})))}})},103498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={BingLayer:r(447098).default,GoogleLayer:r(573431).default,GraticuleLayer:r(430189).default,MapQuest:r(905348).default,OSMLayer:r(739075).default,OverlayLayer:r(123281).default,TMSLayer:r(960470).default,TileProviderLayer:r(586714).default,VectorLayer:r(437420).default,WFSLayer:r(873576).default,WFS3Layer:r(503690).default,WMSLayer:r(828437).default,WMTSLayer:r(707086).default,COGLayer:r(983268).default,ElevationLayer:r(990349).default,ArcGISLayer:r(100604).default}},503901:(e,t,r)=>{"use strict";r.d(t,{Bi:()=>s,bg:()=>c,Sb:()=>f,qR:()=>y,yQ:()=>d});var n=r(375875),o=r.n(n),i=r(581399),a=r.n(i),l=r(882702),u=new(a())(100),s=function(e,t,r,n){return"".concat(r,":").concat(e,":").concat(t,":").concat(n)};function c(e,t,r){var n=r[0]/(t[2]-t[0]),o=r[1]/(t[3]-t[1]);return{x:Math.floor((e[0]-t[0])*n),y:Math.floor((t[3]-e[1])*o)}}var f=function(e,t,r){u.set(r,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})},m=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=n*e+r;try{var l=t.dataView.getInt16(2*a,i);if(l!==o&&32767!==l&&-32768!==l)return l}catch(e){}return null},y=function(e,t,r){return u.has(r)?null:new l.Promise((function(n,i){o().get(e,{responseType:"arraybuffer"}).then((function(e){f(e.data,t,r),n()})).catch((function(e){!function(e,t,r){u.set(r,{coords:t,current:!0,status:"error: "+e})}(e.message,t,r),i(e)}))}))},d=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=u.get(e);return i&&"success"===i.status?{available:!0,value:m(r,i,t.x,t.y,n,o)}:i&&"loading"===i.status?{available:!1,message:"elevationLoading"}:i&&"error"===i.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}}},223502:(e,t,r)=>{"use strict";r.d(t,{$:()=>u,b:()=>s});var n=r(737275),o=r(701469),i=r.n(o),a=r(513218),l=r.n(a),u=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i()(t))return t.reduce((function(t,r){return e(r)&&t}),!0);var o=!1,a=!(0===t.indexOf("http")),u=!a&&t.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(u){var s=window.location;a=u[1]===s.protocol&&u[3]===s.hostname;var c=u[4],f=s.port;(80!==c&&""!==c||"80"!==f&&""!==f)&&(a=a&&c===f)}if(!a){var m=n.ZP.getProxyUrl(r);if(m){var y=[];l()(m)&&(y=m.useCORS||[],m=m.url),y.reduce((function(e,r){return e||0===t.indexOf(r)}),!1)||(o=!0)}}return o},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.ZP.getProxyUrl(e);return t&&l()(t)&&(t=t.url),t}},904679:(e,t,r)=>{"use strict";r.d(t,{y:()=>g,p:()=>h});var n=r(717621),o=r.n(n),i=r(423570),a=r.n(i),l=r(903918),u=r.n(l),s=r(441609),c=r.n(s),f=r(166287);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.marker,r=e.fillColor,n=void 0===r?"#f2f2f2":r,o=e.fillOpacity,i=void 0===o?.3:o,l=e.strokeColor,s=void 0===l?"#3075e9":l,c=e.strokeOpacity,f=void 0===c?1:c,m=e.strokeWidth,y=void 0===m?2:m,d=e.radius,p=void 0===d?10:d,v=e.geometryType,g=void 0===v?"GeometryCollection":v;return{format:"geostyler",metadata:{editorType:"visual"},body:{rules:[].concat(b(t?[{name:"Default Marker Style",ruleId:a()(),symbolizers:[{kind:"Icon",image:u(),opacity:1,size:32,rotate:0,msBringToFront:!0,msHeightReference:"none",symbolizerId:a()()}]}]:[]),b(["GeometryCollection","Point","MultiPoint"].includes(g)&&!t?[{name:"Default Point Style",ruleId:a()(),symbolizers:[{kind:"Mark",color:n,fillOpacity:i,opacity:1,strokeColor:s,strokeOpacity:f,strokeWidth:y,wellKnownName:"Circle",radius:p,msBringToFront:!0,symbolizerId:a()()}]}]:[]),b(["GeometryCollection","LineString","MultiLineString"].includes(g)&&!t?[{name:"Default Line Style",ruleId:a()(),symbolizers:[{kind:"Line",color:s,opacity:f,width:y,symbolizerId:a()()}]}]:[]),b(["GeometryCollection","Polygon","MultiPolygon"].includes(g)&&!t?[{name:"Default Polygon Style",ruleId:a()(),symbolizers:[{kind:"Fill",color:n,fillOpacity:i,outlineColor:s,outlineOpacity:f,outlineWidth:y,symbolizerId:a()()}]}]:[]))}}},h=function(e,t){var r,n,i,a,l,u=(0,f.flattenFeatures)((null==e?void 0:e.features)||[]);if(u.find((function(e){var t;return!c()((null==e?void 0:e.style)||{})&&(null==e||null===(t=e.properties)||void 0===t?void 0:t.id)}))||null!=e&&null!==(r=e.style)&&void 0!==r&&r.format&&!c()(null==e||null===(n=e.style)||void 0===n?void 0:n.body)||(null==e||null===(i=e.style)||void 0===i||!i.format)&&!c()(e.style))return e;var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).features,t=((e||[]).find((function(e){var t=e.geometry;return null==t?void 0:t.type}))||{}).geometry;if(!t)return null;var r=t.type.replace("Multi","");return"GeometryCollection"===r||(e||[]).find((function(e){var t,n=e.geometry;return(null==n||null===(t=n.type)||void 0===t?void 0:t.replace("Multi",""))!==r}))?"GeometryCollection":r}({features:u}),m=!(null==t||!t.marker||!["Point","MultiPoint"].includes(s)),y=t&&o()(t.fill).toHexString(),p=null==t||null===(a=t.fill)||void 0===a?void 0:a.a,b=t&&o()(null==t?void 0:t.color).toHexString(),v=null==t||null===(l=t.color)||void 0===l?void 0:l.a,h=null==t?void 0:t.width,S=null==t?void 0:t.radius;return d(d(d({},e),m&&{handleClickOnLayer:!0}),{},{style:g(t?{marker:m,fillColor:y,fillOpacity:p,strokeColor:b,strokeOpacity:v,strokeWidth:h,radius:S,geometryType:s}:{geometryType:s})})}},333358:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var n=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(e){return-1!==n.indexOf(e)}},429122:(e,t,r)=>{"use strict";r.d(t,{y:()=>l,b:()=>u});var n=r(404780),o=r(169141),i=r(496476),a=r(393546),l={"application/vnd.mapbox-vector-tile":n.Z,"application/json;type=geojson":o.Z,"application/json;type=topojson":i.Z},u=function(e,t,r){(0,a.C2)({asPromise:!0,style:e}).then((function(e){null!=e&&e.__geoStylerStyle?e({map:r}).then((function(e){t.setStyle(e)})):t.setStyle(e)})).catch((function(){}))}},908591:(e,t,r)=>{"use strict";r.d(t,{nf:()=>S,mb:()=>x,tR:()=>w,aD:()=>O,$G:()=>P});var n=r(727418),o=r.n(n),i=r(218672),a=r(408930),l=r(916651),u=r(774565),s=r(223502),c=r(143378),f=r(233044),m=r(624262),y=r(552259),d=r(253231),p=r(577215);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e,t){var r=t;return e&&(0,s.$)(t)&&(r=(0,s.b)()+encodeURIComponent(t)),r};function x(e){return e.map((function(e){return e.split("?")[0]}))}var w=function(e){return e&&(0,m.go)(e)||void 0};function O(e){var t=(0,c.v)(e),r=o()({},e.baseParams,g(g({LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:l.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:l.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS)},(0,m._6)(e)),{},{VERSION:e.version||"1.3.0"}),o()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:(0,d.h)(e.env)}:{}));return(0,f.addAuthenticationToSLD)(r,e)}var P=function(e,t){var r,n,o=(null==t||null===(r=t.getView())||void 0===r||null===(n=r.getProjection())||void 0===n?void 0:n.getCode())||"EPSG:3857",s=l.default.normalizeSRS(e.srs||o,e.allowedSRS),c=e.tileSize?e.tileSize:256,f=(0,i.U2)(s).getExtent()||(0,u.Vh)(s).extent,d=(0,m._6)(e).TILED&&"custom"===e.tileGridStrategy&&e.tileGrids?(0,p.rD)({tileSize:c,projection:s,tileGrids:e.tileGrids}):null;if(d&&(d.resolutions||d.scales)&&(d.origins||d.origin)&&(d.tileSizes||d.tileSize)){var b=d.resolutions,v=d.scales,g=d.origin,h=d.origins,S=d.tileSize,x=d.tileSizes,w=(0,i.U2)(s).getMetersPerUnit(),O=b||v.map((function(e){return 28e-5*e/w}));return new a.Z({extent:f,resolutions:O,tileSizes:x,tileSize:S,origin:g,origins:h})}var P=e.resolutions||(0,y.E_)(s,{tileWidth:c,tileHeight:c,extent:f}),R=e.origin?e.origin:[f[0],f[1]];return new a.Z({extent:f,resolutions:P,tileSize:c,origin:R})}}}]);