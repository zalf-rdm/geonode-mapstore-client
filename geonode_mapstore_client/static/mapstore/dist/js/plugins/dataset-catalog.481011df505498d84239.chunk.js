(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[41604],{668055:(n,e,t)=>{"use strict";t.d(e,{Z:()=>o});var r=t(124852);const o=function(){var n=(0,r.useRef)();return(0,r.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]),function(e){return e&&n.current&&e(),!!n.current}}},50950:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>k});var r=t(124852),o=t.n(r),a=t(45697),l=t.n(a),u=t(322843),i=t(171703),c=t(22222),s=t(805346),f=t(303744),d=t(337326),v=t(535721),b=t(580416),p=t(801550),g=t(782904),m=t(229698),y=t(55105),h=t(424216),C=t(668055),A=["onAdd","onZoomTo"],w=["enabled"];function O(){return O=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},O.apply(null,arguments)}function x(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function E(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function S(n){var e,t,a=n.onAdd,l=n.onZoomTo,u=E(n,A),i=(0,C.Z)(),c=(e=(0,r.useState)(!1),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,l,u=[],i=!0,c=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;i=!1}else for(;!(i=(r=a.call(t)).done)&&(u.push(r.value),u.length!==e);i=!0);}catch(n){c=!0,o=n}finally{try{if(!i&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(e,t)||function(n,e){if(n){if("string"==typeof n)return x(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],f=c[1];return o().createElement(h.Z,O({},u,{loading:s,onSelect:function(n){f(!0),((0,v.GE)(n.subtype)?(0,d.pb)(n.pk):(0,d.iv)(n.pk)).then((function(n){var e,t,r=(0,v.tA)(n);a(r);var o,u=(null==r||null===(e=r.bbox)||void 0===e?void 0:e.bounds)||{},i=u.minx,c=u.miny,s=u.maxx,f=u.maxy,d=(null==r||null===(t=r.bbox)||void 0===t?void 0:t.bounds)&&[i,c,s,f];d&&l(d,null==r||null===(o=r.bbox)||void 0===o?void 0:o.crs)})).finally((function(){i((function(){return f(!1)}))}))}}))}S.propTypes={request:l().func,responseToEntries:l().func,pageSize:l().number,onAdd:l().func,placeholderId:l().string,onClose:l().func,onZoomTo:l().func},S.defaultProps={request:d.EX,responseToEntries:function(n){return n.resources},pageSize:10,onAdd:function(){},placeholderId:"gnviewer.datasetsCatalogFilterPlaceholder",titleId:"gnviewer.datasetsCatalogTitle",noResultId:"gnviewer.datasetsCatalogEntriesNoResults",onZoomTo:function(){},onClose:function(){}};var Z=(0,i.connect)((0,c.P1)([function(n){return(0,y.ic)(n,{height:!0})},function(n){var e,t;return null==n||null===(e=n.controls)||void 0===e||null===(t=e.datasetsCatalog)||void 0===t?void 0:t.enabled}],(function(n,e){return{style:n,enabled:e}})),{onAdd:b.A4,onClose:g.Xg.bind(null,"datasetsCatalog","enabled",!1),onZoomTo:p.Px})((function(n){var e=n.enabled,t=E(n,w);return e?o().createElement(S,t):null})),T=(0,i.connect)((0,c.P1)([],(function(){return{}})),{onClick:g.Xg.bind(null,"datasetsCatalog","enabled",!0)})((function(n){var e=n.onClick,t=n.size,r=n.variant;return o().createElement(f.Z,{size:t,onClick:function(){e()},variant:r},o().createElement(s.Z,{msgId:"gnviewer.addLayer"}))}));const k=(0,u.rx)("DatasetsCatalog",{component:Z,containers:{ActionNavbar:{name:"DatasetsCatalog",Component:T}},epics:m.Z,reducers:{}})}}]);