(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[53501],{536030:(t,e,n)=>{"use strict";n.d(e,{Gr:()=>m,wq:()=>g,R8:()=>h,d$:()=>x});var r=n(944908),o=n.n(r),i=n(414293),a=n.n(i),u=n(65792),c=n.n(u),l=n(129389);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var m=function(){return n.e(81268).then(n.bind(n,481268)).then((function(t){return t}))},b=function(t){var e=t.ramp,n=t.intervals,r=t.reverse,o=(0,l.G)(e),i=c().scale(o).colors(n);return r?y(i).reverse():i},w={quantile:function(t,e,n){var r=t.quantileSorted,o=e.map((function(t){var e;return null==t||null===(e=t.properties)||void 0===e?void 0:e[n.attribute]})).filter((function(t){return!a()(t)})).sort((function(t,e){return t-e}));if(0===o.length)return[];var i=n.intervals,u=[].concat(y(y(new Array(i).keys()).map((function(t){return t/i}))),[1]).map((function(t){return r(o,t)})),c=b(p(p({},n),{},{intervals:i}));return u.reduce((function(t,e,n){var r=u[n+1];if(void 0!==r){var o=c[n];return[].concat(y(t),[{color:o,min:e,max:r}])}return t}),[])},jenks:function(t,e,n){var r=t.jenks,o=e.map((function(t){var e;return null==t||null===(e=t.properties)||void 0===e?void 0:e[n.attribute]})).filter((function(t){return!a()(t)})).sort((function(t,e){return t-e})),i=n.intervals,u=i>o.length?o.length:i,c=r(o,u),l=b(p(p({},n),{},{intervals:u}));return c.reduce((function(t,e,n){var r=c[n+1];if(void 0!==r){var o=l[n];return[].concat(y(t),[{color:o,min:e,max:r}])}return t}),[])},equalInterval:function(t,e,n){var r=(0,t.equalIntervalBreaks)(e.map((function(t){var e;return null==t||null===(e=t.properties)||void 0===e?void 0:e[n.attribute]})).filter((function(t){return!a()(t)})).sort((function(t,e){return t-e})),n.intervals),o=b(n);return r.reduce((function(t,e,n){var i=r[n+1];if(void 0!==i){var a=o[n];return[].concat(y(t),[{color:a,min:e,max:i}])}return t}),[])},uniqueInterval:function(t,e,n){var r=o()(e.map((function(t){var e;return null==t||null===(e=t.properties)||void 0===e?void 0:e[n.attribute]}))),i=!1===n.sort?r:r.sort((function(t,e){return t>e?1:-1})),a=b(p(p({},n),{},{intervals:i.length}));return i.map((function(t,e){return{color:a[e],unique:t}}))}},g=function(t){return function(e,n){var r="FeatureCollection"===e.type?e.features:[];return w[n.method](t,r,n)}},h=function(t,e){return m().then((function(n){return g(n)(t,e)})).then((function(t){return{data:{classification:t}}}))},x=Object.keys(w)},385724:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>G});var r=n(124852),o=n.n(r),i=n(701469),a=n.n(i),u=n(984596),c=n.n(u),l=n(606162),s=n.n(l),f=n(807654),p=n.n(f),d=n(281763),y=n.n(d),v=n(845220),m=n.n(v),b=n(82110),w=n(12226),g=n(968483),h=n(246781),x=n(414293),O=n.n(x);function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(null,arguments)}var P=["msMode","msClassification"],j=["series","xAxis","classifications","classificationAttr"],A=["onInitialized","onHover"];function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function k(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function I(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){R(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B=o().lazy((function(){return Promise.all([n.e(47042),n.e(36111)]).then(n.bind(n,736111))})),F=function(t,e,n){return n.map((function(n){try{return C(C({},n),{},R({},e,(0,w.B)(t,{value:n[e]})))}catch(t){return n}}))},L=function(t,e,n){if(!m()(e)){var r=(e/n*100).toPrecision(3);if(!p()(r))return t+" - "+r+"%"}return t},M={pie:function(t){var e,n,r,o,i,a=t.id,u=t.data,c=t.options,l=t.style,s=t.domain,f=t.name,p=t.classifyGeoJSON,d=t.textinfo,v=t.layout,m=void 0===v?{}:v,b=t.tickPrefix,w=t.format,g=t.tickSuffix,x=t.formula,O=t.sortBy,S=void 0===O?"aggregation":O,P=t.includeLegendPercent,j=null==c?void 0:c.groupByAttributes,A=(0,h.Yj)(c),E=(null==c?void 0:c.classificationAttribute)||j,k=!(E===j||null!=l&&null!==(e=l.msClassification)&&void 0!==e&&null!==(n=e.classes)&&void 0!==n&&n.some((function(t){return(t.title||"").includes("${groupByValue}")}))),D=(0,h.wM)(x?F(x,A,u):u,c),T=P?D.reduce((function(t,e){return t+(0,h.p3)(e[A])}),0):0,R=f||A,B=(0,h.mK)({type:"pie",sortBy:S,data:D,options:c,msClassification:null==l?void 0:l.msClassification,classifyGeoJSON:p}),M=B.sortByKey,z=B.classes,G=B.classifiedData,_=k||null!=l&&null!==(r=l.msClassification)&&void 0!==r&&r.classes?z.reduce((function(t,e,n){var r=G.filter((function(t){return t.index===n})).sort((function(t,e){return M===A?t.properties[M]>e.properties[M]?-1:1:t.properties[M]>e.properties[M]?1:-1})).map((function(t){return k?C(C({},t),{},{label:"".concat(t.index+1,") ").concat(t.label)}):t}));if(k&&P){var o=r.reduce((function(t,e){var n=e.properties;return t+(0,h.p3)(n[A])}),0);return[].concat(I(t),I(r.map((function(t){return C(C({},t),{},{label:L(t.label,o,T)})}))))}return[].concat(I(t),I(r))}),[]):G,N=_.map((function(t){return null==t?void 0:t.color})),U=_.map((function(t){return t.properties[A]})),Y=_.map((function(t){return null==t?void 0:t.label})),q=_.map((function(t){var e=t.properties,n=t.index;return k?"".concat(e[j]," (").concat(n+1,")"):e[j]})),J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).includeLegendPercent;return r&&r&&y()(n)&&0!==n?t.map((function(t,r){return L(t,e[r],n)})):t}(k?q:Y,U,T,{includeLegendPercent:P}),Z={type:"pie",textposition:"inside",pull:.005,rotation:0,sort:!1,direction:"clockwise",values:U,textinfo:d,texttemplate:"none"===d?null:"%{percent}"};return[].concat(I(k?[C(C({},Z),{},{name:E,legendgroup:"".concat(a,"-").concat(E),legendgrouptitle:{text:E===A?E:"".concat(A," | ").concat(E)},hovertemplate:"%{label}<br>".concat(E,"<br>%{value}<br>%{percent}<extra></extra>"),hoverlabel:{font:{color:m.color||h.nb.COLOR,family:m.fontFamily||h.nb.FAMILY,size:m.fontSize||h.nb.SIZE}},domain:{x:[.2,.8],y:[.2,.8]},labels:Y,marker:{colors:N,line:C({},null==l||null===(o=l.marker)||void 0===o?void 0:o.line)}})]:[]),[C(C(C({},Z),{},{name:R,legendgroup:a,legendgrouptitle:{text:R},hoverlabel:{font:{color:(null==m?void 0:m.color)||h.nb.COLOR,family:(null==m?void 0:m.fontFamily)||h.nb.FAMILY,size:(null==m?void 0:m.fontSize)||h.nb.SIZE}},hovertemplate:"%{label}<br>".concat(A,"<br>").concat(null!=b?b:"","%{value").concat(w?":".concat(w):"","}").concat(null!=g?g:"","<br>%{percent}<extra></extra>"),domain:s,labels:J},k&&{hole:.65,opacity:.75}),{},{marker:{colors:N,line:C({},null==l||null===(i=l.marker)||void 0===i?void 0:i.line)}})])},bar:function(t){var e=t.id,n=t.data,r=t.options,o=t.formula,i=t.style,a=t.name,u=t.classifyGeoJSON,c=t.yAxisOpts,l=t.xAxisOpts,s=t.sortBy,f=void 0===s?"groupBy":s,p=t.tickPrefix,d=t.format,y=t.tickSuffix,v=p||(null==c?void 0:c.tickPrefix),m=d||(null==c?void 0:c.format),b=y||(null==c?void 0:c.tickSuffix),w=null==r?void 0:r.groupByAttributes,g=(0,h.Yj)(r),x=null==r?void 0:r.classificationAttribute,O=o?F(o,g,n):n,S=i||{},j=S.msMode,A=S.msClassification,E=k(S,P);if("classification"===j){var D=(0,h.mK)({type:"bar",sortBy:f,data:O,options:r,msClassification:A,classifyGeoJSON:u}),T=D.sortByKey,R=D.classifiedData;return D.classes.map((function(t,n){var r,o=t.color,i=t.label,u=R.filter((function(t){return t.index===n})).sort((function(t,e){return t.properties[T]>e.properties[T]?1:-1}));if(0===u.length)return null;var s=a||x;return C(C({type:"bar",legendgroup:"".concat(e,"-").concat(x),x:u.map((function(t){return t.properties[w]})),y:u.map((function(t){return t.properties[g]})),name:i,legendgrouptitle:{text:s},hovertemplate:"".concat(null!=v?v:"","%{y:").concat(null!=m?m:"g","}").concat(null!=b?b:"","<extra>").concat(i,"</extra>"),marker:C({color:o},(null==E||null===(r=E.marker)||void 0===r?void 0:r.line)&&{line:E.marker.line})},l.xaxis&&{xaxis:l.xaxis}),c.yaxis&&{yaxis:c.yaxis})})).filter((function(t){return null!==t}))}var B=I(O).sort((function(t,e){return t[w]>e[w]?1:-1})),L=B.map((function(t){return t[w]})),M=B.map((function(t){return t[g]})),z=a||g;return C(C(C(C({},E),{},{type:"bar",x:L,y:M,name:z},l.xaxis&&{xaxis:l.xaxis}),c.yaxis&&{yaxis:c.yaxis}),{},{hovertemplate:"".concat(null!=v?v:"","%{y:").concat(null!=m?m:"g","}").concat(null!=b?b:"","<extra></extra>")})},line:function(t){var e=t.data,n=t.options,r=t.formula,o=t.style,i=t.name,a=t.yAxisOpts,u=t.xAxisOpts,c=t.tickPrefix,l=t.format,s=t.tickSuffix,f=c||(null==a?void 0:a.tickPrefix),p=l||(null==a?void 0:a.format),d=s||(null==a?void 0:a.tickSuffix),y=null==n?void 0:n.groupByAttributes,v=(0,h.Yj)(n),m=r?F(r,v,e):e,b=i||v,w=I(m).sort((function(t,e){return t[y]>e[y]?1:-1})),g=w.map((function(t){return t[y]})),x=w.map((function(t){return t[v]}));return C(C(C({mode:"lines"},o),{},{name:b,hovertemplate:"".concat(null!=f?f:"","%{y:").concat(null!=p?p:"d","}").concat(null!=d?d:"","<extra></extra>"),x:g,y:x},u.xaxis&&{xaxis:u.xaxis}),a.yaxis&&{yaxis:a.yaxis})}};function z(t){var e=t.cartesian,n=t.xAxisOpts,r=void 0===n?[]:n,o=t.yAxisOpts,i=void 0===o?[]:o,a=t.barChartType,u=t.layout,c=void 0===u?{}:u,l=t.height,f=t.width,p=s()(i.map((function(t){var e=t.anchor,n=t.positionPx,r=t.side;return"free"===e&&"left"===(r||"left")&&void 0!==n?n:0}))),d=s()(i.map((function(t){var e=t.anchor,n=t.positionPx,r=t.side;return"free"===e&&"right"===r&&void 0!==n?n:0}))),y=s()(r.map((function(t){var e=t.anchor,n=t.positionPx,r=t.side;return"free"===e&&"bottom"===(r||"bottom")&&void 0!==n?n:0}))),v=s()(r.map((function(t){var e=t.anchor,n=t.positionPx,r=t.side;return"free"===e&&"top"===r&&void 0!==n?n:0}))),m=0===p?0:p/f,b=0===d?1:1-d/f,w=0===y?0:y/l,g=0===v?1:1-v/l,x=i.reduce((function(t,n,r){var o;return C(C({},t),{},R({},"yaxis".concat(0===r?"":r+1),C(C({automargin:!0,type:null==n?void 0:n.type,tickangle:null!==(o=n.angle)&&void 0!==o?o:"auto",showticklabels:!n.hide,nticks:n.nTicks,showgrid:e,color:n.color||c.color,side:n.side,anchor:n.anchor||"x"},"free"===n.anchor&&{position:"right"===n.side?1-(n.positionPx||0)/f:(n.positionPx||0)/f}),{},{title:{text:n.title,font:{size:n.fontSize||c.fontSize||h.nb.SIZE,family:n.fontFamily||c.fontFamily||h.nb.FAMILY}},tickfont:{size:n.fontSize||c.fontSize||h.nb.SIZE,family:n.fontFamily||c.fontFamily||h.nb.FAMILY},tickformat:null==n?void 0:n.format,tickprefix:null==n?void 0:n.tickPrefix,ticksuffix:null==n?void 0:n.tickSuffix},0!==r?{overlaying:"y"}:{domain:[w,g]})))}),{}),O=r.reduce((function(t,n,r){var o;return C(C({},t),{},R({},"xaxis".concat(0===r?"":r+1),C(C({automargin:!0,type:null==n?void 0:n.type,tickangle:null!==(o=n.angle)&&void 0!==o?o:"auto",showticklabels:!n.hide,nticks:n.nTicks,showgrid:e,color:n.color||c.color,side:n.side,anchor:n.anchor||"y"},"free"===n.anchor&&{position:"top"===n.side?1-(n.positionPx||0)/l:(n.positionPx||0)/l}),{},{title:{text:n.title,font:{size:n.fontSize||c.fontSize||h.nb.SIZE,family:n.fontFamily||c.fontFamily||h.nb.FAMILY}},tickfont:{size:n.fontSize||c.fontSize||h.nb.SIZE,family:n.fontFamily||c.fontFamily||h.nb.FAMILY}},0!==r?{overlaying:"x"}:{domain:[m,b]})))}),{});return C(C(C({},a&&{barmode:a}),x),O)}const G=(_=(0,g.Z)((function(t){var e=t.onInitialized,n=t.onHover,i=function(t){var e,n=function(t){var e=t.series,n=t.xAxis,r=t.classifications,o=t.classificationAttr,i=k(t,j);if(e){var a,u=C({groupByAttributes:null==n?void 0:n.dataKey,aggregationAttribute:null==e||null===(a=e[0])||void 0===a?void 0:a.dataKey},((null==r?void 0:r.dataKey)||o)&&{classificationAttribute:r.dataKey||o});return C(C(C({},i),(0,h.aw)(C(C({},i),{},{options:C(C({},u),i.options)}))),{},{data:[i.data]})}return i}(t),r=n.height,o=n.width,i=n.legend,u=n.classifyGeoJSONSync,l=n.cartesian,s=n.layout,f=o>350,p=n.traces||[],d=n.data||[],y=I(p.map((function(t){return t.type}))),v=y.filter((function(t){return"pie"===t})).length+(y.includes("bar")||y.includes("line")?1:0),m=v>1&&{grid:{rows:Math.ceil(v/2),columns:2}},b=c()(n.xAxisOpts||[{id:0}]).map((function(t,e){return 0===e?t:C(C({},t),{},{xaxis:"x".concat(e+1)})})),w=c()(n.yAxisOpts||[{id:0}]).map((function(t,e){return 0===e?t:C(C({},t),{},{yaxis:"y".concat(e+1)})})),g=(0,h.lF)({traces:p,xAxisOpts:b,yAxisOpts:w}),x=g&&n.barChartType||"group";return{layout:C(C(C({showlegend:null!=i&&i},z({cartesian:l,xAxisOpts:b,yAxisOpts:w,barChartType:x,layout:s,height:r,width:o})),{},{font:{color:(null==s?void 0:s.color)||h.nb.COLOR,size:(null==s?void 0:s.fontSize)||h.nb.SIZE,family:(null==s?void 0:s.fontFamily)||h.nb.FAMILY},margin:(e={isModeBarVisible:f},{t:e.isModeBarVisible?25:8,b:8,l:8,r:8,pad:4,autoexpand:!0}),autosize:!1,height:r,width:o},y.includes("pie")&&f&&{legend:{x:1.05,y:.5}}),{},{hovermode:"x unified",uirevision:!0},m),data:p.filter((function(t,e){return!!d[e]})).reduce((function(t,e,n){var r=e.id,o=e.name,i=e.type,c=e.options,l=e.style,f=e.xaxis,p=void 0===f?0:f,y=e.yaxis,g=void 0===y?0:y,h=e.textinfo,x=e.tickPrefix,O=e.format,S=e.tickSuffix,P=e.formula,j=e.sortBy,A=e.includeLegendPercent,E=d[n],k="pie"===i&&v>1?{domain:{row:Math.floor(n/m.grid.columns),column:n%m.grid.columns}}:{},D=b.find((function(t){return t.id===p}))||b[0]||{},T=function(t){var e=t.id,n=t.type,r=t.options,o=t.classificationDataKey,i=t.data,a=t.yAxisOpts,u=t.xAxisOpts,c=t.style,l=t.domain,s=t.name,f=t.classifyGeoJSONSync,p=t.textinfo,d=t.layout,y=t.tickPrefix,v=t.format,m=t.tickSuffix,b=t.formula,w=t.sortBy,g=t.includeLegendPercent;return f&&M[n||"line"]?M[n||"line"]({id:e,data:i,options:r,style:c,domain:l,name:s,classificationDataKey:o,classifyGeoJSON:f,formula:b,yAxisOpts:a,xAxisOpts:u,textinfo:p,layout:d,tickPrefix:y,format:v,tickSuffix:m,sortBy:w,includeLegendPercent:g}):null}(C({id:r,type:i,options:c,data:E,yAxisOpts:w.find((function(t){return t.id===g}))||w[0]||{},xAxisOpts:D,style:l,name:o,classifyGeoJSONSync:u,textinfo:h,layout:s,tickPrefix:x,format:O,tickSuffix:S,formula:P,sortBy:j,includeLegendPercent:A},k));return[].concat(I(t),I(a()(T)?T:[T]))}),[]).map((function(t,e){return p.length>1&&!g&&"bar"===(null==t?void 0:t.type)?C(C({},t),{},{offsetgroup:e+1}):t})),config:{displayModeBar:f,modeBarButtonsToRemove:["lasso2d","select2d","hoverCompareCartesian","hoverClosestCartesian","hoverClosestPie"],displaylogo:!1}}}(k(t,A)),u=i.data,l=i.layout,s=i.config;return o().createElement(r.Suspense,{fallback:o().createElement(b.Z,null)},o().createElement(B,{onInitialized:e,onHover:n,data:u.flat(),layout:l,config:s}))})),function(t){return o().createElement(_,S({},t,{onInitialized:function(e,n){!function(t){var e=t.querySelector(".infolayer .legend");if(e){var n=e.querySelector(".bg");e.addEventListener("wheel",(function(t){var r,o;if(t.isTrusted){t.preventDefault(),t.stopPropagation();var i=null===(r=e.getBBox())||void 0===r?void 0:r.height,a=null==n||null===(o=n.getBBox())||void 0===o?void 0:o.height,u=.3;O()(a)||O()(i)||(u=a/i*100),Number(t.deltaY)<0&&(u*=-1);var c=new WheelEvent("wheel",{clientX:t.clientX,clientY:t.clientY,deltaY:u,view:window,bubbles:!0,cancelable:!0});t.target.dispatchEvent(c)}}),!0)}}(n),t.onInitialized(e,n)}}))});var _},968483:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r,o=n(124852),i=n.n(o),a=n(536030);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(null,arguments)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const l=function(t){return function(e){var n,l,s=(n=(0,o.useState)(!1),l=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(n,l)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(n,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return(0,o.useEffect)((function(){var t=!1;return r||(0,a.Gr)().then((function(e){r=(0,a.wq)(e),t||s(!0)})),function(){t=!0}}),[]),i().createElement(t,u({},e,{classifyGeoJSONSync:r}))}}},199767:(t,e,n)=>{"use strict";n.d(e,{qP:()=>b,XA:()=>w,fA:()=>g,gN:()=>h,p5:()=>x,Rr:()=>O,DK:()=>S,En:()=>P,Tr:()=>j,t$:()=>A,XJ:()=>E,Dx:()=>k,Jy:()=>D});var r=n(472500),o=n.n(r),i=n(666654),a=n.n(i),u=n(747037),c=n.n(u),l=n(701469),s=n.n(l),f=n(683608),p=n.n(f);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t,e){return"<wps:Input>"+"<ows:Identifier>".concat(t,"</ows:Identifier>")+e+"</wps:Input>"},w=function(t){return"<wps:Data>".concat(t,"</wps:Data>")},g=function(t,e,n,r){return'<wps:Reference mimeType="'.concat(t,'" xlink:href="').concat(e,'" method="').concat(n,'"').concat("POST"===n?"":"/",">")+("POST"===n?"<wps:Body>".concat(r,"</wps:Body></wps:Reference>"):"")},h=function(t){return"<wps:LiteralData>".concat(t,"</wps:LiteralData>")},x=function(t,e,n){return"<wps:ComplexData".concat(e?' mimeType="'.concat(e,'"'):"").concat(n?' encoding="'.concat(n,'"'):"",">").concat(t,"</wps:ComplexData>")},O=function(t){return/\bCDATA\b/.test(t)?t:"<![CDATA[".concat(t,"]]>")},S=function(t){return"<wps:ResponseForm>".concat(t,"</wps:ResponseForm>")},P=function(t,e){return"<wps:RawDataOutput".concat(e?' mimeType="'.concat(e,'"'):"",">")+"<ows:Identifier>".concat(t,"</ows:Identifier>")+"</wps:RawDataOutput>"},j=function(t,e,n){return"<wps:ResponseDocument".concat(t?' storeExecuteResponse="true"':"").concat(e?' status="true"':"",">")+n+"</wps:ResponseDocument>"},A=function(t,e,n,r,o){return"<wps:Output".concat(t?' mimeType="'.concat(t,'"'):"").concat(e?' asReference="true"':"",">")+"<ows:Identifier>".concat(n,"</ows:Identifier>")+(r?"<ows:Title>".concat(r,"</ows:Title>"):"")+(o?"<ows:Abstract>".concat(o,"</ows:Abstract>"):"")+"</wps:Output>"},E=function(t){return b("writeParameters",w(x("<dwn:Parameters>".concat(t,"</dwn:Parameters>"))))},k=function(t,e){return'<dwn:Parameter key="'.concat(t,'">').concat(e,"</dwn:Parameter>")},I=function(t,e){var n=o().parse(t,!0),r=n.pathname;return(a()(n.pathname,"wfs")||a()(n.pathname,"wms"))&&(r=n.pathname.replace(/(wms|ows|wfs|wps)$/,"wps")),o().format(v(v({},n),{},{search:null,pathname:r,query:v(v({service:"WPS"},e),n.query)}))},D=function(t,e){if(t&&c()(t))return I(t,e);if(s()(t)){var n=p()(0,t.length-1);return I(t[n],e)}return t}},27835:(t,e,n)=>{"use strict";n.d(e,{Uh:()=>O,W5:()=>S,ai:()=>A,RW:()=>E,dr:()=>k,mG:()=>I,ZP:()=>D});var r=n(406557),o=n.n(r),i=n(49977),a=n(505055),u=n(507526),c=n(375875),l=n.n(c),s=n(199767);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}function b(t){var e="function"==typeof Map?new Map:void 0;return b=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(w())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&g(o,n.prototype),o}(t,arguments,h(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,t)},b(t)}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w=function(){return!!t})()}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var x=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=h(e),function(t,e){if(e&&("object"==f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}(this,e,[t])).name="WPSExecuteError",r.code=n||t,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(b(Error)),O=function(t,e,n){return'<?xml version="1.0" encoding="UTF-8"?><wps:Execute version="1.0.0" service="WPS" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.opengis.net/wps/1.0.0" xmlns:wfs="http://www.opengis.net/wfs" xmlns:wps="http://www.opengis.net/wps/1.0.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:wcs="http://www.opengis.net/wcs/1.1.1" xmlns:dwn="http://geoserver.org/wps/download" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">'+"<ows:Identifier>".concat(t,"</ows:Identifier>")+"<wps:DataInputs>"+(e||[]).join("")+"</wps:DataInputs>"+(n||"")+"</wps:Execute>"},S=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.Observable.defer((function(){return l().get((0,s.Jy)(t,{version:"1.0.0",REQUEST:"GetExecutionStatus",executionId:e}),y({headers:{Accept:"application/xml"}},n))}))},P=function(t,e){var n,r,i=function(t){var e,n,r,i,a,u,c,l,s,f,p,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o(),y=null==t||null===(e=t.ExecuteResponse)||void 0===e||null===(n=e.Status)||void 0===n?void 0:n[0];return null!=y&&y.ProcessAccepted?{status:"ProcessAccepted"}:null!=y&&y.ProcessStarted?{status:"ProcessStarted"}:null!=y&&y.ProcessSucceeded?{status:"ProcessSucceeded",data:d(null===(r=t.ExecuteResponse.ProcessOutputs)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.Output)}:null!=y&&y.ProcessFailed?{status:"ProcessFailed",exceptionReport:null==y||null===(a=y.ProcessFailed)||void 0===a||null===(u=a[0])||void 0===u||null===(c=u.ExceptionReport)||void 0===c||null===(l=c[0])||void 0===l||null===(s=l.Exception)||void 0===s||null===(f=s[0])||void 0===f||null===(p=f.ExceptionText)||void 0===p?void 0:p[0]}:null!=y&&y.ProcessPaused?{status:"ProcessPaused"}:{status:"UnexpectedStatus"}}(t,e);if("ProcessFailed"===i.status)throw new x(i.exceptionReport,"ProcessFailed");if("UnexpectedStatus"===i.status)throw new x("UnexpectedProcessStatus");if("ProcessSucceeded"===i.status)return{succeeded:!0,data:i.data};var a=null==t||null===(n=t.ExecuteResponse)||void 0===n||null===(r=n.$)||void 0===r?void 0:r.statusLocation;if(!a)throw new x("NoStatusLocation");var u=a.indexOf("executionId=");if(-1===u)throw new x("NoExecutionId");var c=a.slice(u+12),l=c.indexOf("&");return{succeeded:!1,executionId:-1===l?c:c.slice(0,l)}},j=function(t){var e,n;return null!=t&&null!==(e=t.Identifier)&&void 0!==e&&e[0]?{identifier:null==t||null===(n=t.Identifier)||void 0===n?void 0:n[0]}:null},A=function(t){var e,n,r,o,i;return null!=t&&null!==(e=t.Data)&&void 0!==e&&null!==(n=e[0])&&void 0!==n&&n.LiteralData?{data:null==t||null===(r=t.Data)||void 0===r||null===(o=r[0])||void 0===o||null===(i=o.LiteralData)||void 0===i?void 0:i[0]}:null},E=function(t){var e,n,r,o,i,a;return null!=t&&t.Reference?{href:null==t||null===(e=t.Reference)||void 0===e||null===(n=e[0])||void 0===n||null===(r=n.$)||void 0===r?void 0:r.href,mimeType:null==t||null===(o=t.Reference)||void 0===o||null===(i=o[0])||void 0===i||null===(a=i.$)||void 0===a?void 0:a.mimeType}:null},k=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return[j].concat((n=e||[],function(t){if(Array.isArray(t))return p(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map((function(e){return e(t)})).reduce((function(t,e){return e?y(y({},t),e):t}),{});var n}))}},I=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.executeStatusUpdateInterval,c=void 0===o?2e3:o,f=n.outputsExtractor,p=function(t){return i.Observable.defer((function(){return new Promise((function(e,n){return(0,a.parseString)(t,{tagNameProcessors:[u.stripPrefix]},(function(t,r){return t?n(t):e(r)}))}))}))};return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.Observable.defer((function(){return l().post((0,s.Jy)(t,{version:"1.0.0",REQUEST:"Execute"}),e,y({headers:{"Content-Type":"application/xml"}},n))}))}(t,e,r).catch((function(t){if(t.__CANCEL__)throw t;throw new x("ExecuteProcessXHRFailed")})).switchMap((function(t){return"application/xml"===t.headers["content-type"]||"text/xml"===t.headers["content-type"]?p(t.data).map((function(e){return{data:e,type:"application/xml",originalData:t.data}})):i.Observable.of({data:t.data,type:t.headers["content-type"]})})).flatMap((function(e){var n=e.data,r=e.type,o=e.originalData;if("application/xml"!==r)return i.Observable.of(n);if(null==n||!n.ExecuteResponse)return i.Observable.of(o);var a=P(n,f),u=a.succeeded,l=a.data,s=a.executionId;if(u)return i.Observable.of(l);var d=i.Observable.interval(c).take(1).flatMap((function(){return S(t,s).catch((function(){throw new x("GetExecutionStatusXHRFailed")})).flatMap((function(t){return p(t.data).flatMap((function(t){var e=P(t,f);return e.succeeded?i.Observable.of(e.data):d}))}))}));return d}))};const D=I},129389:(t,e,n)=>{"use strict";n.d(e,{S:()=>v,G:()=>m});var r=n(944908),o=n.n(r),i=n(65792),a=n.n(i);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var d={red:["#000","#f00"],green:["#000","#008000","#0f0"],blue:["#000","#00f"],gray:["#333","#eee"],jet:["#00f","#ff0","#f00"],random:["#57663d","#408064","#3d539a","#af36b3","#cdff29"]},y=o()(Object.keys(a().brewer).map((function(t){return t.toLocaleLowerCase()}))).map((function(t){return{name:t,colors:t}})),v=[].concat(f(Object.keys(d).map((function(t){return{name:t,colors:d[t]}}))),f(y)).map((function(t){return l(l({},t),{},{label:"global.colors.".concat(t.name)})})),m=function(t){var e;return null!==(e=d[t])&&void 0!==e?e:t}},12226:(t,e,n)=>{"use strict";n.d(e,{B:()=>o});var r=n(562651);function o(t,e){return(0,r.U)(t)(e)}}}]);