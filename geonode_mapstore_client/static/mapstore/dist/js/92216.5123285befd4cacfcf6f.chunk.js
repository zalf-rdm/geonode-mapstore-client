(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[92216],{81593:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(124852),o=r(945338);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return(e=function(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return f(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}const p=function(t){var e,r=t.direction,i=void 0===r?"horizontal":r,a=t.deltaScroll,p=t.width,d=t.height,y=t.transition,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],v=l((0,n.useState)(0),2),m=v[0],g=v[1],h=l((0,n.useState)(0),2),O=h[0],S=h[1],w=(0,n.useRef)({x:0,y:0}),j=l((0,n.useState)(!1),2),P=j[0],C=j[1],E=l((0,n.useState)("start"),2),k=E[0],N=E[1],I=l((0,n.useState)(),2),T=I[0],R=I[1],x=(0,n.useRef)(),A=(0,n.useRef)({});function D(t,e){R("move:start");var r=x.current,n=r.parentNode,o=r.getBoundingClientRect(),a=n.getBoundingClientRect();if("horizontal"===i){var c=t+o.width;t<0&&c>a.width?(g(t),w.current.x=t,N("center")):t>=0?(g(0),w.current.x=0,N("start")):c<=a.width&&(g(a.width-o.width),w.current.x=a.width-o.width,N("end"))}if("vertical"===i){var u=e+o.height;e<0&&u>a.height?(S(e),w.current.y=e,N("center")):e>=0?(S(0),w.current.y=0,N("start")):u<=a.height&&(S(a.height-o.height),w.current.y=a.height-o.height,N("end"))}setTimeout((function(){R("move:end")}),y)}function _(){var t=x.current,e=t.parentNode,r=t.getBoundingClientRect(),n=e.getBoundingClientRect();return!("horizontal"===i&&n.width>=r.width||"vertical"===i&&n.height>=r.height)}(0,n.useEffect)((function(){function t(t){t.preventDefault();var e=_();return C(_()),e?D(w.current.x-(t.deltaY>0?a:-a),w.current.y-(t.deltaY>0?a:-a)):null}var e=_();C(e);var r=x.current.parentNode;return e&&D(w.current.x,w.current.y),e&&r&&r.addEventListener&&r.addEventListener("wheel",t),function(){e&&r&&r.removeEventListener&&r.removeEventListener("wheel",t)}}),[p,d].concat(function(t){if(Array.isArray(t))return f(t)}(e=b)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var Z=(0,o.QS)({onSwiping:function(t){t.event.stopPropagation();var e=_();return C(_()),e?D(m-t.deltaX*t.velocity,O-t.deltaY*t.velocity):null},trackTouch:!0,trackMouse:!0});function B(t){var e=A.current[t];if(e){var r=x.current,n=(r&&r.parentNode).getBoundingClientRect(),o=e.getBoundingClientRect();if("horizontal"===i){var a=n.width,c=n.left,u=o.width,l=o.left,s=c+a,f=l+u;return c<=l&&s>=l||c<=f&&s>=f}}return!1}return{status:T,canSwipe:P,isStartControlActive:P&&("end"===k||"center"===k),isEndControlActive:P&&("start"===k||"center"===k),positionLabel:k,coordinates:{x:m,y:O},containerPropsHandlers:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style,e=void 0===t?{}:t;return c(c({},Z),{},{style:c({position:"relative",overflow:"hidden",width:"100%",height:"100%"},e)})},contentPropsHandlers:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style,e=void 0===t?{}:t;return{ref:x,style:c(c(c(c({position:"absolute",display:"flex"},y&&{transition:"transform ".concat(y,"ms ease 0s")}),{},{flexDirection:"horizontal"===i?"row":"column"},P&&"horizontal"===i&&{transform:"translateX(".concat(m,"px)")}),P&&"vertical"===i&&{transform:"translateY(".concat(O,"px)")}),e)}},itemPropsHandlers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,r=t.onClick;return c({key:e,ref:function(t){return t&&function(t,e){A.current=c(c({},A.current),{},u({},t,e))}(e,t)}},r?{onClick:r,tabindex:B(e)?0:-1,onKeyDown:function(t){"Enter"===t.key&&r()}}:{tabindex:-1})},updateCoordinates:D,moveItemInViewById:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).margin,r=void 0===e?0:e,n=A.current[t];if(n){var o=x.current,a=(o&&o.parentNode).getBoundingClientRect(),c=n.getBoundingClientRect();if("horizontal"===i){var u=a.width,l=a.left,s=c.width,f=c.left;l<=f&&l+u>=f+s||D(-(f-o.getBoundingClientRect().left)+r,void 0)}}},moveToDeltaSize:function(t){D(m+t,O+t)}}}},807472:(t,e,r)=>{"use strict";r.d(e,{Z:()=>C});var n=r(727418),o=r.n(n),i=r(45697),a=r.n(i),c=r(124852),u=r.n(c),l=r(485294),s=r.n(l),f=r(472986),p=r.n(f),d=r(805346);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function g(t,e,r){return e=O(e),function(t,e){if(e&&("object"==y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,r||[],O(t).constructor):e.apply(t,r))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function w(t,e,r){return(e=j(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}var P=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return w(t=g(this,e,[].concat(n)),"renderLoading",(function(){return t.props.maskLoading?u().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},u().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},u().createElement(d.Z,{msgId:"loading"}),u().createElement(p(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),w(t,"renderRole",(function(e){return u().Children.toArray(t.props.children).filter((function(t){return t.props.role===e}))})),w(t,"hasRole",(function(e){return u().Children.toArray(t.props.children).filter((function(t){return t.props.role===e})).length>0})),w(t,"onClickOut",(function(e){t.props.onClickOut&&t.mask===e.target&&t.props.onClickOut(e)})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){var t=this,e=u().createElement("div",{id:this.props.id,style:v({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},u().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),u().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?u().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):u().createElement("span",null)),r=this.props.draggable?u().createElement(s(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},e):e,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?u().createElement("div",{ref:function(e){t.mask=e},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&m(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(u().Component);w(P,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),w(P,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const C=P},212610:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(124852),o=r.n(n),i=r(867076),a=r(957557),c=r.n(a),u=r(815135);const l=(0,i.branch)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disabled,r=t.noTooltipWhenDisabled;return!(void 0!==r&&r&&e)}),u.Z,(function(t){return function(e){return o().createElement(t,c()(e,["tooltipId","tooltip","noTooltipWhenDisabled"]),e.children)}}))},617252:(t,e,r)=>{"use strict";r.d(e,{Z:()=>O});var n=r(124852),o=r.n(n),i=r(867076),a=r(45697),c=r.n(a),u=r(957557),l=r.n(u),s=r(480681),f=r(950966);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function y(t,e,r){return e=v(e),function(t,e){if(e&&("object"==p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,r||[],v(t).constructor):e.apply(t,r))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}const O=(0,i.branch)((function(t){return t.popover}),(function(t){var e;return e=function(e){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),y(this,r,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(r,e),n=r,(a=[{key:"renderPopover",value:function(){return o().createElement(s.J2,l()(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var e=(0,i.toClass)(t);return o().createElement(e,l()(this.props,["popover"]))}},{key:"render",value:function(){var t=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return o().createElement("span",null,o().createElement(f.Z,{trigger:t,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&d(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(o().Component),g(e,"propTypes",{popover:c().object}),g(e,"defaultProps",{popover:{trigger:!0}}),e}))},80717:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(124852),o=r.n(n),i=r(819081),a=r.n(i),c=r(480681),u=r(90085),l=["visible","Element","renderButton"];function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s.apply(null,arguments)}const f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.buttons,r=void 0===e?[]:e,n=t.btnGroupProps,i=void 0===n?{}:n,f=t.btnDefaultProps,p=void 0===f?{}:f,d=t.transitionProps,y=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,b=function(){return r.map((function(t,e){var r=t.visible,n=void 0===r||r,i=t.Element,a=t.renderButton,c=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,l);return n?a||i&&o().createElement(i,s({key:c.key||e},c))||o().createElement(u.Z,s({key:c.key||e},p,c)):null}))};return o().createElement(c.hE,i,y?o().createElement(a(),y,b()):b())}},90085:(t,e,r)=>{"use strict";r.d(e,{Z:()=>v});var n=r(124852),o=r.n(n),i=r(867076),a=r(805346),c=r(957557),u=r.n(c),l=r(480681),s=r(532425),f=r(212610),p=r(617252),d=r(38560),y=["glyph","loading","text","textId","glyphClassName","loaderProps","children"];function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b.apply(null,arguments)}const v=(0,i.compose)(f.Z,p.Z)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.glyph,r=t.loading,n=t.text,i=void 0===n?"":n,c=t.textId,f=t.glyphClassName,p=void 0===f?"":f,v=t.loaderProps,m=void 0===v?{}:v,g=t.children,h=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,y);return o().createElement(d.Z,u()(h,["pullRight","confirmNo","confirmYes"]),e&&!r?o().createElement(l.gG,{glyph:e,className:p}):null,c?o().createElement(a.Z,{msgId:c}):i,r?o().createElement(s.Z,b({className:"ms-loader".concat(h.bsStyle&&" ms-loader-"+h.bsStyle||"").concat(h.bsSize&&" ms-loader-"+h.bsSize||"")},m)):null,g)}))},166190:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n=r(227361),o=r.n(n),i=r(747037),a=r.n(i),c=r(281763),u=r.n(c),l=r(630998),s=r.n(l),f=r(313311),p=r.n(f),d=r(968630),y=r.n(d),b=r(701469),v=r.n(b),m=r(984596),g=r.n(m),h=r(545578),O=r.n(h),S=r(761868),w=r(192579),j=r(134990);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?C(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return(e=function(t){var e=function(t){if("object"!=P(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return I(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var T=function t(e,r,n){var o=n.contents,i=n.background,a=n.id,c=n.resourceId,u=[],l=r+'{"id": "'.concat(a,'"}]');return c===e?[l]:(i&&i.resourceId===e&&u.push(l+".background"),o?o.reduce((function(r,n){return[].concat(N(r),N(t(e,l+".contents[",n)))}),u):u)},R={mode:"view",isCollapsed:!1,focusedContent:{},currentPage:{},settings:{},oldSettings:{},updateUrlOnScroll:!1};const x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j.D7:var r=e.id,n=e.path,i=e.position,c=e.element,l=(0,w.Ll)("currentStory.".concat(n),t),f=o()(t,l,[]),d=function(t,e){var r=t.length,n=0;return e||0===e||(n=r),a()(e)?n=s()(t,{id:e})+1:u()(e)&&(n=Math.min(e,t.length)),n}(f,i),b=f.slice();return b.splice(d,0,E({id:r},c)),(0,S.t8)(l,b,t);case j.mN:var m=e.id,h=e.mediaType,P=e.data;return(0,S.t8)("currentStory.resources",O()([{id:m,type:h,data:P}].concat(N(t.currentStory&&t.currentStory.resources||[])),"id"),t);case j.vb:return(0,S.t8)("mode",e.mode,t);case j.QK:var C=e.id,I=e.mediaType,x=e.data,A=(0,S.cc)("currentStory.resources",{id:C,type:I,data:x},{id:C},t);return I===w.Tr.MAP&&t.currentStory.sections.filter((function(t){return t.type!==w.ID.CAROUSEL})).reduce((function(t,e){return[].concat(N(t),N(T(C,"sections[",e)))}),[]).map((function(e){var r=(0,w.Ll)("currentStory.".concat(e,".map"),t);A=(0,S.t8)(r,void 0,A)})),A;case j.Ro:var D=e.id,_=e.mediaType,Z=(0,S.z6)("currentStory.resources",{id:D},t);return t.currentStory.sections.reduce((function(t,e){return[].concat(N(t),N(T(D,"sections[",e)))}),[]).map((function(e){var r=(0,w.Ll)("currentStory.".concat(e,".resourceId"),t);if(Z=(0,S.zN)(r,Z),_===w.Tr.MAP){var n=(0,w.Ll)("currentStory.".concat(e,".map"),t);Z=(0,S.zN)(n,Z)}})),Z;case j.lX:return(0,S.t8)("loading"===e.name?"loading":"loadFlags.".concat(e.name),e.value,(0,S.t8)("loading",e.value,t));case j.Dq:var B=e.path,L=(0,w.Ll)("currentStory.".concat(B),t),z=N(L),M=z.pop(),Y=o()(t,z);return v()(Y)?(a()(M)&&(M=parseInt(M,10)),(0,S.t8)(z,[].concat(N(Y.slice(0,M)),N(Y.slice(M+1))),t)):(0,S.zN)(L,t);case j.ij:var q,F,K,U,W,H=t.defaultSettings||{},Q=e.story.settings||H,X=(null===(q=Q)||void 0===q||null===(F=q.theme)||void 0===F?void 0:F.fontFamilies)||[],$=null===(K=t.currentStory)||void 0===K||null===(U=K.settings)||void 0===U||null===(W=U.theme)||void 0===W?void 0:W.fontFamilies;return $&&$.length>0&&(Q=(0,S.t8)("theme.fontFamilies",O()([].concat(N($),N(X)),"family"),Q)),(0,S.t8)("currentStory",E(E({},e.story),{},{settings:Q}),t);case j.i2:return(0,S.t8)("selectedCard",t.selectedCard===e.card?"":e.card,t);case j.IY:var G=e.control,J=e.value;return(0,S.t8)("controls.".concat(G),J,t);case j.Zf:var V=e.resource,tt=t.currentStory&&t.currentStory.settings||{};return(0,S.qC)((0,S.t8)("resource",V),(0,S.t8)("currentStory.settings.storyTitle",tt.storyTitle||V.name))(t);case j.si:case j.KT:return(0,S.zN)("errors.save",t);case j.SW:return(0,S.t8)("errors.save",g()(e.error),t);case j.Mk:return(0,S.t8)("isCollapsed",!t.isCollapsed,t);case j.NZ:var et=o()(t,"currentStory.settings.".concat(e.option));return(0,S.t8)("currentStory.settings.".concat(e.option),!et,t);case j.c:var rt=!t.isSettingsEnabled,nt=t.currentStory&&t.currentStory.settings||{};return(0,S.qC)((0,S.t8)("isSettingsEnabled",rt),(0,S.t8)("oldSettings",rt?nt:{}),(0,S.t8)("currentStory.settings",rt?E({},nt):e.withSave?nt:t.oldSettings))(t);case j.wb:var ot=e.path,it=e.mode,at=e.options,ct=e.element,ut=(0,w.Ll)("currentStory.".concat(ot),t),lt=o()(t,ut);return y()(lt)&&y()(ct)&&"merge"===it&&(ct=E(E({},lt),ct)),v()(lt)&&v()(ct)&&"merge"===it&&(ct=null!=at&&at.uniqueByKey?O()([].concat(N(lt),N(ct)),at.uniqueByKey):[].concat(N(lt),N(ct))),(0,S.t8)(ut,ct,t);case j.km:return(0,S.t8)("currentStory.settings.".concat(e.prop),e.value,t);case j.un:if(e.columnId){var st=p()(t.currentStory.sections,(function(t){return p()(t.contents,{id:e.columnId})}));return st&&p()(st.contents,{id:e.columnId})?(0,S.t8)("currentPage",E(E({},t.currentPage),{},{columns:E(E({},t.currentPage.columns),{},k({},st.id,e.columnId))}),t):t}return(0,S.t8)("currentPage",E(E({},t.currentPage),{},{sectionId:e.sectionId}),t);case j.Cx:var ft=e.status,pt=e.target,dt=e.selector,yt=void 0===dt?"":dt,bt=e.hideContent,vt=void 0!==bt&&bt,mt=e.path,gt=ft?{target:pt,selector:yt,hideContent:vt,path:mt}:void 0;return(0,S.t8)("focusedContent",gt,t);case j.jr:return(0,S.t8)("pendingChanges",e.value,t);case j.ZY:return(0,S.t8)("updateUrlOnScroll",e.value,t);case j.EQ:return(0,S.t8)("mediaEditorSettings",e.mediaEditorSettings,t);case j.W$:if(e.sectionId){var ht=p()(t.currentStory.sections,(function(t){return p()(t.contents,{id:e.showContentId})}));return ht&&p()(ht.contents,{id:e.showContentId})?(0,S.t8)("currentStory",E(E({},t.currentStory),{},{sections:(0,w.eI)(t.currentStory.sections,e)}),t):t}return t;case j.mk:return(0,S.t8)("drawOptions",e.drawOptions,t);default:return t}}}}]);