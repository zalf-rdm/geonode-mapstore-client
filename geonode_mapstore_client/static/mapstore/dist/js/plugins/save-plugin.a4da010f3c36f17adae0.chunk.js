(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[14831],{921914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>c,Ih:()=>i,Xw:()=>a,Pn:()=>u,DZ:()=>s,e8:()=>l,E0:()=>p,F9:()=>f,X_:()=>d,pb:()=>y,qb:()=>E,Re:()=>O,ih:()=>v,xy:()=>g,jL:()=>b,oz:()=>m,ph:()=>I,lF:()=>_,gG:()=>P,cb:()=>h,GI:()=>T,B1:()=>N,fv:()=>j,gc:()=>w,zX:()=>F,ZF:()=>R,Zb:()=>D,DW:()=>A,Xp:()=>S,Fm:()=>G,sV:()=>M,Mn:()=>C,LU:()=>Y,XP:()=>L,WU:()=>Z,JB:()=>U,g:()=>k,ws:()=>H,HP:()=>q,aN:()=>x,Pg:()=>W,u0:()=>X,TM:()=>V,PM:()=>K,lK:()=>B,sv:()=>$,MO:()=>Q,oO:()=>J,Mc:()=>ee,Zw:()=>te,RA:()=>ne,am:()=>re,ZM:()=>oe,wm:()=>ce,Y$:()=>ie,Qu:()=>ae,kT:()=>ue});var r=n(647310),o="LOAD_FEATURE_INFO",c="ERROR_FEATURE_INFO",i="EXCEPTIONS_FEATURE_INFO",a="CHANGE_MAPINFO_STATE",u="NEW_MAPINFO_REQUEST",s="PURGE_MAPINFO_RESULTS",l="CHANGE_MAPINFO_FORMAT",p="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",E="GET_VECTOR_INFO",O="NO_QUERYABLE_LAYERS",v="CLEAR_WARNING",g="FEATURE_INFO_CLICK",b="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",m="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",I="TOGGLE_MAPINFO_STATE",_="UPDATE_CENTER_TO_MARKER",P="IDENTIFY:CHANGE_PAGE",h="IDENTIFY:CLOSE_IDENTIFY",T="IDENTIFY:CHANGE_FORMAT",N="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",j="IDENTIFY:EDIT_LAYER_FEATURES",w="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",F="IDENTIFY:SET_MAP_TRIGGER",R="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",D="IDENTIFY:SET_SHOW_IN_MAP_POPUP",A="IDENTIFY:IDENTIFY_IS_MOUNTED",S="IDENTIFY:INIT_PLUGIN";function G(e,t,n,r,c){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:c}}function M(e,t,n,r){return{type:c,error:t,reqId:e,requestParams:n,layerMetadata:r}}function C(e,t,n,r){return{type:i,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function Y(){return{type:O}}function L(){return{type:v}}function Z(e,t){return{type:u,reqId:e,request:t}}function U(e,t,n,r){return{type:E,layer:e,request:t,metadata:n,queryableLayers:r}}function k(){return{type:s}}function H(e){return{type:l,infoFormat:e}}function q(){return{type:p}}function x(){return{type:f}}function z(e){return{type:d,reverseGeocodeData:e.data}}function W(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(z(e))})).catch((function(e){t(z(e))}))}}function X(){return{type:y}}function V(){return{type:I}}function K(e){return{type:_,status:e}}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:g,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function $(e){return{type:b,point:e}}function Q(e){return{type:m,enabled:e}}function J(e){return{type:P,index:e}}var ee=function(){return{type:h}},te=function(e){return{type:T,format:e}},ne=function(e){return{type:N,showCoordinateEditor:e}},re=function(e){return{type:j,layer:e}},oe=function(e){return{type:w,query:e}},ce=function(e){return{type:F,trigger:e}},ie=function(e){return{type:D,value:e}},ae=function(e){return{type:A,isMounted:e}},ue=function(e){return{type:S,cfg:e}}},647310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(375875),o=n.n(r),c=n(472500),i=n.n(c),a=n(727418),u=n.n(a),s={format:"json",bounded:0,polygon_geojson:1,priority:5};const l={geocode:function(e,t){var n=u()({q:e},s,t||{}),r=i().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=u()({lat:e.lat,lon:e.lng},t||{},s),r=i().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},532425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(675263),o=n.n(r),c=n(124852),i=n.n(c);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,n=e.style,r=void 0===n?{}:n,o=e.className,c=e.hidden;return i().createElement("div",{className:o,style:u({width:t,height:t,overflow:"hidden"},r)},!c&&i().createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const f=p},925108:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(782904),o=n(727418),c=n.n(o),i=n(921914);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.kM:var n=t.property||"enabled";return c()({},e,s({},t.control,c()({},e[t.control],s({},n,!(e[t.control]||{})[n]))));case r.At:return!0===t.toggle&&e[t.control]&&e[t.control][t.property]===t.value?c()({},e,s({},t.control,c()({},e[t.control],s({},t.property,void 0)))):c()({},e,s({},t.control,c()({},e[t.control],s({},t.property,t.value))));case r.dc:return c()({},e,s({},t.control,c()({},e[t.control],t.properties)));case r.l:var o=Object.keys(e).filter((function(e){return-1===(t.skip||[]).indexOf(e)})),a=o.reduce((function(t,n){return c()(t,s({},n,c()({},e[n],!0===e[n].enabled?{enabled:!1}:{})))}),{});return c()({},e,a);case i.DW:return u(u({},e),{},{info:u(u({},e.info),{},{available:t.isMounted})});default:return e}}},228261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(124852),o=n.n(r),c=n(675263),i=n.n(c),a=["id","className","style","children"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function s(e){var t=e.id,n=e.className,r=e.style,c=e.children,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,a),s=n?" "+n:"";return o().createElement(o().Fragment,null,o().createElement("div",u({},i,{id:t,className:"gn-spinner".concat(s),style:r}),o().createElement("div",null)),c)}s.propTypes={id:i().string,className:i().string,style:i().object},s.defaultProps={};const l=s},51605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(228261)},93136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var r=n(124852),o=n.n(r),c=n(675263),i=n.n(c),a=n(171703),u=n(22222),s=n(322843),l=n(805346),p=n(480681),f=n(800827),d=n(532425),y=n(303744),E=n(51605),O=n(274621),v=n(925108),g=n(572036),b=n(162170),m=n(18576),I=n(73443),_=n(76907),P=n(452992),h=n(625635),T=n(782904),N=n(86638);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=(0,a.connect)((0,u.P1)([function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.saving}],(function(e){return{saving:e}})))((function(e){return e.saving?o().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.75)",top:"0px",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",right:"0px"}},o().createElement(d.Z,{size:150})):null}));function R(e,t){var n=e.enabled,c=e.onClick,i=e.variant,a=e.size,u=e.loading,s=e.className,p=e.dirtyState,f=e.location,d=e.history,O=e.onStorePendingChanges,v=t.messages,g=(0,r.useRef)();return g.current=p,(0,r.useEffect)((function(){var e,t=null==d||null===(e=d.location)||void 0===e?void 0:e.pathname;function n(e){g.current&&((e||window.event).returnValue=null)}return window.addEventListener("beforeunload",n),function(){var e;window.removeEventListener("beforeunload",n),t!==(null==d||null===(e=d.location)||void 0===e?void 0:e.pathname)&&g.current&&(window.confirm((0,N.S$)(v,"gnviewer.prompPendingChanges"))?O(null):(O(g.current),d.replace(f)))}}),[]),n?o().createElement(y.Z,{variant:p?"warning":i||"primary",size:a,onClick:function(){return c()},disabled:u,className:s},o().createElement(l.Z,{msgId:"save"})," ",u&&o().createElement(E.Z,null)):null}R.contextTypes={messages:i().object};var D=(0,a.connect)((0,u.P1)(O.jl,_.V$,_.il,f._H,P.IX,_.YR,(function(e,t,n,r,o,c){return{enabled:e&&!t&&(n||(null==r?void 0:r.canEdit)),loading:o,dirtyState:c}})),{onClick:I.nY,onStorePendingChanges:T.Xg.bind(null,"pendingChanges","value")})((0,h.EN)(R));const A=(0,s.rx)("Save",{component:F,containers:{BurgerMenu:{name:"save",position:30,text:o().createElement(l.Z,{msgId:"save"}),icon:o().createElement(p.Glyphicon,{glyph:"floppy-open"}),action:I.nY,selector:(0,u.P1)(O.jl,_.V$,_.il,f._H,(function(e,t,n,r){return{style:e&&!t&&(n||null!=r&&r.canEdit)?{}:{display:"none"}}}))},ActionNavbar:{name:"Save",Component:D}},epics:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m.ZP),reducers:{gnresource:g.Z,gnsave:b.Z,controls:v.Z}})},162170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(73443),o=n(643892),c={};const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.$X:return c;case r.rs:case r.oz:return{saving:!0,error:void 0,success:void 0};case o.Js:return{savingThumbnailMap:!0};case r.AY:return{success:t.success,saving:!1};case r.SW:return{error:t.error,saving:!1};case r.yB:return{};default:return e}}}}]);