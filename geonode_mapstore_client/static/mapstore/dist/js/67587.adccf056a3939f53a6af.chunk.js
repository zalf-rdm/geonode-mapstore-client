(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[67587],{162435:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}},771831:e=>{e.exports=function(e){if(Array.isArray(e))return e}},611489:(e,t,r)=>{var o=r(162435);e.exports=function(e){if(Array.isArray(e))return o(e)}},170107:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},587218:e=>{function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}},441695:e=>{e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},904301:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},298470:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(o=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);o=!0);}catch(e){n=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(n)throw a}}return r}}},574269:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},642278:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},783271:(e,t,r)=>{var o=r(771831),n=r(298470),a=r(722209),l=r(574269);e.exports=function(e,t){return o(e)||n(e,t)||a(e,t)||l()}},54276:(e,t,r)=>{var o=r(611489),n=r(904301),a=r(722209),l=r(642278);e.exports=function(e){return o(e)||n(e)||a(e)||l()}},722209:(e,t,r)=>{var o=r(162435);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}},574851:e=>{"use strict";e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},444020:e=>{"use strict";var t="%[a-f0-9]{2}",r=new RegExp(t,"gi"),o=new RegExp("("+t+")+","gi");function n(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],n(r),n(o))}function a(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r),o=1;o<t.length;o++)t=(e=n(t,o).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=a(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="�";for(var l=Object.keys(t),i=0;i<l.length;i++){var s=l[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},92806:e=>{"use strict";e.exports=function(e,t){for(var r={},o=Object.keys(e),n=Array.isArray(t),a=0;a<o.length;a++){var l=o[a],i=e[l];(n?-1!==t.indexOf(l):t(l,i,e))&&(r[l]=i)}return r}},253772:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=r(831219),a=r(548039),l=r(898185),i=r(120767),s=r(315565),u=r(409371),c=r(162875),f=r(218663),p=r(902661),y=r(539588),d=r(389539),g=r(227361),h=function(){function e(e){this.title="OpenLayers Style Parser",this.OlStyleConstructor=n.default,this.OlStyleImageConstructor=a.default,this.OlStyleFillConstructor=l.default,this.OlStyleStrokeConstructor=i.default,this.OlStyleTextConstructor=s.default,this.OlStyleCircleConstructor=u.default,this.OlStyleIconConstructor=c.default,this.OlStyleRegularshapeConstructor=f.default,this.isOlParserStyleFct=function(e){return"function"==typeof e},e&&(this.OlStyleConstructor=e.style.Style,this.OlStyleImageConstructor=e.style.Image,this.OlStyleFillConstructor=e.style.Fill,this.OlStyleStrokeConstructor=e.style.Stroke,this.OlStyleTextConstructor=e.style.Text,this.OlStyleCircleConstructor=e.style.Circle,this.OlStyleIconConstructor=e.style.Icon,this.OlStyleRegularshapeConstructor=e.style.RegularShape)}return e.prototype.getPointSymbolizerFromOlStyle=function(e){var t;if(e.getImage()instanceof this.OlStyleCircleConstructor){var r=e.getImage(),o=r.getFill(),n=r.getStroke();t={kind:"Mark",wellKnownName:"Circle",color:o?p.default.getHexColor(o.getColor()):void 0,opacity:o?p.default.getOpacity(o.getColor()):void 0,radius:0!==r.getRadius()?r.getRadius():5,strokeColor:n?n.getColor():void 0,strokeOpacity:n?p.default.getOpacity(n.getColor()):void 0,strokeWidth:n?n.getWidth():void 0}}else if(e.getImage()instanceof this.OlStyleRegularshapeConstructor){var a=e.getImage(),l=(o=a.getFill(),n=a.getStroke(),a.getRadius()),i=a.getRadius2(),s=a.getPoints(),u=a.getAngle(),c={kind:"Mark",color:o?p.default.getHexColor(o.getColor()):void 0,opacity:o?p.default.getOpacity(o.getColor()):void 0,strokeColor:n?n.getColor():void 0,strokeOpacity:n?p.default.getOpacity(n.getColor()):void 0,strokeWidth:n?n.getWidth():void 0,radius:0!==l?l:5,rotate:a.getRotation()/Math.PI*180};switch(s){case 2:switch(u){case 0:c.wellKnownName="shape://vertline";break;case Math.PI/2:c.wellKnownName="shape://horline";break;case Math.PI/4:c.wellKnownName="shape://slash";break;case 2*Math.PI-Math.PI/4:c.wellKnownName="shape://backslash"}break;case 3:switch(u){case 0:c.wellKnownName="Triangle";break;case Math.PI/2:c.wellKnownName="shape://carrow"}break;case 4:d.isNumber(i)?0===a.getAngle()?c.wellKnownName="Cross":c.wellKnownName="X":c.wellKnownName="Square";break;case 5:c.wellKnownName="Star";break;default:throw new Error("Could not parse OlStyle. Only 2, 3, 4 or 5 point regular shapes are allowed")}t=c}else{var f=e.getImage();t={kind:"Icon",image:f.getSrc()?f.getSrc():void 0,opacity:f.getOpacity(),size:0!==f.getScale()?f.getScale():5,rotate:f.getRotation()/Math.PI*180}}return t},e.prototype.getLineSymbolizerFromOlStyle=function(e){var t=e.getStroke(),r=t?t.getLineDash():void 0;return{kind:"Line",color:t?p.default.getHexColor(t.getColor()):void 0,opacity:t?p.default.getOpacity(t.getColor()):void 0,width:t?t.getWidth():void 0,cap:t?t.getLineCap():"butt",join:t?t.getLineJoin():"miter",dasharray:r||void 0,dashOffset:t?t.getLineDashOffset():void 0}},e.prototype.getFillSymbolizerFromOlStyle=function(e){var t=e.getFill(),r=e.getStroke();return{kind:"Fill",color:t?p.default.getHexColor(t.getColor()):void 0,opacity:t?p.default.getOpacity(t.getColor()):void 0,outlineColor:r?r.getColor():void 0,outlineWidth:r?r.getWidth():void 0}},e.prototype.getTextSymbolizerFromOlStyle=function(e){var t,r=e.getText(),o=r.getFill(),n=r.getStroke(),a=r.getOffsetX(),l=r.getOffsetY(),i=r.getFont(),s=r.getRotation(),u=r.getText(),c=1/0,f=void 0;if(i){var y=i.split("px");t=y[0].trim().split(" "),c=parseInt(t[t.length-1],10),f=(2===y.length?y[1]:y[2]).split(",").map((function(e){return e.startsWith(" ")?e.slice(1):e}))}return{kind:"Text",label:u,color:o?p.default.getHexColor(o.getColor()):void 0,size:isFinite(c)?c:void 0,font:f,offset:void 0!==a&&void 0!==l?[a,l]:[0,0],haloColor:n&&n.getColor()?p.default.getHexColor(n.getColor()):void 0,haloWidth:n?n.getWidth():void 0,rotate:void 0!==s?s/Math.PI*180:void 0}},e.prototype.getSymbolizersFromOlStyle=function(e){var t=this,r=[];return e.forEach((function(e){var o;switch(t.getStyleTypeFromOlStyle(e)){case"Point":o=e.getText()?t.getTextSymbolizerFromOlStyle(e):t.getPointSymbolizerFromOlStyle(e);break;case"Line":o=t.getLineSymbolizerFromOlStyle(e);break;case"Fill":o=t.getFillSymbolizerFromOlStyle(e);break;default:throw new Error("Failed to parse SymbolizerKind from OpenLayers Style")}r.push(o)})),r},e.prototype.getRuleFromOlStyle=function(e){return{name:"OL Style Rule 0",symbolizers:Array.isArray(e)?this.getSymbolizersFromOlStyle(e):this.getSymbolizersFromOlStyle([e])}},e.prototype.getStyleTypeFromOlStyle=function(e){var t;if(e.getImage()instanceof this.OlStyleImageConstructor)t="Point";else if(e.getText()instanceof this.OlStyleTextConstructor)t="Point";else if(e.getFill()instanceof this.OlStyleFillConstructor)t="Fill";else{if(!e.getStroke()||e.getFill())throw new Error("StyleType could not be detected");t="Line"}return t},e.prototype.olStyleToGeoStylerStyle=function(e){return{name:"OL Style",rules:[this.getRuleFromOlStyle(e)]}},e.prototype.readStyle=function(e){var t=this;return new Promise((function(r,o){try{t.isOlParserStyleFct(e)?r(e.__geoStylerStyle):r(t.olStyleToGeoStylerStyle(e))}catch(e){o(e)}}))},e.prototype.writeStyle=function(e){var t=this;return new Promise((function(r,o){try{r(t.getOlStyleTypeFromGeoStylerStyle(e))}catch(e){o(e)}}))},e.prototype.getOlStyleTypeFromGeoStylerStyle=function(e){var t=e.rules;if(1===t.length){var r=void 0!==g(e,"rules[0].filter"),o=void 0!==g(e,"rules[0].scaleDenominator.min"),n=void 0!==g(e,"rules[0].scaleDenominator.max"),a=!(!o&&!n),l=e.rules[0].symbolizers.length,i=t[0].symbolizers.some((function(e){return"Text"===e.kind}));return r||a||i?this.geoStylerStyleToOlParserStyleFct(e):1===l?this.geoStylerStyleToOlStyle(e):this.geoStylerStyleToOlStyleArray(e)}return this.geoStylerStyleToOlParserStyleFct(e)},e.prototype.geoStylerStyleToOlStyle=function(e){var t=e.rules[0].symbolizers[0];return this.getOlSymbolizerFromSymbolizer(t)},e.prototype.geoStylerStyleToOlStyleArray=function(e){var t=this,r=e.rules[0],o=[];return r.symbolizers.forEach((function(e){var r=t.getOlSymbolizerFromSymbolizer(e);o.push(r)})),o},e.prototype.geoStylerStyleToOlParserStyleFct=function(e){var t=this,r=e.rules,o=function(e,o){var n=[],a=y.default.getScaleForResolution(o,"m");return r.forEach((function(r){var l=g(r,"scaleDenominator.min"),i=g(r,"scaleDenominator.max"),s=!0;void 0===l&&void 0===i||(void 0!==l&&a<l&&(s=!1),void 0!==i&&a>=i&&(s=!1));var u=!1;if(r.filter)try{u=t.geoStylerFilterToOlParserFilter(e,r.filter)}catch(e){u=!1}else u=!0;s&&u&&r.symbolizers.forEach((function(r){var a=t.getOlSymbolizerFromSymbolizer(r);if("function"!=typeof a)n.push(a);else{var l=a(e,o);n.push(l)}}))})),n};return o.__geoStylerStyle=e,o},e.prototype.geoStylerFilterToOlParserFilter=function(e,t){var r=this,o=!0,n=!1;({"&&":!0,"||":!0,"!":!0})[t[0]]&&(n=!0);try{if(n)switch(t[0]){case"&&":var a=!0,l=t.slice(1);l.forEach((function(t){r.geoStylerFilterToOlParserFilter(e,t)||(a=!1)})),o=a;break;case"||":a=!1,(l=t.slice(1)).forEach((function(t){r.geoStylerFilterToOlParserFilter(e,t)&&(a=!0)})),o=a;break;case"!":o=!this.geoStylerFilterToOlParserFilter(e,t[1]);break;default:throw new Error("Cannot parse Filter. Unknown combination or negation operator.")}else{var i=e.get(t[1]);switch(t[0]){case"==":o=""+i==""+t[2];break;case"*=":"string"==typeof t[2]&&"string"==typeof i&&(o=!(t[2].length>i.length)&&-1!==i.indexOf(t[2]));break;case"!=":o=""+i!=""+t[2];break;case"<":o=parseFloat(i)<parseFloat(t[2]);break;case"<=":o=parseFloat(i)<=parseFloat(t[2]);break;case">":o=parseFloat(i)>parseFloat(t[2]);break;case">=":o=parseFloat(i)>=parseFloat(t[2]);break;default:throw new Error("Cannot parse Filter. Unknown comparison operator.")}}}catch(e){throw new Error("Cannot parse Filter. Invalid structure.")}return o},e.prototype.getOlSymbolizerFromSymbolizer=function(e){var t;switch(e.kind){case"Mark":t=this.getOlPointSymbolizerFromMarkSymbolizer(e);break;case"Icon":t=this.getOlIconSymbolizerFromIconSymbolizer(e);break;case"Text":t=this.getOlTextSymbolizerFromTextSymbolizer(e);break;case"Line":t=this.getOlLineSymbolizerFromLineSymbolizer(e);break;case"Fill":t=this.getOlPolygonSymbolizerFromFillSymbolizer(e);break;default:var r=new this.OlStyleFillConstructor({color:"rgba(255,255,255,0.4)"}),o=new this.OlStyleStrokeConstructor({color:"#3399CC",width:1.25});t=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor({fill:r,stroke:o,radius:5}),fill:r,stroke:o})}return t},e.prototype.getOlPointSymbolizerFromMarkSymbolizer=function(e){var t;(e.strokeColor||void 0!==e.strokeWidth)&&(t=new this.OlStyleStrokeConstructor({color:e.strokeColor&&void 0!==e.strokeOpacity?p.default.getRgbaColor(e.strokeColor,e.strokeOpacity):e.strokeColor,width:e.strokeWidth}));var r,o={fill:new this.OlStyleFillConstructor({color:e.color&&void 0!==e.opacity?p.default.getRgbaColor(e.color,e.opacity):e.color}),opacity:e.opacity||1,radius:e.radius||5,rotation:e.rotate?e.rotate*Math.PI/180:void 0,stroke:t};switch(e.wellKnownName){case"shape://dot":case"Circle":r=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor(o)});break;case"Square":o.points=4,o.angle=45*Math.PI/180,r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"Triangle":o.points=3,o.angle=0,r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"Star":o.points=5,o.radius2=o.radius/2.5,o.angle=0,r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://plus":case"Cross":o.points=4,o.radius2=0,o.angle=0,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://times":case"X":o.points=4,o.radius2=0,o.angle=45*Math.PI/180,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://backslash":o.points=2,o.angle=2*Math.PI-Math.PI/4,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://horline":o.points=2,o.angle=Math.PI/2,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://oarrow":case"shape://carrow":o.points=3,o.angle=Math.PI/2,r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://slash":o.points=2,o.angle=Math.PI/4,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://vertline":o.points=2,o.angle=0,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}return r},e.prototype.getOlIconSymbolizerFromIconSymbolizer=function(e){return new this.OlStyleConstructor({image:new this.OlStyleIconConstructor({src:e.image,crossOrigin:"anonymous",opacity:e.opacity,scale:e.size||1,rotation:e.rotate?e.rotate*Math.PI/180:void 0})})},e.prototype.getOlLineSymbolizerFromLineSymbolizer=function(e){return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:e.color&&null!==e.opacity&&void 0!==e.opacity?p.default.getRgbaColor(e.color,e.opacity):e.color,width:e.width,lineCap:e.cap,lineJoin:e.join,lineDash:e.dasharray,lineDashOffset:e.dashOffset})})},e.prototype.getOlPolygonSymbolizerFromFillSymbolizer=function(e){var t=e.color?new this.OlStyleFillConstructor({color:e.color&&null!==e.opacity&&void 0!==e.opacity?p.default.getRgbaColor(e.color,e.opacity):e.color}):null;return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:e.outlineColor,width:e.outlineWidth}),fill:t})},e.prototype.getOlTextSymbolizerFromTextSymbolizer=function(e){var t=this,r={font:p.default.getTextFont(e),fill:new this.OlStyleFillConstructor({color:e.color&&null!==e.opacity&&void 0!==e.opacity?p.default.getRgbaColor(e.color,e.opacity):e.color}),stroke:new this.OlStyleStrokeConstructor({color:e.haloColor&&null!==e.opacity&&void 0!==e.opacity?p.default.getRgbaColor(e.haloColor,e.opacity):e.haloColor,width:e.haloWidth?e.haloWidth:0}),offsetX:e.offset?e.offset[0]:0,offsetY:e.offset?e.offset[1]:0,rotation:e.rotate?e.rotate*Math.PI/180:void 0},n=new RegExp("\\{\\{.*?\\}\\}","g");return e.label&&e.label.match(n)?function(n,a){var l=new t.OlStyleTextConstructor(o({text:p.default.resolveAttributeTemplate(n,e.label,"")},r));return new t.OlStyleConstructor({text:l})}:new this.OlStyleConstructor({text:new this.OlStyleTextConstructor(o({text:e.label},r))})},e.title="OpenLayers Style Parser",e}();t.OlStyleParser=h,t.default=h},902661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.getRgbaColor=function(e,t){return e.startsWith("rgba(")?e:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?(t<0&&(t=1),"rgba("+parseInt(e.slice(1,3),16)+", "+parseInt(e.slice(3,5),16)+", "+parseInt(e.slice(5,7),16)+", "+t+")"):void 0},e.splitRgbaColor=function(e){var t=e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(/,\s*/);return[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),parseFloat(t[3])]},e.getHexColor=function(t){return t.startsWith("#")?t:t.startsWith("rgb")?"#"+e.splitRgbaColor(t).map((function(e,t){var r=e.toString(16);return t<3?1===r.length?"0"+r:r:""})).join(""):void 0},e.getOpacity=function(t){if(t.startsWith("rgba(")){var r=e.splitRgbaColor(t);return 4===r.length?r[3]:void 0}},e.getTextFont=function(e){return"Normal "+e.size+"px "+e.font},e.resolveAttributeTemplate=function(e,t,r,o){void 0===r&&(r="n.v."),void 0===o&&(o=function(e,t){return t});var n=new RegExp("\\{\\{(.*?)\\}\\}","g"),a=t.match(n);return a&&a.forEach((function(n){for(var a=0,l=0,i=Object.entries(e.getProperties());l<i.length;l++){var s=i[l],u=s[0],c=s[1];if(n.slice(2,n.length-2).toLowerCase()===u.toLowerCase()){t=t.replace(n,o(u,c));break}a++}a===Object.keys(e.getProperties()).length&&(t=t.replace(n,r))})),t},e}();t.default=r},624515:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(577260)).default.getLogger("app-logger");n.setLevel("DEBUG"),t.default=n},705630:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(747037)),a=function(){function e(){}return e.urlify=function(e){return e.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>')},e.coerce=function(t){if(!n.default(t))return t;if("true"===t.toLowerCase())return!0;if("false"===t.toLowerCase())return!1;if(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(t))return parseFloat(t);if(t.startsWith("["))return JSON.parse(t).map((function(t){return e.coerce(t)}));if(t.startsWith("{")){var r=JSON.parse(t),o={};return Object.keys(r).forEach((function(t){o[t]=e.coerce(r[t])})),o}return t},e.stringDivider=function(t,r,o){var n=0,a=r;if(t.length>r){for(var l=r,i=void 0,s=void 0;l>0&&" "!==t[l]&&"-"!==t[l];)l--;return l>0?(i="-"===t.substring(l,l+1)?t.substring(0,l+1):t.substring(0,l),s=t.substring(l+1),i+o+e.stringDivider(s,r,o)):(i=t.substring(n,a+1)+"-",s=t.substring(a+1),n=a,a+=r,i+o+e.stringDivider(s,r,o))}return t},e.stripHTMLTags=function(e){var t;return DOMParser&&(t=(new DOMParser).parseFromString(e,"text/html").body.textContent||""),t},e.sanitizeUrl=function(e){return e.replace(/([^:]\/)\/+/g,"$1").replace(/\/+$/,"")},e}();t.default=a},447063:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtil=void 0;var n=o(r(283457)),a=o(r(693045)),l=o(r(766678)),i=o(r(555114)),s=function(){function e(){}return e.read=function(e){return new n.default(e,null,a.default.parse)},e.write=function(e){return e.toString()},e.getBasePath=function(t){var r=e.read(t);return r.protocol+"//"+r.host+r.pathname},e.getQueryParams=function(t){return e.read(t).query},e.getQueryParam=function(t,r){var o=e.getQueryParams(t);return o[Object.keys(o).filter((function(e){return e.toLowerCase()===r.toLowerCase()}))[0]]},e.joinQueryParams=function(e,t,r){var o=l.default(e);return r.forEach((function(e){o[e]&&(o[e]=o[e].split(",").concat(t[e].split(",")).join(","))})),o},e.hasQueryParam=function(t,r){var o=e.getQueryParams(t);return!!Object.keys(o).some((function(e){return e.toLowerCase()===r.toLowerCase()}))},e.createValidGetCapabilitiesRequest=function(t,r,o){void 0===r&&(r="WMS"),void 0===o&&(o="1.3.0");var n=e.getBasePath(t),a=e.getQueryParams(t);return e.hasQueryParam(t,"SERVICE")||(a.SERVICE=r),e.hasQueryParam(t,"REQUEST")||(a.REQUEST="GetCapabilities"),e.hasQueryParam(t,"VERSION")||(a.VERSION=o),n+"?"+e.objectToRequestString(a)},e.bundleOgcRequests=function(t,r,o){void 0===r&&(r=!1),void 0===o&&(o=["LAYERS","QUERY_LAYERS","STYLES"]);var n={};t.forEach((function(t){var r=e.getQueryParams(t),a=e.getBasePath(t);if(n[a]){var l=n[a],i=r;n[a]=e.joinQueryParams(l,i,o)}else n[a]=r}));var a=[];if(r){for(var l=0,i=Object.entries(n);l<i.length;l++){var s=i[l],u=s[0],c=s[1],f=e.read(u);f.set("query",c),a.push(e.write(f))}return a}return n},e.objectToRequestString=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},e.isValid=function(e,t){return void 0===t&&(t={require_tld:!1,require_protocol:!0,protocols:["http","https","ftp"],require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,disallow_auth:!1}),i.default(e,t)},e}();t.UrlUtil=s,t.default=s},922899:(e,t,r)=>{"use strict";var o=r(29059);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(783271)),a=o(r(170107)),l=o(r(587218)),i=o(r(747037)),s=o(r(701469)),u=o(r(705630)),c=function(){function e(){(0,a.default)(this,e)}return(0,l.default)(e,null,[{key:"getFeatureTypeName",value:function(e){var t=e.getId(),r=t?t.split("."):t;return(0,s.default)(r)?r[0]:void 0}},{key:"getFeatureTypeNameFromGetFeatureInfoUrl",value:function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=/query_layers=(.*?)(&|$)/i,n=e.match(o);return n&&n[1]&&(t=decodeURIComponent(n[1]),!r&&t.indexOf(":")>0&&(t=t.split(":")[1])),t}},{key:"resolveAttributeTemplate",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n.v.",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return t},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l="\\{\\{",s="\\}\\}",c="",f=new RegExp(l+"(.*?)"+s,"g"),p=(0,i.default)(t)?t.match(f):null;return p&&p.forEach((function(a){for(var l=0,i=0,s=Object.entries(e.getProperties());i<s.length;i++){var u=(0,n.default)(s[i],2),c=u[0],f=u[1];if(a.slice(2,a.length-2).toLowerCase()===c.toLowerCase()){t=t.replace(a,o(c,f));break}l++}l===Object.keys(e.getProperties()).length&&(t=t.replace(a,r))})),(c=t)||(c=e.getId()),a||(c=(c=u.default.urlify(c)).replace(/\n/g,"<br>")),c}}]),e}();t.default=c},539588:(e,t,r)=>{"use strict";var o=r(29059);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MapUtil=void 0;var n=o(r(54276)),a=o(r(170107)),l=o(r(587218)),i=o(r(441695)),s=o(r(978471)),u=o(r(991587)),c=o(r(392663)),f=o(r(531742)),p=o(r(910410)),y=o(r(798090)),d=r(440868),g=o(r(447063)),h=o(r(624515)),m=o(r(922899)),v=o(r(630998));function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var w=function(){function e(){(0,a.default)(this,e)}return(0,l.default)(e,null,[{key:"getInteractionsByName",value:function(e,t){var r=[];return e instanceof s.default?(e.getInteractions().forEach((function(e){e.get("name")===t&&r.push(e)})),r):(h.default.debug("Input parameter map must be from type `ol.Map`."),r)}},{key:"getInteractionsByClass",value:function(e,t){var r=[];return e instanceof s.default?(e.getInteractions().forEach((function(e){e instanceof t&&r.push(e)})),r):(h.default.debug("Input parameter map must be from type `ol.Map`."),r)}},{key:"getResolutionForScale",value:function(e,t){var r=d.METERS_PER_UNIT[t];return parseFloat(e)/(39.37*r*(25.4/.28))}},{key:"getScaleForResolution",value:function(e,t){var r=d.METERS_PER_UNIT[t];return parseFloat(e)*r*39.37*(25.4/.28)}},{key:"getAllLayers",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!(t instanceof s.default||t instanceof f.default))return h.default.error("Input parameter collection must be from type `ol.Map`or `ol.layer.Group`."),[];var o=t.getLayers().getArray(),n=[];return o.forEach((function(t){t instanceof f.default&&e.getAllLayers(t).forEach((function(e){r(e)&&n.push(e)})),r(t)&&n.push(t)})),n}},{key:"getLayerByName",value:function(t,r){return e.getAllLayers(t).filter((function(e){return e.get("name")===r}))[0]}},{key:"getLayerByNameParam",value:function(t,r){var o,n,a=S(e.getAllLayers(t));try{for(a.s();!(n=a.n()).done;){var l=n.value;if(l.getSource&&l.getSource().getParams&&l.getSource().getParams().LAYERS===r){o=l;break}}}catch(e){a.e(e)}finally{a.f()}return o}},{key:"getLayerByFeature",value:function(t,r,o){var n,a,l=m.default.getFeatureTypeName(r),i=S(o);try{for(i.s();!(a=i.n()).done;){var s=a.value,u="".concat(s,":").concat(l),c=e.getLayerByNameParam(t,u);if(c){n=c;break}}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"getLayersByGroup",value:function(t,r){var o=[];return r.getLayers().forEach((function(r){r instanceof f.default?o.push.apply(o,(0,n.default)(e.getLayersByGroup(t,r))):o.push(r)})),o}},{key:"getLayersByProperty",value:function(t,r,o){if(t&&r)return e.getAllLayers(t).filter((function(e){return e.get(r)===o}))}},{key:"getLayerPositionInfo",value:function(t,r){var o=r instanceof f.default?r:r.getLayerGroup(),n=o.getLayers().getArray(),a={};return n.indexOf(t)<0?n.forEach((function(r){r instanceof f.default&&!a.groupLayer&&(a=e.getLayerPositionInfo(t,r))})):(a.position=n.indexOf(t),a.groupLayer=o),a}},{key:"getLegendGraphicUrl",value:function(e,t){if(e){var r=e.getSource();if(e instanceof p.default&&r){var o=r instanceof u.default,n=r instanceof c.default;if(o||n){var a=e.getSource(),l=o?a.getUrls()?a.getUrls()[0]:"":a.getUrl(),i={LAYER:a.getParams().LAYERS,VERSION:"1.3.0",SERVICE:"WMS",REQUEST:"getLegendGraphic",FORMAT:"image/png"},s=g.default.objectToRequestString(Object.assign(i,t));return/\?/.test(l)?"".concat(l,"&").concat(s):"".concat(l,"?").concat(s)}h.default.warn('Source of "'.concat(e.get("name"),'" is currently not supported ')+"by MapUtil.getLegendGraphicUrl.")}else h.default.error("Invalid layer passed to MapUtil.getLegendGraphicUrl.")}else h.default.error("No layer passed to MapUtil.getLegendGraphicUrl.")}},{key:"layerInResolutionRange",value:function(e,t){var r=t&&t.getView(),o=r&&r.getResolution();if(!e||!r||!o)return!1;var n=e.getMinResolution(),a=e.getMaxResolution();return o>=n&&o<a}},{key:"roundScale",value:function(e){var t;return e<100&&(t=Math.round(e,10)),e>=100&&e<1e4&&(t=10*Math.round(e/10)),e>=1e4&&e<1e6&&(t=100*Math.round(e/100)),e>=1e6&&(t=1e3*Math.round(e/1e3)),t}},{key:"getZoomForScale",value:function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";if(Number.isNaN(Number(t)))return 0;if(t<0)return 0;var n=e.getResolutionForScale(t,o),a=r.reduce((function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e})),l=(0,v.default)(r,(function(e){return Math.abs(e-a)<=1e-10}));return l}},{key:"zoomToFeatures",value:function(e,t){if(e instanceof s.default){var r=[];if(t.forEach((function(e){null!==e.getGeometry()&&r.push(e.getGeometry())})),r.length>0){var o=new y.default(r);e.getView().fit(o.getExtent())}}}},{key:"isInScaleRange",value:function(e,t){return t>=e.get("minResolution")&&t<e.get("maxResolution")}}]),e}();t.MapUtil=w,(0,i.default)(w,"getLayerByOlUid",(function(e,t){return w.getAllLayers(e).find((function(e){return t===e.ol_uid.toString()}))}));var O=w;t.default=O},577260:function(e,t,r){var o,n;!function(a,l){"use strict";o=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(o){return"debug"===o&&(o="log"),typeof console!==t&&("trace"===o&&r?a:void 0!==console[o]?n(console,o):void 0!==console.log?n(console,"log"):e)}function i(t,r){for(var n=0;n<o.length;n++){var a=o[n];this[a]=n<t?e:this.methodFactory(a,t,r)}this.log=this.debug}function s(e,r,o){return function(){typeof console!==t&&(i.call(this,r,o),this[e].apply(this,arguments))}}function u(e,t,r){return l(e)||s.apply(this,arguments)}function c(e,r,n){var a,l=this;r=null==r?"WARN":r;var s="loglevel";function c(){var e;if(typeof window!==t&&s){try{e=window.localStorage[s]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,o=r.indexOf(encodeURIComponent(s)+"=");-1!==o&&(e=/^([^;]+)/.exec(r.slice(o))[1])}catch(e){}return void 0===l.levels[e]&&(e=void 0),e}}"string"==typeof e?s+=":"+e:"symbol"==typeof e&&(s=void 0),l.name=e,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=n||u,l.getLevel=function(){return a},l.setLevel=function(r,n){if("string"==typeof r&&void 0!==l.levels[r.toUpperCase()]&&(r=l.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(a=r,!1!==n&&function(e){var r=(o[e]||"silent").toUpperCase();if(typeof window!==t&&s){try{return void(window.localStorage[s]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+r+";"}catch(e){}}}(r),i.call(l,r,e),typeof console===t&&r<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){r=e,c()||l.setLevel(e,!1)},l.resetLevel=function(){l.setLevel(r,!1),function(){if(typeof window!==t&&s){try{return void window.localStorage.removeItem(s)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var f=c();null==f&&(f=r),l.setLevel(f,!1)}var f=new c,p={};f.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new c(e,f.getLevel(),f.methodFactory)),t};var y=typeof window!==t?window.log:void 0;return f.noConflict=function(){return typeof window!==t&&window.log===f&&(window.log=y),f},f.getLoggers=function(){return p},f.default=f,f},void 0===(n=o.call(t,r,t,e))||(e.exports=n)}()},693045:(e,t,r)=>{"use strict";const o=r(352921),n=r(444020),a=r(574851),l=r(92806);function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function u(e,t){return t.decode?n(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function f(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function y(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,o)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=r):o[e]=r};case"bracket":return(e,r,o)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],r):o[e]=[r]:o[e]=r};case"comma":case"separator":return(t,r,o)=>{const n="string"==typeof r&&r.includes(e.arrayFormatSeparator),a="string"==typeof r&&!n&&u(r,e).includes(e.arrayFormatSeparator);r=a?u(r,e):r;const l=n||a?r.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===r?r:u(r,e);o[t]=l};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const n of e.split("&")){if(""===n)continue;let[e,l]=a(t.decode?n.replace(/\+/g," "):n,"=");l=void 0===l?null:["comma","separator"].includes(t.arrayFormat)?l:u(l,t),r(u(e,t),l,o)}for(const e of Object.keys(o)){const r=o[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=y(r[e],t);else o[e]=y(r,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const r=o[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=c(r):e[t]=r,e}),Object.create(null))}t.extract=p,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],o=function(e){switch(e.arrayFormat){case"index":return t=>(r,o)=>{const n=r.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[s(t,e),"[",n,"]"].join("")]:[...r,[s(t,e),"[",s(n,e),"]=",s(o,e)].join("")]};case"bracket":return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[s(t,e),"[]"].join("")]:[...r,[s(t,e),"[]=",s(o,e)].join("")];case"comma":case"separator":return t=>(r,o)=>null==o||0===o.length?r:0===r.length?[[s(t,e),"=",s(o,e)].join("")]:[[r,s(o,e)].join(e.arrayFormatSeparator)];default:return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,s(t,e)]:[...r,[s(t,e),"=",s(o,e)].join("")]}}(t),n={};for(const t of Object.keys(e))r(t)||(n[t]=e[t]);const a=Object.keys(n);return!1!==t.sort&&a.sort(t.sort),a.map((r=>{const n=e[r];return void 0===n?"":null===n?s(r,t):Array.isArray(n)?n.reduce(o(r),[]).join("&"):s(r,t)+"="+s(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,o]=a(e,"#");return Object.assign({url:r.split("?")[0]||"",query:d(p(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:u(o,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const o=f(e.url).split("?")[0]||"",n=t.extract(e.url),a=t.parse(n,{sort:!1}),l=Object.assign(a,e.query);let i=t.stringify(l,r);i&&(i=`?${i}`);let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u=`#${s(e.fragmentIdentifier,r)}`),`${o}${i}${u}`},t.pick=(e,r,o)=>{o=Object.assign({parseFragmentIdentifier:!0},o);const{url:n,query:a,fragmentIdentifier:i}=t.parseUrl(e,o);return t.stringifyUrl({url:n,query:l(a,r),fragmentIdentifier:i},o)},t.exclude=(e,r,o)=>{const n=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,n,o)}},352921:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},283457:(e,t,r)=>{"use strict";var o=r(847418),n=r(157129),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,l=/[\n\r\t]/g,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function f(e){return(e||"").toString().replace(a,"")}var p=[["#","hash"],["?","query"],function(e,t){return g(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],y={hash:1,query:1};function d(e){var t,o=("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{}).location||{},n={},a=typeof(e=e||o);if("blob:"===e.protocol)n=new m(unescape(e.pathname),{});else if("string"===a)for(t in n=new m(e,{}),y)delete n[t];else if("object"===a){for(t in e)t in y||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=i.test(e.href))}return n}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function h(e,t){e=(e=f(e)).replace(l,""),t=t||{};var r,o=u.exec(e),n=o[1]?o[1].toLowerCase():"",a=!!o[2],i=!!o[3],s=0;return a?i?(r=o[2]+o[3]+o[4],s=o[2].length+o[3].length):(r=o[2]+o[4],s=o[2].length):i?(r=o[3]+o[4],s=o[3].length):r=o[4],"file:"===n?s>=2&&(r=r.slice(2)):g(n)?r=o[4]:n?a&&(r=r.slice(2)):s>=2&&g(t.protocol)&&(r=o[4]),{protocol:n,slashes:a||g(n),slashesCount:s,rest:r}}function m(e,t,r){if(e=(e=f(e)).replace(l,""),!(this instanceof m))return new m(e,t,r);var a,i,s,u,y,v,S=p.slice(),b=typeof t,w=this,O=0;for("object"!==b&&"string"!==b&&(r=t,t=null),r&&"function"!=typeof r&&(r=n.parse),a=!(i=h(e||"",t=d(t))).protocol&&!i.slashes,w.slashes=i.slashes||a&&t.slashes,w.protocol=i.protocol||t.protocol||"",e=i.rest,("file:"===i.protocol&&(2!==i.slashesCount||c.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!g(w.protocol)))&&(S[3]=[/(.*)/,"pathname"]);O<S.length;O++)"function"!=typeof(u=S[O])?(s=u[0],v=u[1],s!=s?w[v]=e:"string"==typeof s?~(y="@"===s?e.lastIndexOf(s):e.indexOf(s))&&("number"==typeof u[2]?(w[v]=e.slice(0,y),e=e.slice(y+u[2])):(w[v]=e.slice(y),e=e.slice(0,y))):(y=s.exec(e))&&(w[v]=y[1],e=e.slice(0,y.index)),w[v]=w[v]||a&&u[3]&&t[v]||"",u[4]&&(w[v]=w[v].toLowerCase())):e=u(e,w);r&&(w.query=r(w.query)),a&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),o=r.length,n=r[o-1],a=!1,l=0;o--;)"."===r[o]?r.splice(o,1):".."===r[o]?(r.splice(o,1),l++):l&&(0===o&&(a=!0),r.splice(o,1),l--);return a&&r.unshift(""),"."!==n&&".."!==n||r.push(""),r.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&g(w.protocol)&&(w.pathname="/"+w.pathname),o(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(y=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,y),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(y+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&g(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}m.prototype={set:function(e,t,r){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||n.parse)(t)),a[e]=t;break;case"port":a[e]=t,o(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,s.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!r;break;case"pathname":case"hash":if(t){var l="pathname"===e?"/":"#";a[e]=t.charAt(0)!==l?l+t:t}else a[e]=t;break;case"username":case"password":a[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(a.username=t.slice(0,i),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=t.slice(i+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<p.length;u++){var c=p[u];c[4]&&(a[c[1]]=a[c[1]].toLowerCase())}return a.auth=a.password?a.username+":"+a.password:a.username,a.origin="file:"!==a.protocol&&g(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=n.stringify);var t,r=this,o=r.host,a=r.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var l=a+(r.protocol&&r.slashes||g(r.protocol)?"//":"");return r.username?(l+=r.username,r.password&&(l+=":"+r.password),l+="@"):r.password?(l+=":"+r.password,l+="@"):"file:"!==r.protocol&&g(r.protocol)&&!o&&"/"!==r.pathname&&(l+="@"),(":"===o[o.length-1]||s.test(r.hostname)&&!r.port)&&(o+=":"),l+=o+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(l+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(l+=r.hash),l}},m.extractProtocol=h,m.location=d,m.trimLeft=f,m.qs=n,e.exports=m},307935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(e),(t=(0,n.default)(t,l)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),a=r[r.length-1];if(t.require_tld){if(r.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/\s/.test(a))return!1}return!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&r.every((function(e){return!(e.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))}))};var o=a(r(620049)),n=a(r(880134));function a(e){return e&&e.__esModule?e:{default:e}}var l={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};e.exports=t.default,e.exports.default=t.default},767753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,n.default)(t),!(r=String(r)))return e(t,4)||e(t,6);if("4"===r){if(!i.test(t))return!1;var o=t.split(".").sort((function(e,t){return e-t}));return o[3]<=255}return"6"===r&&!!u.test(t)};var o,n=(o=r(620049))&&o.__esModule?o:{default:o},a="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",l="(".concat(a,"[.]){3}").concat(a),i=new RegExp("^".concat(l,"$")),s="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(s,":){7}(?:").concat(s,"|:)|")+"(?:".concat(s,":){6}(?:").concat(l,"|:").concat(s,"|:)|")+"(?:".concat(s,":){5}(?::").concat(l,"|(:").concat(s,"){1,2}|:)|")+"(?:".concat(s,":){4}(?:(:").concat(s,"){0,1}:").concat(l,"|(:").concat(s,"){1,3}|:)|")+"(?:".concat(s,":){3}(?:(:").concat(s,"){0,2}:").concat(l,"|(:").concat(s,"){1,4}|:)|")+"(?:".concat(s,":){2}(?:(:").concat(s,"){0,3}:").concat(l,"|(:").concat(s,"){1,5}|:)|")+"(?:".concat(s,":){1}(?:(:").concat(s,"){0,4}:").concat(l,"|(:").concat(s,"){1,6}|:)|")+"(?::((?::".concat(s,"){0,5}:").concat(l,"|(?::").concat(s,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},555114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(e),!e||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;if((t=(0,l.default)(t,u)).validate_length&&e.length>=2083)return!1;if(!t.allow_fragments&&e.includes("#"))return!1;if(!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var r,i,p,y,d,g,h,m,v;if(h=e.split("#"),e=h.shift(),h=e.split("?"),e=h.shift(),(h=e.split("://")).length>1){if(r=h.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(r))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;h[0]=e.substr(2)}}if(""===(e=h.join("://")))return!1;if(h=e.split("/"),""===(e=h.shift())&&!t.require_host)return!0;if((h=e.split("@")).length>1){if(t.disallow_auth)return!1;if(""===h[0])return!1;if((i=h.shift()).indexOf(":")>=0&&i.split(":").length>2)return!1;var S=(2,function(e){if(Array.isArray(e))return e}(v=i.split(":"))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(o=(l=i.next()).done)&&(r.push(l.value),2!==r.length);o=!0);}catch(e){n=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(n)throw a}}return r}}(v)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,2):void 0}}(v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=S[0],w=S[1];if(""===b&&""===w)return!1}g=null,m=null;var O=(y=h.join("@")).match(c);if(O?(p="",m=O[1],g=O[2]||null):(p=(h=y.split(":")).shift(),h.length&&(g=h.join(":"))),null!==g&&g.length>0){if(d=parseInt(g,10),!/^[0-9]+$/.test(g)||d<=0||d>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?f(p,t.host_whitelist):!!((0,a.default)(p)||(0,n.default)(p,t)||m&&(0,a.default)(m,6))&&(p=p||m,!t.host_blacklist||!f(p,t.host_blacklist))};var o=i(r(620049)),n=i(r(307935)),a=i(r(767753)),l=i(r(880134));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var u={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},c=/^\[([^\]]+)\](?::([0-9]+))?$/;function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];if(e===o||(n=o,"[object RegExp]"===Object.prototype.toString.call(n)&&o.test(e)))return!0}var n;return!1}e.exports=t.default,e.exports.default=t.default},620049:(e,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},880134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default},804027:(e,t,r)=>{"use strict";function o(e,t,r,o){for(var n=e[t],a=e[t+1],l=0,i=t+o;i<r;i+=o){var s=e[i],u=e[i+1];l+=Math.sqrt((s-n)*(s-n)+(u-a)*(u-a)),n=s,a=u}return l}r.d(t,{W:()=>o})},157129:(e,t)=>{"use strict";var r=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function n(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var o,a,l=[];for(a in"string"!=typeof t&&(t="?"),e)if(r.call(e,a)){if((o=e[a])||null!=o&&!isNaN(o)||(o=""),a=n(a),o=n(o),null===a||null===o)continue;l.push(a+"="+o)}return l.length?t+l.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var a=o(t[1]),l=o(t[2]);null===a||null===l||a in n||(n[a]=l)}return n}},847418:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}}}]);