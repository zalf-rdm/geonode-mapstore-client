(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[93991],{444948:(e,t,o)=>{"use strict";o.d(t,{Z:()=>D});var r=o(675263),n=o.n(r),i=o(124852),a=o.n(i),s=o(618446),l=o.n(s),p=o(701469),c=o.n(p),u=o(984596),m=o.n(u),f=o(727418),y=o.n(f),d=o(409669),g=o.n(d),h=o(680379),b=o(166287);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},w.apply(this,arguments)}function O(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function L(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){E(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function j(e,t,o){return t&&P(e.prototype,t),o&&P(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=x(e);if(t){var n=x(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,o)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function E(e,t,o){return(t=M(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function M(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}var R=function(e){C(o,e);var t=T(o);function o(){var e;S(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return E(_(e=t.call.apply(t,[this].concat(n))),"createLayer",(function(t){t.geometry&&e.addFeature(L(L({},t),{},{style:t.style&&m()(t.style)||void 0})),t.features&&t.features.forEach((function(o){var r=y()({},t,{type:o.type,geometry:o.geometry,style:o.style&&m()(o.style)||void 0,properties:o.properties});e.addFeature(r)}))})),E(_(e),"removeLayer",(function(t){e._layers&&(e._layers.forEach((function(e){t.container.removeLayer(e)})),e._layers=[])})),e}return j(o,[{key:"componentDidMount",value:function(){this._layers=[],(this.props.container&&this.props.geometry||this.props.features)&&this.createLayer(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){l()(e.properties,this.props.properties)&&l()(e.geometry,this.props.geometry)&&e.features===this.props.features&&e.style===this.props.style&&e.styleName===this.props.styleName||(this.removeLayer(e),this.createLayer(e))}},{key:"componentWillUnmount",value:function(){this.removeLayer(this.props)}},{key:"render",value:function(){return null}},{key:"addFeature",value:function(e){var t=this;if(c()(e.style)){var o=(0,b.createStylesAsync)(e.style);g().all(o).then((function(o){t.addLayer(e,o)}))}else this.addLayer(e,e.style)}},{key:"addLayer",value:function(e,t){var o=this,r=(0,h.geometryToLayer)({type:e.type,geometry:e.geometry,properties:e.properties,msId:e.msId},{style:t,styleName:e.styleName});e.container.addLayer(r),r.on("click",(function(t){if(e.onClick){var r,n=[t.latlng.lat,t.latlng.lng];if(o.props.options.handleClickOnLayer&&"Point"===(null===(r=e.geometry)||void 0===r?void 0:r.type)){var i=((null==t?void 0:t.target)||{})._map,a=(null==i?void 0:i.mouseEventToLatLng(null==t?void 0:t.originalEvent))||{};n=[a.lat,a.lng]}e.onClick({pixel:{x:t.originalEvent&&t.originalEvent.x,y:t.originalEvent&&t.originalEvent.y},latlng:t.latlng,rawPos:n},o.props.options.handleClickOnLayer?o.props.options.id:null)}})),r.setOpacity||(r.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.originalStyle||this.options&&this.options.style||this.options||{};this.originalStyle=L({},t);var o=t.opacity,n=void 0===o?1:o,i=t.fillOpacity,a=void 0===i?1:i,s={color:t.color,fillColor:t.fillColor,radius:t.radius,weight:t.weight,opacity:n*e,fillOpacity:a*e};r.setStyle&&r.setStyle(s)}),this._layers.push(r)}}]),o}(a().Component);E(R,"propTypes",{msId:n().oneOfType([n().string,n().number]),type:n().string,styleName:n().string,properties:n().object,container:n().object,geometry:n().object,features:n().array,style:n().object,onClick:n().func,options:n().object});var I=function(e){C(o,e);var t=T(o);function o(){return S(this,o),t.apply(this,arguments)}return j(o,[{key:"render",value:function(){var e=this;return this.props.container._msLegacyGeoJSON?a().createElement(R,w({},this.props,{ref:function(t){t&&(e._layers=t._layers)}})):null}}]),o}(a().Component);E(I,"propTypes",{container:n().object});const D=I},152792:(e,t,o)=>{"use strict";o.d(t,{Z:()=>j});var r=o(124852),n=o.n(r),i=o(675263),a=o.n(i),s=o(244712),l=o.n(s),p=o(727418),c=o.n(p),u=o(618446),m=o.n(u),f=o(414293),y=o.n(f);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){L(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function b(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function L(e,t,o){return(t=S(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function S(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(s,e);var t,o,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(i){var o=O(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return L(w(e=a.call.apply(a,[this].concat(o))),"setLayerVisibility",(function(t){var o=e.getVisibilityOption(e.props),r=e.getVisibilityOption(t);r!==o&&(r?e.addLayer():e.removeLayer(),e.updateZIndex())})),L(w(e),"getVisibilityOption",(function(e){var t=e.options,o=void 0===t?{}:t,r=e.zoom,n=e.resolutions,i=void 0===n?[]:n,a=o||{},s=a.visibility,l=a.minResolution,p=void 0===l?-1/0:l,c=a.maxResolution,u=void 0===c?1/0:c;if(!a.disableResolutionLimits&&!y()(i[r])){var m=i[r];if(!(m<u&&m>=p))return!1}return!1!==s})),L(w(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity&&e.layer.setOpacity(t)})),L(w(e),"generateOpts",(function(t,o,r){return c()({},t,o?{zIndex:o,srs:e.props.srs}:null,{zoomOffset:-e.props.zoomOffset,onError:function(){e.props.onCreationError(t)},securityToken:r})})),L(w(e),"updateZIndex",(function(t){var o=t||e.props.position;o&&e.layer&&e.layer.setZIndex&&e.layer.setZIndex(o)})),L(w(e),"createLayer",(function(t,o,r,n){if(t){var i=e.generateOpts(o,r,n);e.layer=l().createLayer(t,i),e.layer&&(e.layer.layerName=o.name,e.layer.layerId=o.id),e.forceUpdate()}})),L(w(e),"updateLayer",(function(t,o){var r=l().updateLayer(t.type,e.layer,e.generateOpts(t.options,t.position,t.securityToken),e.generateOpts(o.options,o.position,o.securityToken));r&&(e.removeLayer(),e.layer=r,t.options.visibility&&e.addLayer(),e.updateZIndex(t.position))})),L(w(e),"addLayer",(function(){if(e.isValid()&&(e.props.map.addLayer(e.layer),e.props.options.refresh&&e.layer.setParams)){var t=0;e.refreshTimer=setInterval((function(){e.layer.setParams(c()({},e.props.options.params,{_refreshCounter:t++}))}),e.props.options.refresh)}})),L(w(e),"removeLayer",(function(){e.isValid()&&e.props.map.removeLayer(e.layer)})),L(w(e),"isValid",(function(){if(e.layer){var t=l().isValid(e.props.type,e.layer);return e.valid=t,t}return!1})),e}return t=s,(o=[{key:"componentDidMount",value:function(){this.valid=!0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken),this.props.options&&this.layer&&this.getVisibilityOption(this.props)&&(this.addLayer(),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setLayerVisibility(e);var t=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(t),e.position!==this.props.position&&this.updateZIndex(e.position),this.updateLayer(e,this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!["map","type","srs","position","zoomOffset","onClick","options","children"].reduce((function(o,r){switch(r){case"map":case"type":case"srs":case"position":case"zoomOffset":case"onClick":case"children":return o&&t.props[r]===e[r];case"options":return o&&(t.props[r]===e[r]||m()(h(h({},t.props[r]),{},{loading:!1}),h(h({},e[r]),{},{loading:!1})));default:return o}}),!0)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.removeLayer(),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,o=t?n().Children.map(this.props.children,(function(o){return o?n().cloneElement(o,{container:t,styleName:e.props.options&&e.props.options.styleName,onClick:e.props.onClick,options:e.props.options||{}}):null})):null;return n().createElement(n().Fragment,null,o)}return l().renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&b(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(n().Component);L(P,"propTypes",{map:a().object,type:a().string,srs:a().string,options:a().object,position:a().number,zoomOffset:a().number,onCreationError:a().func,onClick:a().func,securityToken:a().string,resolutions:a().array,zoom:a().number}),L(P,"defaultProps",{onCreationError:function(){},options:{}});const j=P},739726:(e,t,o)=>{"use strict";o.d(t,{Z:()=>k});var r=o(845243),n=o.n(r),i=o(675263),a=o.n(i),s=o(124852),l=o.n(s),p=o(737275),c=o(986267),u=o(727418),m=o.n(u),f=o(552259),y=o(49977),d=o.n(y),g=o(823493),h=o.n(g);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function w(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function P(e,t,o){return(t=j(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function j(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}o(727741),o(419540);var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(s,e);var t,o,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(i){var o=S(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return P(L(e=a.call.apply(a,[this].concat(o))),"state",{}),P(L(e),"getDocument",(function(){return e.props.document||document})),P(L(e),"getResolutions",(function(){return e.props.resolutions})),P(L(e),"getIntersectedFeatures",(function(e,t){var o={},r=n().latLngBounds(t,t);return e.eachLayer((function(e){null!=e&&e.layerId&&null!=e&&e.eachLayer&&e.eachLayer((function(t){var i,a=null!=t&&t.getLatLng?n().latLngBounds(t.getLatLng(),t.getLatLng()):null,s=null!=t&&t.getBounds?t.getBounds():a;if(s&&null!=t&&t.toGeoJSON&&s&&r.intersects(s)){var l=t.toGeoJSON();o[e.layerId]=o[e.layerId]?[].concat(function(e){if(Array.isArray(e))return v(e)}(i=o[e.layerId])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[l]):[l]}}))})),Object.keys(o).map((function(e){return{id:e,features:o[e]}}))})),P(L(e),"_updateMapPositionFromNewProps",(function(t){var o=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0},r=t.center,n=e.props.center,i=e.map.getCenter(),a=o(r.x,n.x)&&o(r.y,n.y)||o(r.x,i.lng)&&o(r.y,i.lat),s=t.zoom,l=e.props.zoom,p=e.map.getZoom(),c=s===l||s===p;a||c?c?a||e.map.setView([t.center.y,t.center.x]):e.map.setZoom(t.zoom):e.map.setView([t.center.y,t.center.x],Math.round(t.zoom))})),P(L(e),"updateMapInfoState",(function(){var t=e.map.getBounds().toBBoxString().split(","),o={height:e.map.getSize().y,width:e.map.getSize().x},r=e.map.getCenter(),n=e.map.getZoom(),i=e.props.viewerOptions;e.props.onMapViewChanges({x:r.lng,y:r.lat,crs:"EPSG:4326"},n,{bounds:{minx:parseFloat(t[0]),miny:parseFloat(t[1]),maxx:parseFloat(t[2]),maxy:parseFloat(t[3])},crs:"EPSG:4326",rotation:0},o,e.props.id,e.props.projection,i,e.getResolutions()[n])})),P(L(e),"setMousePointer",(function(t){e.map&&(e.map.getContainer().style.cursor=t||"auto")})),P(L(e),"mouseMoveEvent",(function(t){var o=t.latlng.wrap();e.props.onMouseMove({x:o.lng||0,y:o.lat||0,z:e.elevationLayer&&e.elevationLayer.getElevation(o,t.containerPoint)||void 0,crs:"EPSG:4326",pixel:{x:t.containerPoint.x,y:t.containerPoint.x},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng]})})),P(L(e),"registerHooks",(function(){e.props.hookRegister.registerHook(f.EXTENT_TO_ZOOM_HOOK,(function(t){var o=(0,c.reproject)([t[0],t[1]],e.props.projection,"EPSG:4326"),r=(0,c.reproject)([t[2],t[3]],e.props.projection,"EPSG:4326");return e.map.getBoundsZoom([[o.y,o.x],[r.y,r.x]])-1})),e.props.hookRegister.registerHook(f.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(f.COMPUTE_BBOX_HOOK,(function(t,o){var r=n().latLng([t.y,t.x]),i=e.map._getNewPixelOrigin(r,o),a=new(n().Bounds)(i,i.add(e.map.getSize())),s=e.map.unproject(a.getBottomLeft(),o),l=e.map.unproject(a.getTopRight(),o),p=new(n().LatLngBounds)(s,l).toBBoxString().split(",");return{bounds:{minx:parseFloat(p[0]),miny:parseFloat(p[1]),maxx:parseFloat(p[2]),maxy:parseFloat(p[3])},crs:"EPSG:4326",rotation:0}})),e.props.hookRegister.registerHook(f.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){var o=(0,c.reproject)(t,e.props.projection,"EPSG:4326"),r=e.map.latLngToContainerPoint([o.y,o.x]);return[r.x,r.y]})),e.props.hookRegister.registerHook(f.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){var o=e.map.containerPointToLatLng(t),r=(0,c.reproject)([o.lng,o.lat],"EPSG:4326",e.props.projection);return[r.x,r.y]})),e.props.hookRegister.registerHook(f.ZOOM_TO_EXTENT_HOOK,(function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.padding,i=o.crs,a=o.maxZoom,s=o.duration,l=r&&n().point(r.left||0,r.top||0),p=r&&n().point(r.right||0,r.bottom||0),u=(0,c.reprojectBbox)(t,i,"EPSG:4326");e.map.fitBounds([[u[1],u[0]],[u[3],u[2]]],{paddingTopLeft:l,paddingBottomRight:p,maxZoom:a,duration:s,animate:0!==s&&void 0})}))})),P(L(e),"addLayerObservable",(function(t,o){!t.layer.layerId||t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&o&&(t.layer._ms2LoadingTileCount=0,t.layer.layerLoadingStream$=new(d().Subject),t.layer.layerLoadStream$=new(d().Subject),t.layer.layerErrorStream$=new(d().Subject),t.layer.layerErrorStream$.bufferToggle(t.layer.layerLoadingStream$,(function(){return t.layer.layerLoadStream$})).subscribe({next:function(o){var r=t.layer._ms2LoadingTileCount||o&&o.length||0;o&&o.length>0&&e.props.onLayerError(o[0].target.layerId,r,o.length),t.layer._ms2LoadingTileCount=0}}))})),e}return t=s,(o=[{key:"UNSAFE_componentWillMount",value:function(){if(this.zoomOffset=0,this.props.mapOptions&&this.props.mapOptions.view&&this.props.mapOptions.view.resolutions&&this.props.mapOptions.view.resolutions.length>0){var e=n().CRS.EPSG3857.scale,t=this.props.mapOptions.view.resolutions[0]/(0,f.getGoogleMercatorResolutions)(0,23)[0];this.crs=m()({},n().CRS.EPSG3857,{scale:function(o){return e.call(n().CRS.EPSG3857,o)/Math.pow(2,Math.round(Math.log2(t)))}}),this.zoomOffset=Math.round(Math.log2(t))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.limits,o=void 0===t?{}:t,r=o.restrictedExtent&&o.crs&&(0,c.reprojectBbox)(o.restrictedExtent,o.crs,"EPSG:4326"),i=m()({},this.props.interactive?{}:{dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,attributionControl:!1,maxBounds:r&&n().latLngBounds([[r[1],r[0]],[r[3],r[2]]]),maxBoundsViscosity:r&&1,minZoom:o&&o.minZoom,maxZoom:o&&o.maxZoom||23},this.props.mapOptions,this.crs?{crs:this.crs}:{}),a=n().map(this.getDocument().getElementById(this.props.id),m()({zoomControl:!1},i)).setView([this.props.center.y,this.props.center.x],Math.round(this.props.zoom));this.map=a,this.props.registerHooks&&this.registerHooks(),this.props.zoomControl&&(this.mapZoomControl=n().control.zoom(),this.map.addControl(this.mapZoomControl)),this.attribution=n().control.attribution(),this.attribution.addTo(this.map);var s=this.getDocument();this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&(s.querySelector(this.props.mapOptions.attribution.container).appendChild(this.attribution.getContainer()),s.querySelector(".leaflet-control-container .leaflet-control-attribution")&&s.querySelector(".leaflet-control-container .leaflet-control-attribution").parentNode.removeChild(s.querySelector(".leaflet-control-container .leaflet-control-attribution"))),this.map.on("moveend",this.updateMapInfoState),this.map.on("singleclick",(function(t){if(e.props.onClick){var o=e.getIntersectedFeatures(a,t.latlng);e.props.onClick({pixel:{x:t.containerPoint.x,y:t.containerPoint.y},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng],modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,metaKey:t.originalEvent.metaKey,shift:t.originalEvent.shiftKey},intersectedFeatures:o})}}));var l=h()(this.mouseMoveEvent,100);this.map.on("dragstart",(function(){e.map.off("mousemove",l)})),this.map.on("dragend",(function(){e.map.on("mousemove",l)})),this.map.on("mousemove",l),this.map.on("contextmenu",(function(){e.props.onRightClick&&e.props.onRightClick(event.containerPoint)})),this.map.on("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.props.onResolutionsChange(this.getResolutions()),this.map.on("layeradd",(function(t){if(t.layer._ms2Added){var o=t.layer.layerLoadingStream$&&t.layer.layerLoadingStream$.isStopped;e.addLayerObservable(t,o)}else t.layer._ms2Added=!0,t.layer.getElevation&&(e.elevationLayer=t.layer),t.layer.layerId&&(t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&(e.addLayerObservable(t,!0),t.layer.options&&t.layer.options.hideLoading||(e.props.onLayerLoading(t.layer.layerId),t.layer.layerLoadingStream$.next()),t.layer.on("loading",(function(o){e.props.onLayerLoading(o.target.layerId),t.layer.layerLoadingStream$.next()})),t.layer.on("load",(function(o){e.props.onLayerLoad(o.target.layerId),t.layer.layerLoadStream$.next()})),t.layer.on("tileloadstart ",(function(){t.layer._ms2LoadingTileCount++})),(t.layer.options&&!t.layer.options.hideErrors||!t.layer.options)&&t.layer.on("tileerror",(function(e){t.layer.layerErrorStream$.next(e)})),t.layer.on("loaderror",(function(t){e.props.onLayerError(t.target.layerId)}))))})),this.map.on("layerremove",(function(e){e.layer.layerLoadingStream$&&(e.layer.layerLoadingStream$.complete(),e.layer.layerLoadStream$.complete(),e.layer.layerErrorStream$.complete())})),this.drawControl=null}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),this.map&&e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?(this.mapZoomControl=n().control.zoom(),this.map.addControl(this.mapZoomControl)):this.mapZoomControl&&!e.zoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0)),e.resize!==this.props.resize&&setTimeout((function(){t.map&&t.map.invalidateSize(!1)}),0),this.props.limits!==e.limits){var o=e.limits,r=void 0===o?{}:o,i=this.props.limits;if(r.restrictedExtent!==(i&&i.restrictedExtent)){var a=r.restrictedExtent&&r.crs&&(0,c.reprojectBbox)(r.restrictedExtent,r.crs,"EPSG:4326");this.map.setMaxBounds(r.restrictedExtent&&n().latLngBounds([[a[1],a[0]],[a[3],a[2]]]))}r.minZoom!==(i&&i.minZoom)&&this.map.setMinZoom(r.minZoom),this.props.onResolutionsChange(this.getResolutions())}return!1}},{key:"componentWillUnmount",value:function(){var e=this.getDocument(),t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&e.querySelector(this.props.mapOptions.attribution.container);if(t&&this.attribution.getContainer()&&t.querySelector(".leaflet-control-attribution"))try{t.removeChild(this.attribution.getContainer())}catch(e){}this.mapZoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0),this.map.off(),this.map.remove(),this.map=void 0}},{key:"render",value:function(){var e=this,t=this.map,o=this.props.projection,r=t?l().Children.map(this.props.children,(function(r){return r?l().cloneElement(r,{map:t,projection:o,zoomOffset:e.zoomOffset,onCreationError:e.props.onCreationError,onClick:e.props.onClick,resolutions:e.getResolutions(),zoom:e.props.zoom}):null})):null;return l().createElement("div",{id:this.props.id,style:this.props.style},r)}}])&&w(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(l().Component);P(C,"propTypes",{id:a().string,document:a().object,center:p.ZP.PropTypes.center,zoom:a().number.isRequired,viewerOptions:a().object,mapStateSource:p.ZP.PropTypes.mapStateSource,style:a().object,projection:a().string,onMapViewChanges:a().func,onClick:a().func,onRightClick:a().func,mapOptions:a().object,limits:a().object,zoomControl:a().bool,mousePointer:a().string,onMouseMove:a().func,onLayerLoading:a().func,onLayerLoad:a().func,onLayerError:a().func,resize:a().oneOfType([a().number,a().string]),measurement:a().object,changeMeasurementState:a().func,registerHooks:a().bool,interactive:a().bool,resolutions:a().array,hookRegister:a().object,onCreationError:a().func,onMouseOut:a().func,onResolutionsChange:a().func}),P(C,"defaultProps",{id:"map",onMapViewChanges:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},zoomControl:!0,mapOptions:{zoomAnimation:!0,attributionControl:!1},projection:"EPSG:3857",center:{x:13,y:45,crs:"EPSG:4326"},zoom:5,onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:{registerHook:f.registerHook},style:{},interactive:!0,resolutions:(0,f.getGoogleMercatorResolutions)(0,23),onMouseOut:function(){},onResolutionsChange:function(){}});const k=C},442047:(e,t,o)=>{"use strict";o.d(t,{Z:()=>M});var r=o(675263),n=o.n(r),i=o(124852),a=o.n(i),s=o(727418),l=o.n(s),p=o(845243),c=o.n(p),u=o(512571),m=o.n(u),f=o(986267),y=o(808797);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){P(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function w(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function P(e,t,o){return(t=j(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function j(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}o(921787),o(451172);var C={km:2,ha:2,m:2,mi:2,ac:2,yd:0,ft:0,nm:2,sqkm:2,sqha:2,sqm:2,sqmi:2,sqac:2,sqyd:2,sqft:2,sqnm:2};c().getMeasureWithTreshold=function(e,t,o,r,n,i,a){return e>t?c().GeometryUtil.formattedNumber((0,y.Ov)(e,o,r),n[r])+" "+a:c().GeometryUtil.formattedNumber(e,n[o])+" "+i};var k=c().GeometryUtil.readableDistance;c().GeometryUtil.readableDistance=function(e,t,o,r,n,i){if(!i)return k.apply(null,arguments);if("Bearing"===i.geomType)return i.bearing;var a=c().Util.extend({},C,n),s=i.uom.length,l=s.unit,p=s.label,u=c().GeometryUtil.formattedNumber((0,y.Ov)(e,"m",l),a[l])+" "+p;return i.useTreshold&&(t&&(u=c().getMeasureWithTreshold(e,1e3,"m","km",a,"m","km")),"mi"===l&&(u=c().getMeasureWithTreshold((0,y.Ov)(e,"m","yd"),1760,"yd","mi",a,"yd","mi"))),u};var T=c().GeometryUtil.readableArea;c().GeometryUtil.readableArea=function(e,t,o,r){if(!r)return T.apply(null,arguments);var n=r.uom.area,i=n.unit,a=n.label,s=c().Util.extend({},C,o),l=c().GeometryUtil.formattedNumber((0,y.Ov)(e,"sqm",i),s[i])+" "+a;return r.useTreshold&&(t&&(l=c().getMeasureWithTreshold(e,1e6,"sqm","sqkm",s,"m²","km²")),"sqmi"===i&&(l=c().getMeasureWithTreshold((0,y.Ov)(e,"sqm","sqyd"),3097600,"sqyd","sqmi",s,"yd²","mi²"))),l};var _=c().Draw.Polygon.prototype._getMeasurementString;c().Draw.Polygon.prototype._getMeasurementString=function(){if(!this.options.uom)return _.apply(this,arguments);var e=this._area,t="";if(!e&&!this.options.showLength)return null;if(this.options.showLength&&(t=c().Draw.Polyline.prototype._getMeasurementString.call(this)),e){var o={uom:this.options.uom,useTreshold:this.options.useTreshold};t+=this.options.showLength?"<br>":""+c().GeometryUtil.readableArea(e,this.options.metric,this.options.precision,o)}return t};var x=c().Draw.Polyline.prototype._getMeasurementString;c().Draw.Polyline.prototype._getMeasurementString=function(){if(!this.options.uom)return x.apply(this,arguments);var e,t=this._currentLatLng,o=this._markers[this._markers.length-1].getLatLng();e=c().GeometryUtil.isVersion07x()?o&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(o)*(this.options.factor||1):this._measurementRunningTotal||0:o&&t?this._measurementRunningTotal+this._map.distance(t,o)*(this.options.factor||1):this._measurementRunningTotal||0;var r={uom:this.options.uom,useTreshold:this.options.useTreshold,geomType:this.options.geomType,bearing:this.options.bearing?(0,y.rp)(this.options.bearing,this.options.trueBearing):0};return c().GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision,r)};var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,o,r,n,i=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(n){var o=S(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return P(L(e=i.call.apply(i,[this].concat(o))),"onDrawStart",(function(){e.props.map.off("click",e.restartDrawing,L(e)),e.removeArcLayer(),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawing=!0})),P(L(e),"onDrawCreated",(function(t){e.drawing=!1,e.props.map.addLayer(t.layer),e.lastLayer=t.layer;var o=e.lastLayer&&e.lastLayer.toGeoJSON()||{};if("LineString"===e.props.measurement.geomType&&(o=l()({},o,{geometry:l()({},o.geometry,{coordinates:(0,f.transformLineToArcs)(o.geometry.coordinates)})})),"Point"===e.props.measurement.geomType){var r=e.drawControl._marker.getLatLng(),n={x:r.lng,y:r.lat,srs:"EPSG:4326"},i=l()({},e.props.measurement,{point:n,feature:o});e.props.changeMeasurementState(i)}else{var a=l()({},e.props.measurement,{feature:o});e.props.changeMeasurementState(a)}e.props.measurement.lineMeasureEnabled&&e.lastLayer&&e.addArcsToMap([o]),setTimeout((function(){e.props.map.off("click",e.restartDrawing,L(e)),e.props.map.on("click",e.restartDrawing,L(e))}),100)})),P(L(e),"onDrawVertex",(function(){var t=e.drawControl._markers||[];"Bearing"===e.props.measurement.geomType&&t.length>=2?setTimeout((function(){e.drawControl._markers=m()(e.drawControl._markers,0,2),e.drawControl._poly._latlngs=m()(e.drawControl._poly._latlngs,0,2),e.drawControl._poly._originalPoints=m()(e.drawControl._poly._originalPoints,0,2),e.updateMeasurementResults(),e.drawControl._finishShape(),e.drawControl.disable()}),100):e.updateMeasurementResults()})),P(L(e),"addArcsToMap",(function(t){e.removeLastLayer();var o=t.map((function(e){return l()({},e,{geometry:l()({},e.geometry,{coordinates:(0,f.transformLineToArcs)(e.geometry.coordinates)})})}));e.arcLayer=c().geoJson(o,{style:{color:"#ffcc33",opacity:1,weight:1,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}),e.props.map.addLayer(e.arcLayer),o&&o.length>0&&e.arcLayer.addData(o)})),P(L(e),"updateMeasurementResults",(function(){if(e.drawing&&e.drawControl){var t=0,o=0,r=0,n=e.drawControl._currentLatLng;if("LineString"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>1){var i=e.drawControl._markers.reduce((function(e,t){var o=t.getLatLng(),r=o.lng,n=o.lat;return[].concat(b(e),[[r,n]])}),[]);t=(0,f.calculateDistance)(i,e.props.measurement.lengthFormula)}else if("Polygon"===e.props.measurement.geomType&&e.drawControl._poly){var a=[].concat(b(e.drawControl._poly.getLatLngs()),[n]);o=c().GeometryUtil.geodesicArea(a)}else"Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0&&(r=e.calculateBearing());var s=l()({},e.props.measurement,{point:null,len:t,area:o,bearing:r});e.props.changeMeasurementState(s)}})),P(L(e),"restartDrawing",(function(){e.props.map.off("click",e.restartDrawing,L(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable(),e.props.map.removeLayer(e.lastLayer),e.drawControl.enable(),e.drawing=!0})),P(L(e),"addDrawInteraction",(function(t){if(e.removeDrawInteraction(),e.props.map.on("draw:created",e.onDrawCreated,L(e)),e.props.map.on("draw:drawstart",e.onDrawStart,L(e)),e.props.map.on("draw:drawvertex",e.onDrawVertex,L(e)),e.props.map.on("mousemove",e.updateBearing,L(e)),e.props.updateOnMouseMove&&e.props.map.on("mousemove",e.updateMeasurementResults,L(e)),"Point"===t.measurement.geomType)e.drawControl=new(c().Draw.Marker)(e.props.map,{repeatMode:!1});else if("LineString"===t.measurement.geomType||"Bearing"===t.measurement.geomType){var o=e.uomLengthOptions(t);e.drawControl=new(c().Draw.Polyline)(e.props.map,h(h({shapeOptions:{color:"#ffcc33",weight:2},showLength:!0,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},o),{},{repeatMode:!1,icon:new(c().DivIcon)({iconSize:new(c().Point)(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new(c().DivIcon)({iconSize:new(c().Point)(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),trueBearing:t.measurement.trueBearing}))}else if("Polygon"===t.measurement.geomType){var r=e.uomAreaOptions(t);e.drawControl=new(c().Draw.Polygon)(e.props.map,h(h({shapeOptions:{color:"#ffcc33",weight:2,fill:"rgba(255, 255, 255, 0.2)"},showArea:!0,allowIntersection:!1,showLength:!1,repeatMode:!1,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},r),{},{icon:new(c().DivIcon)({iconSize:new(c().Point)(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new(c().DivIcon)({iconSize:new(c().Point)(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}e.drawControl.enable()})),P(L(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.drawControl.disable(),e.drawControl=null,e.removeLastLayer(),e.removeArcLayer(),e.props.map.off("draw:created",e.onDrawCreated,L(e)),e.props.map.off("draw:drawstart",e.onDrawStart,L(e)),e.props.map.off("draw:drawvertex",e.onDrawVertex,L(e)),e.props.map.off("mousemove",e.updateBearing,L(e)),e.props.map.off("click",e.restartDrawing,L(e)),e.props.updateOnMouseMove&&e.props.map.off("mousemove",e.updateMeasurementResults,L(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),P(L(e),"removeLastLayer",(function(){e.lastLayer&&e.props.map.removeLayer(e.lastLayer)})),P(L(e),"removeArcLayer",(function(){e.arcLayer&&e.props.map.removeLayer(e.arcLayer)})),P(L(e),"uomLengthOptions",(function(e){var t=e.uom.length.unit;return{metric:"m"===t||"km"===t,nautic:"nm"===t,feet:"ft"===t}})),P(L(e),"uomAreaOptions",(function(e){var t=e.uom.area.unit;return{metric:"sqm"===t||"sqkm"===t,nautic:"sqnm"===t,feet:"sqft"===t}})),P(L(e),"calculateBearing",(function(){var t,o=e.drawControl._currentLatLng,r=e.drawControl._markers,n=[r[0].getLatLng().lng,r[0].getLatLng().lat];return 1===r.length?t=[o.lng,o.lat]:2===r.length&&(t=[r[1].getLatLng().lng,r[1].getLatLng().lat]),n=(0,f.reproject)(n,"EPSG:4326",e.props.projection),t=(0,f.reproject)(t,"EPSG:4326",e.props.projection),(0,f.calculateAzimuth)(n,t,e.props.projection)})),P(L(e),"updateBearing",(function(){if("Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0){var t=e.props.measurement&&e.props.measurement.trueBearing;e.drawControl.setOptions({bearing:e.calculateBearing(),trueBearing:t})}})),e}return t=a,(o=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if((e&&e.uom&&e.uom.length&&e.uom.length.unit)!==(this.props&&this.props.uom&&this.props.uom.length&&this.props.uom.length.unit)&&this.drawControl){var t=this.uomLengthOptions(e);this.drawControl.setOptions(h(h({},t),{},{uom:e.uom}))}if((e&&e.uom&&e.uom.area&&e.uom.area.unit)!==(this.props&&this.props.uom&&this.props.uom.area&&this.props.uom.area.unit)&&this.drawControl){var o=this.uomAreaOptions(e);this.drawControl.setOptions(h(h({},o),{},{uom:e.uom}))}(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&this.props.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&this.addDrawInteraction(e),e.measurement.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){var e=this.props.messages||!!this.context.messages&&this.context.messages.drawLocal;return e&&(c().drawLocal=e),null}}])&&w(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(a().Component);P(E,"displayName","MeasurementSupport"),P(E,"propTypes",{map:n().object,metric:n().bool,feet:n().bool,nautic:n().bool,enabled:n().bool,useTreshold:n().bool,projection:n().string,measurement:n().object,changeMeasurementState:n().func,messages:n().object,uom:n().object,updateOnMouseMove:n().bool}),P(E,"contextTypes",{messages:n().object}),P(E,"defaultProps",{uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},updateOnMouseMove:!1,metric:!0,nautic:!1,useTreshold:!1,feet:!1});const M=E},521975:(e,t,o)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function s(e,t,o){return(t=l(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}var p=o(675263),c=o(124852),u=o(117244),m=o(845243),f=o(244712),y=o(727418);o(194555);var d={position:"bottomright",width:300,height:150,collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,zoomLevelFixed:null,zoomAnimation:!1,toggleDisplay:!0,autoToggleDisplay:!1,minimized:!0},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(c,e);var t,o,s,l,p=(s=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(s);if(l){var o=a(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),p.apply(this,arguments)}return t=c,(o=[{key:"componentDidMount",value:function(){var e=y({},d,this.props.overviewOpt);if(this.props.layers){var t=[];this.props.layers.forEach((function(e){t.push(f.createLayer(e.type,e.options||{}))})),1===t.length?this.overview=new u(t[0],e):t.length>1&&(this.overview=new u(m.layerGroup(t),e))}this.props.map&&this.overview&&this.overview.addTo(this.props.map)}},{key:"render",value:function(){return null}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(c.Component);s(g,"displayName","Overview"),s(g,"propTypes",{map:p.object,overviewOpt:p.object,layers:p.array}),s(g,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]}),e.exports=g},20564:(e,t,o)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function s(e,t,o){return(t=l(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}var p=o(675263),c=o(124852),u=o(845243),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(c,e);var t,o,s,l,p=(s=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(s);if(l){var o=a(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),p.apply(this,arguments)}return t=c,(o=[{key:"componentDidMount",value:function(){if(this.scalebar=u.control.scale(this.props),this.props.map&&(this.scalebar.addTo(this.props.map),this.props.container)){document.querySelector(this.props.container).appendChild(this.scalebar.getContainer());var e=document.querySelector(".leaflet-control-container .leaflet-control-scale-line");e&&e.parentNode&&e.parentNode.removeChild(e)}}},{key:"componentWillUnmount",value:function(){if(this.props.container&&this.scalebar&&this.scalebar.getContainer())try{document.querySelector(this.props.container).removeChild(this.scalebar.getContainer())}catch(e){}}},{key:"render",value:function(){return null}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(c.Component);s(m,"propTypes",{map:p.object,position:p.oneOf(["topleft","topright","bottomleft","bottomright"]),maxWidth:p.number,metric:p.bool,imperial:p.bool,updateWhenIdle:p.bool,container:p.string}),s(m,"defaultProps",{map:null,position:"bottomleft",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1}),e.exports=m},419540:(e,t,o)=>{var r=o(845243);r.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),r.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(e){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,e),this.options.singleClickTimeout||500)},_fireSingleClick:function(e){e.originalEvent._stopped||this.fire("singleclick",r.Util.extend(e,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!==this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},647042:(e,t,o)=>{var r=o(845243),n=o(623560);o(124402),o(32245),e.exports={extra:{getIcon:function(e){var t=e.iconPrefix||"fa";return r.ExtraMarkers.icon({icon:t+"-"+e.iconGlyph,markerColor:e.iconColor||"blue",shape:e.iconShape||"square",prefix:t,extraClasses:e.highlight?"marker-selected":""})}},standard:{getIcon:function(e){return r.icon({iconUrl:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl,shadowUrl:e.shadowUrl,iconSize:e.iconSize,shadowSize:e.shadowSize,iconAnchor:e.iconAnchor,shadowAnchor:e.shadowAnchor,popupAnchor:e.popupAnchor})}},html:{getIcon:function(e,t){return r.divIcon(n(e.html)?e.html(t):e.html)}}}},680379:(e,t,o)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s=o(845243),l=o(647042),p=o(727418),c=o(166287),u=c.isMarkerStyle,m=c.isSymbolStyle,f=function e(t,o,r){for(var n,i=[],a=t.length,s=0;s<a;s++)n=o?e(t[s],o-1,r):(r||this.coordsToLatLng)(t[s]),i.push(n);return i},y=function(e){if("GeometryCollection"===e.geometry.type)return!1;var t=e.style;return t&&(u(t)||m(t)||t.iconUrl||t.iconGlyph)},d={coordsToLatLngF:function(e){return new s.LatLng(e[1],e[0],e[2])},coordsToLatLngs:f,isMarker:y,getPointLayer:function(e,t,o,r){return e?e(t,o):d.pointToLayer(o,t,i(i({},r.style),{},{styleName:r.styleName,highlight:r.highlight}))},pointToLayer:function(e,t,o){var r=o.Point||o.MultiPoint||o,n=function(e,t){if(e&&e.iconGlyph){var o=e.iconLibrary||"extra";if(l[o])return l[o].getIcon(e)}return e&&e.html&&t?l.html.getIcon(e,t):e&&e.iconUrl||e.symbolUrlCustomized||e.symbolUrl?l.standard.getIcon(e):null}(r,t);return n?s.marker(e,{icon:n,opacity:r&&r.opacity||1}):s.marker(e,{opacity:r&&r.opacity||1})},toValidGeoJSON:function(){},createTextPointMarkerLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointToLayer,o=e.geojson,r=e.latlng,n=e.options,a=e.style,l=void 0===a?{}:a,p=e.highlight,c=void 0!==p&&p;if(o.properties&&o.properties.isText){var u=s.divIcon({html:'<span style="\n                font:'.concat(l.font,";\n                color:").concat(l.fillColor,";\n                -webkit-text-stroke-width:",1,"px;\n                -webkit-text-stroke-color:").concat(l.color,';">').concat(o.properties.valueText,"</span>"),className:""});return new s.Marker(r,{icon:u})}return d.getPointLayer(t,o,r,i(i({},n),{},{style:l,highlight:c}))},createPolygonCircleLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geojson,o=e.style,r=void 0===o?{}:o,n=e.latlngs,a=void 0===n?[]:n,l=e.coordsToLatLng,p=void 0===l?function(){}:l;if(t.properties&&t.properties.isCircle){var c=p(t.properties.center);return s.circle(c,i(i({},r),{},{radius:t.properties.radius}))}return new s.Polygon(a,r)},geometryToLayer:function(e,t){var o,r="Feature"===e.type?e.geometry:e,n=r?r.coordinates:null,a=[],l=i({styleName:t.styleName,style:t.style&&t.style[0]||t.style},e),c=t&&!y(l)?function(e,t){return"marker"===l.styleName?s.marker(t,l.style):s.circleMarker(t,l.style&&l.style[0]||l.style)}:null,u=t&&t.coordsToLatLng||d.coordsToLatLngF;if(!n&&!r)return null;var m,g,h,b,v=l.style||p({},t.style&&t.style[r.type]||t.style,{highlight:t.style&&t.style.highlight});switch(r.type){case"Point":return m=u(n),d.createTextPointMarkerLayer({pointToLayer:c,geojson:e,latlng:m,options:t,style:v,highlight:v&&v.highlight});case"MultiPoint":for(h=0,b=n.length;h<b;h++)m=u(n[h]),(o=d.createTextPointMarkerLayer({pointToLayer:c,geojson:e,latlng:m,options:t,style:v,highlight:v&&v.highlight})).msId=e.id,a.push(o);return new s.FeatureGroup(a);case"LineString":return v=d.updateHighlightStyle(v),g=f(n,"LineString"===r.type?0:1,u),(o=new s.Polyline(g,v)).msId=e.id,o;case"MultiLineString":for(v=d.updateHighlightStyle(v),h=0,b=(g=f(n,"LineString"===r.type?0:1,u)).length;h<b;h++)(o=new s.Polyline(g[h],v)).msId=e.id,o&&a.push(o);return new s.FeatureGroup(a);case"Polygon":return v=d.updateHighlightStyle(v),g=f(n,"Polygon"===r.type?1:2,u),(o=d.createPolygonCircleLayer({geojson:e,style:v,latlngs:g,coordsToLatLng:u})).msId=e.id,o;case"MultiPolygon":for(v=d.updateHighlightStyle(v),h=0,b=(g=f(n,"Polygon"===r.type?1:2,u)).length;h<b;h++)(o=d.createPolygonCircleLayer({geojson:e,style:v,latlngs:g,coordsToLatLng:u})).msId=e.id,o&&a.push(o);return new s.FeatureGroup(a);case"GeometryCollection":for(h=0,b=r.geometries.length;h<b;h++)(o=d.geometryToLayer({geometry:r.geometries[h],type:"Feature",properties:e.properties},t))&&a.push(o);return new s.FeatureGroup(a);default:throw new Error("Invalid GeoJSON object.")}},updateHighlightStyle:function(e){var t=e.highlight;return t?p({},e,{dashArray:t?"10":null}):e}};e.exports=d},638279:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var r=o(923645),n=o.n(r)()((function(e){return e[1]}));n.push([e.id,".msgapi .leaflet-control-minimap {\n    border:solid rgba(255, 255, 255, 1.0) 4px;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n    border-radius: 3px;\n    background: #f8f8f9;\n    transition: all .2s;\n}\n.msgapi .leafletbottom.leafletright, .msgapi .leaflet-control-minimap{\n    position:relative;\n    bottom:5px;\n}\n.msgapi .leaflet-control-minimap a {\n    background-color: rgba(255, 255, 255, 1.0);\n    background-repeat: no-repeat;\n    z-index: 99999;\n    transition: all .2s;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-bottomright {\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n    border-radius: 0px;\n    bottom: -3px;\n    right: -3px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-topleft {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-bottomleft {\n    -webkit-transform: rotate(270deg);\n    transform: rotate(270deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-topright {\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap-toggle-display{\n    background-size: cover;\n    position: absolute;\n    border-radius: 3px 0px 0px 0px;\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-bottomright {\n    bottom: 0;\n    right: 0;\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-topleft{\n    top: 0;\n    left: 0;\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-bottomleft{\n    bottom: 0;\n    left: 0;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-topright{\n    top: 0;\n    right: 0;\n    -webkit-transform: rotate(270deg);\n    transform: rotate(270deg);\n}\n\n/* Old IE */\n.msgapi .leaflet-oldie .leaflet-control-minimap {\n    border: 1px solid #999;\n}\n\n.msgapi .leaflet-oldie .leaflet-control-minimap a {\n    background-color: #fff;\n}\n\n.msgapi .leaflet-oldie .leaflet-control-minimap a.minimized {\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\n}\n",""]);const i=n},194555:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});var r=o(893379),n=o.n(r),i=o(638279);n()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}}}]);