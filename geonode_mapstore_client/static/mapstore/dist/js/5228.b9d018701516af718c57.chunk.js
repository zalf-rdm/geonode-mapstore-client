(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5228],{62435:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}},71831:t=>{t.exports=function(t){if(Array.isArray(t))return t}},11489:(t,e,r)=>{var o=r(62435);t.exports=function(t){if(Array.isArray(t))return o(t)}},70107:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},87218:t=>{function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}},41695:t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},4301:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},98470:t=>{t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],o=!0,n=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(o=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);o=!0);}catch(t){n=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(n)throw a}}return r}}},74269:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},42278:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},83271:(t,e,r)=>{var o=r(71831),n=r(98470),a=r(22209),i=r(74269);t.exports=function(t,e){return o(t)||n(t,e)||a(t,e)||i()}},54276:(t,e,r)=>{var o=r(11489),n=r(4301),a=r(22209),i=r(42278);t.exports=function(t){return o(t)||n(t)||a(t)||i()}},22209:(t,e,r)=>{var o=r(62435);t.exports=function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}},74851:t=>{"use strict";t.exports=function(t,e){if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];var r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},44020:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp(e,"gi"),o=new RegExp("("+e+")+","gi");function n(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),o=t.slice(e);return Array.prototype.concat.call([],n(r),n(o))}function a(t){try{return decodeURIComponent(t)}catch(a){for(var e=t.match(r),o=1;o<e.length;o++)e=(t=n(e,o).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=a(r[0]);n!==r[0]&&(e[r[0]]=n)}r=o.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),l=0;l<i.length;l++){var s=i[l];t=t.replace(new RegExp(s,"g"),e[s])}return t}(t)}}},92806:t=>{"use strict";t.exports=function(t,e){for(var r={},o=Object.keys(t),n=Array.isArray(e),a=0;a<o.length;a++){var i=o[a],l=t[i];(n?-1!==e.indexOf(i):e(i,l,t))&&(r[i]=l)}return r}},53772:function(t,e,r){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=r(31219),a=r(48039),i=r(98185),l=r(20767),s=r(15565),u=r(9371),c=r(62875),f=r(18663),p=r(2661),y=r(39588),g=r(89539),d=r(27361),h=function(){function t(t){this.title="OpenLayers Style Parser",this.OlStyleConstructor=n.default,this.OlStyleImageConstructor=a.default,this.OlStyleFillConstructor=i.default,this.OlStyleStrokeConstructor=l.default,this.OlStyleTextConstructor=s.default,this.OlStyleCircleConstructor=u.default,this.OlStyleIconConstructor=c.default,this.OlStyleRegularshapeConstructor=f.default,this.isOlParserStyleFct=function(t){return"function"==typeof t},t&&(this.OlStyleConstructor=t.style.Style,this.OlStyleImageConstructor=t.style.Image,this.OlStyleFillConstructor=t.style.Fill,this.OlStyleStrokeConstructor=t.style.Stroke,this.OlStyleTextConstructor=t.style.Text,this.OlStyleCircleConstructor=t.style.Circle,this.OlStyleIconConstructor=t.style.Icon,this.OlStyleRegularshapeConstructor=t.style.RegularShape)}return t.prototype.getPointSymbolizerFromOlStyle=function(t){var e;if(t.getImage()instanceof this.OlStyleCircleConstructor){var r=t.getImage(),o=r.getFill(),n=r.getStroke();e={kind:"Mark",wellKnownName:"Circle",color:o?p.default.getHexColor(o.getColor()):void 0,opacity:o?p.default.getOpacity(o.getColor()):void 0,radius:0!==r.getRadius()?r.getRadius():5,strokeColor:n?n.getColor():void 0,strokeOpacity:n?p.default.getOpacity(n.getColor()):void 0,strokeWidth:n?n.getWidth():void 0}}else if(t.getImage()instanceof this.OlStyleRegularshapeConstructor){var a=t.getImage(),i=(o=a.getFill(),n=a.getStroke(),a.getRadius()),l=a.getRadius2(),s=a.getPoints(),u=a.getAngle(),c={kind:"Mark",color:o?p.default.getHexColor(o.getColor()):void 0,opacity:o?p.default.getOpacity(o.getColor()):void 0,strokeColor:n?n.getColor():void 0,strokeOpacity:n?p.default.getOpacity(n.getColor()):void 0,strokeWidth:n?n.getWidth():void 0,radius:0!==i?i:5,rotate:a.getRotation()/Math.PI*180};switch(s){case 2:switch(u){case 0:c.wellKnownName="shape://vertline";break;case Math.PI/2:c.wellKnownName="shape://horline";break;case Math.PI/4:c.wellKnownName="shape://slash";break;case 2*Math.PI-Math.PI/4:c.wellKnownName="shape://backslash"}break;case 3:switch(u){case 0:c.wellKnownName="Triangle";break;case Math.PI/2:c.wellKnownName="shape://carrow"}break;case 4:g.isNumber(l)?0===a.getAngle()?c.wellKnownName="Cross":c.wellKnownName="X":c.wellKnownName="Square";break;case 5:c.wellKnownName="Star";break;default:throw new Error("Could not parse OlStyle. Only 2, 3, 4 or 5 point regular shapes are allowed")}e=c}else{var f=t.getImage();e={kind:"Icon",image:f.getSrc()?f.getSrc():void 0,opacity:f.getOpacity(),size:0!==f.getScale()?f.getScale():5,rotate:f.getRotation()/Math.PI*180}}return e},t.prototype.getLineSymbolizerFromOlStyle=function(t){var e=t.getStroke(),r=e?e.getLineDash():void 0;return{kind:"Line",color:e?p.default.getHexColor(e.getColor()):void 0,opacity:e?p.default.getOpacity(e.getColor()):void 0,width:e?e.getWidth():void 0,cap:e?e.getLineCap():"butt",join:e?e.getLineJoin():"miter",dasharray:r||void 0,dashOffset:e?e.getLineDashOffset():void 0}},t.prototype.getFillSymbolizerFromOlStyle=function(t){var e=t.getFill(),r=t.getStroke();return{kind:"Fill",color:e?p.default.getHexColor(e.getColor()):void 0,opacity:e?p.default.getOpacity(e.getColor()):void 0,outlineColor:r?r.getColor():void 0,outlineWidth:r?r.getWidth():void 0}},t.prototype.getTextSymbolizerFromOlStyle=function(t){var e,r=t.getText(),o=r.getFill(),n=r.getStroke(),a=r.getOffsetX(),i=r.getOffsetY(),l=r.getFont(),s=r.getRotation(),u=r.getText(),c=1/0,f=void 0;if(l){var y=l.split("px");e=y[0].trim().split(" "),c=parseInt(e[e.length-1],10),f=(2===y.length?y[1]:y[2]).split(",").map((function(t){return t.startsWith(" ")?t.slice(1):t}))}return{kind:"Text",label:u,color:o?p.default.getHexColor(o.getColor()):void 0,size:isFinite(c)?c:void 0,font:f,offset:void 0!==a&&void 0!==i?[a,i]:[0,0],haloColor:n&&n.getColor()?p.default.getHexColor(n.getColor()):void 0,haloWidth:n?n.getWidth():void 0,rotate:void 0!==s?s/Math.PI*180:void 0}},t.prototype.getSymbolizersFromOlStyle=function(t){var e=this,r=[];return t.forEach((function(t){var o;switch(e.getStyleTypeFromOlStyle(t)){case"Point":o=t.getText()?e.getTextSymbolizerFromOlStyle(t):e.getPointSymbolizerFromOlStyle(t);break;case"Line":o=e.getLineSymbolizerFromOlStyle(t);break;case"Fill":o=e.getFillSymbolizerFromOlStyle(t);break;default:throw new Error("Failed to parse SymbolizerKind from OpenLayers Style")}r.push(o)})),r},t.prototype.getRuleFromOlStyle=function(t){return{name:"OL Style Rule 0",symbolizers:Array.isArray(t)?this.getSymbolizersFromOlStyle(t):this.getSymbolizersFromOlStyle([t])}},t.prototype.getStyleTypeFromOlStyle=function(t){var e;if(t.getImage()instanceof this.OlStyleImageConstructor)e="Point";else if(t.getText()instanceof this.OlStyleTextConstructor)e="Point";else if(t.getFill()instanceof this.OlStyleFillConstructor)e="Fill";else{if(!t.getStroke()||t.getFill())throw new Error("StyleType could not be detected");e="Line"}return e},t.prototype.olStyleToGeoStylerStyle=function(t){return{name:"OL Style",rules:[this.getRuleFromOlStyle(t)]}},t.prototype.readStyle=function(t){var e=this;return new Promise((function(r,o){try{e.isOlParserStyleFct(t)?r(t.__geoStylerStyle):r(e.olStyleToGeoStylerStyle(t))}catch(t){o(t)}}))},t.prototype.writeStyle=function(t){var e=this;return new Promise((function(r,o){try{r(e.getOlStyleTypeFromGeoStylerStyle(t))}catch(t){o(t)}}))},t.prototype.getOlStyleTypeFromGeoStylerStyle=function(t){var e=t.rules;if(1===e.length){var r=void 0!==d(t,"rules[0].filter"),o=void 0!==d(t,"rules[0].scaleDenominator.min"),n=void 0!==d(t,"rules[0].scaleDenominator.max"),a=!(!o&&!n),i=t.rules[0].symbolizers.length,l=e[0].symbolizers.some((function(t){return"Text"===t.kind}));return r||a||l?this.geoStylerStyleToOlParserStyleFct(t):1===i?this.geoStylerStyleToOlStyle(t):this.geoStylerStyleToOlStyleArray(t)}return this.geoStylerStyleToOlParserStyleFct(t)},t.prototype.geoStylerStyleToOlStyle=function(t){var e=t.rules[0].symbolizers[0];return this.getOlSymbolizerFromSymbolizer(e)},t.prototype.geoStylerStyleToOlStyleArray=function(t){var e=this,r=t.rules[0],o=[];return r.symbolizers.forEach((function(t){var r=e.getOlSymbolizerFromSymbolizer(t);o.push(r)})),o},t.prototype.geoStylerStyleToOlParserStyleFct=function(t){var e=this,r=t.rules,o=function(t,o){var n=[],a=y.default.getScaleForResolution(o,"m");return r.forEach((function(r){var i=d(r,"scaleDenominator.min"),l=d(r,"scaleDenominator.max"),s=!0;void 0===i&&void 0===l||(void 0!==i&&a<i&&(s=!1),void 0!==l&&a>=l&&(s=!1));var u=!1;if(r.filter)try{u=e.geoStylerFilterToOlParserFilter(t,r.filter)}catch(t){u=!1}else u=!0;s&&u&&r.symbolizers.forEach((function(r){var a=e.getOlSymbolizerFromSymbolizer(r);if("function"!=typeof a)n.push(a);else{var i=a(t,o);n.push(i)}}))})),n};return o.__geoStylerStyle=t,o},t.prototype.geoStylerFilterToOlParserFilter=function(t,e){var r=this,o=!0,n=!1;({"&&":!0,"||":!0,"!":!0})[e[0]]&&(n=!0);try{if(n)switch(e[0]){case"&&":var a=!0,i=e.slice(1);i.forEach((function(e){r.geoStylerFilterToOlParserFilter(t,e)||(a=!1)})),o=a;break;case"||":a=!1,(i=e.slice(1)).forEach((function(e){r.geoStylerFilterToOlParserFilter(t,e)&&(a=!0)})),o=a;break;case"!":o=!this.geoStylerFilterToOlParserFilter(t,e[1]);break;default:throw new Error("Cannot parse Filter. Unknown combination or negation operator.")}else{var l=t.get(e[1]);switch(e[0]){case"==":o=""+l==""+e[2];break;case"*=":"string"==typeof e[2]&&"string"==typeof l&&(o=!(e[2].length>l.length)&&-1!==l.indexOf(e[2]));break;case"!=":o=""+l!=""+e[2];break;case"<":o=parseFloat(l)<parseFloat(e[2]);break;case"<=":o=parseFloat(l)<=parseFloat(e[2]);break;case">":o=parseFloat(l)>parseFloat(e[2]);break;case">=":o=parseFloat(l)>=parseFloat(e[2]);break;default:throw new Error("Cannot parse Filter. Unknown comparison operator.")}}}catch(t){throw new Error("Cannot parse Filter. Invalid structure.")}return o},t.prototype.getOlSymbolizerFromSymbolizer=function(t){var e;switch(t.kind){case"Mark":e=this.getOlPointSymbolizerFromMarkSymbolizer(t);break;case"Icon":e=this.getOlIconSymbolizerFromIconSymbolizer(t);break;case"Text":e=this.getOlTextSymbolizerFromTextSymbolizer(t);break;case"Line":e=this.getOlLineSymbolizerFromLineSymbolizer(t);break;case"Fill":e=this.getOlPolygonSymbolizerFromFillSymbolizer(t);break;default:var r=new this.OlStyleFillConstructor({color:"rgba(255,255,255,0.4)"}),o=new this.OlStyleStrokeConstructor({color:"#3399CC",width:1.25});e=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor({fill:r,stroke:o,radius:5}),fill:r,stroke:o})}return e},t.prototype.getOlPointSymbolizerFromMarkSymbolizer=function(t){var e;(t.strokeColor||void 0!==t.strokeWidth)&&(e=new this.OlStyleStrokeConstructor({color:t.strokeColor&&void 0!==t.strokeOpacity?p.default.getRgbaColor(t.strokeColor,t.strokeOpacity):t.strokeColor,width:t.strokeWidth}));var r,o={fill:new this.OlStyleFillConstructor({color:t.color&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}),opacity:t.opacity||1,radius:t.radius||5,rotation:t.rotate?t.rotate*Math.PI/180:void 0,stroke:e};switch(t.wellKnownName){case"shape://dot":case"Circle":r=new this.OlStyleConstructor({image:new this.OlStyleCircleConstructor(o)});break;case"Square":o.points=4,o.angle=45*Math.PI/180,r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"Triangle":o.points=3,o.angle=0,r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"Star":o.points=5,o.radius2=o.radius/2.5,o.angle=0,r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://plus":case"Cross":o.points=4,o.radius2=0,o.angle=0,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://times":case"X":o.points=4,o.radius2=0,o.angle=45*Math.PI/180,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://backslash":o.points=2,o.angle=2*Math.PI-Math.PI/4,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://horline":o.points=2,o.angle=Math.PI/2,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://oarrow":case"shape://carrow":o.points=3,o.angle=Math.PI/2,r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://slash":o.points=2,o.angle=Math.PI/4,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;case"shape://vertline":o.points=2,o.angle=0,void 0===o.stroke&&(o.stroke=new this.OlStyleStrokeConstructor({color:"#000"})),r=new this.OlStyleConstructor({image:new this.OlStyleRegularshapeConstructor(o)});break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}return r},t.prototype.getOlIconSymbolizerFromIconSymbolizer=function(t){return new this.OlStyleConstructor({image:new this.OlStyleIconConstructor({src:t.image,crossOrigin:"anonymous",opacity:t.opacity,scale:t.size||1,rotation:t.rotate?t.rotate*Math.PI/180:void 0})})},t.prototype.getOlLineSymbolizerFromLineSymbolizer=function(t){return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color,width:t.width,lineCap:t.cap,lineJoin:t.join,lineDash:t.dasharray,lineDashOffset:t.dashOffset})})},t.prototype.getOlPolygonSymbolizerFromFillSymbolizer=function(t){var e=t.color?new this.OlStyleFillConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}):null;return new this.OlStyleConstructor({stroke:new this.OlStyleStrokeConstructor({color:t.outlineColor,width:t.outlineWidth}),fill:e})},t.prototype.getOlTextSymbolizerFromTextSymbolizer=function(t){var e=this,r={font:p.default.getTextFont(t),fill:new this.OlStyleFillConstructor({color:t.color&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.color,t.opacity):t.color}),stroke:new this.OlStyleStrokeConstructor({color:t.haloColor&&null!==t.opacity&&void 0!==t.opacity?p.default.getRgbaColor(t.haloColor,t.opacity):t.haloColor,width:t.haloWidth?t.haloWidth:0}),offsetX:t.offset?t.offset[0]:0,offsetY:t.offset?t.offset[1]:0,rotation:t.rotate?t.rotate*Math.PI/180:void 0},n=new RegExp("\\{\\{.*?\\}\\}","g");return t.label&&t.label.match(n)?function(n,a){var i=new e.OlStyleTextConstructor(o({text:p.default.resolveAttributeTemplate(n,t.label,"")},r));return new e.OlStyleConstructor({text:i})}:new this.OlStyleConstructor({text:new this.OlStyleTextConstructor(o({text:t.label},r))})},t.title="OpenLayers Style Parser",t}();e.OlStyleParser=h,e.default=h},2661:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.getRgbaColor=function(t,e){return t.startsWith("rgba(")?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)?(e<0&&(e=1),"rgba("+parseInt(t.slice(1,3),16)+", "+parseInt(t.slice(3,5),16)+", "+parseInt(t.slice(5,7),16)+", "+e+")"):void 0},t.splitRgbaColor=function(t){var e=t.substring(t.indexOf("(")+1,t.lastIndexOf(")")).split(/,\s*/);return[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),parseFloat(e[3])]},t.getHexColor=function(e){return e.startsWith("#")?e:e.startsWith("rgb")?"#"+t.splitRgbaColor(e).map((function(t,e){var r=t.toString(16);return e<3?1===r.length?"0"+r:r:""})).join(""):void 0},t.getOpacity=function(e){if(e.startsWith("rgba(")){var r=t.splitRgbaColor(e);return 4===r.length?r[3]:void 0}},t.getTextFont=function(t){return"Normal "+t.size+"px "+t.font},t.resolveAttributeTemplate=function(t,e,r,o){void 0===r&&(r="n.v."),void 0===o&&(o=function(t,e){return e});var n=new RegExp("\\{\\{(.*?)\\}\\}","g"),a=e.match(n);return a&&a.forEach((function(n){for(var a=0,i=0,l=Object.entries(t.getProperties());i<l.length;i++){var s=l[i],u=s[0],c=s[1];if(n.slice(2,n.length-2).toLowerCase()===u.toLowerCase()){e=e.replace(n,o(u,c));break}a++}a===Object.keys(t.getProperties()).length&&(e=e.replace(n,r))})),e},t}();e.default=r},24515:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(77260)).default.getLogger("app-logger");n.setLevel("DEBUG"),e.default=n},5630:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(47037)),a=function(){function t(){}return t.urlify=function(t){return t.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>')},t.coerce=function(e){if(!n.default(e))return e;if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1;if(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(e))return parseFloat(e);if(e.startsWith("["))return JSON.parse(e).map((function(e){return t.coerce(e)}));if(e.startsWith("{")){var r=JSON.parse(e),o={};return Object.keys(r).forEach((function(e){o[e]=t.coerce(r[e])})),o}return e},t.stringDivider=function(e,r,o){var n=0,a=r;if(e.length>r){for(var i=r,l=void 0,s=void 0;i>0&&" "!==e[i]&&"-"!==e[i];)i--;return i>0?(l="-"===e.substring(i,i+1)?e.substring(0,i+1):e.substring(0,i),s=e.substring(i+1),l+o+t.stringDivider(s,r,o)):(l=e.substring(n,a+1)+"-",s=e.substring(a+1),n=a,a+=r,l+o+t.stringDivider(s,r,o))}return e},t.stripHTMLTags=function(t){var e;return DOMParser&&(e=(new DOMParser).parseFromString(t,"text/html").body.textContent||""),e},t.sanitizeUrl=function(t){return t.replace(/([^:]\/)\/+/g,"$1").replace(/\/+$/,"")},t}();e.default=a},47063:function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UrlUtil=void 0;var n=o(r(83457)),a=o(r(93045)),i=o(r(66678)),l=o(r(55114)),s=function(){function t(){}return t.read=function(t){return new n.default(t,null,a.default.parse)},t.write=function(t){return t.toString()},t.getBasePath=function(e){var r=t.read(e);return r.protocol+"//"+r.host+r.pathname},t.getQueryParams=function(e){return t.read(e).query},t.getQueryParam=function(e,r){var o=t.getQueryParams(e);return o[Object.keys(o).filter((function(t){return t.toLowerCase()===r.toLowerCase()}))[0]]},t.joinQueryParams=function(t,e,r){var o=i.default(t);return r.forEach((function(t){o[t]&&(o[t]=o[t].split(",").concat(e[t].split(",")).join(","))})),o},t.hasQueryParam=function(e,r){var o=t.getQueryParams(e);return!!Object.keys(o).some((function(t){return t.toLowerCase()===r.toLowerCase()}))},t.createValidGetCapabilitiesRequest=function(e,r,o){void 0===r&&(r="WMS"),void 0===o&&(o="1.3.0");var n=t.getBasePath(e),a=t.getQueryParams(e);return t.hasQueryParam(e,"SERVICE")||(a.SERVICE=r),t.hasQueryParam(e,"REQUEST")||(a.REQUEST="GetCapabilities"),t.hasQueryParam(e,"VERSION")||(a.VERSION=o),n+"?"+t.objectToRequestString(a)},t.bundleOgcRequests=function(e,r,o){void 0===r&&(r=!1),void 0===o&&(o=["LAYERS","QUERY_LAYERS","STYLES"]);var n={};e.forEach((function(e){var r=t.getQueryParams(e),a=t.getBasePath(e);if(n[a]){var i=n[a],l=r;n[a]=t.joinQueryParams(i,l,o)}else n[a]=r}));var a=[];if(r){for(var i=0,l=Object.entries(n);i<l.length;i++){var s=l[i],u=s[0],c=s[1],f=t.read(u);f.set("query",c),a.push(t.write(f))}return a}return n},t.objectToRequestString=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t.isValid=function(t,e){return void 0===e&&(e={require_tld:!1,require_protocol:!0,protocols:["http","https","ftp"],require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,disallow_auth:!1}),l.default(t,e)},t}();e.UrlUtil=s,e.default=s},22899:(t,e,r)=>{"use strict";var o=r(29059);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(83271)),a=o(r(70107)),i=o(r(87218)),l=o(r(47037)),s=o(r(1469)),u=o(r(5630)),c=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,null,[{key:"getFeatureTypeName",value:function(t){var e=t.getId(),r=e?e.split("."):e;return(0,s.default)(r)?r[0]:void 0}},{key:"getFeatureTypeNameFromGetFeatureInfoUrl",value:function(t){var e,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=/query_layers=(.*?)(&|$)/i,n=t.match(o);return n&&n[1]&&(e=decodeURIComponent(n[1]),!r&&e.indexOf(":")>0&&(e=e.split(":")[1])),e}},{key:"resolveAttributeTemplate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n.v.",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t,e){return e},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i="\\{\\{",s="\\}\\}",c="",f=new RegExp(i+"(.*?)"+s,"g"),p=(0,l.default)(e)?e.match(f):null;return p&&p.forEach((function(a){for(var i=0,l=0,s=Object.entries(t.getProperties());l<s.length;l++){var u=(0,n.default)(s[l],2),c=u[0],f=u[1];if(a.slice(2,a.length-2).toLowerCase()===c.toLowerCase()){e=e.replace(a,o(c,f));break}i++}i===Object.keys(t.getProperties()).length&&(e=e.replace(a,r))})),(c=e)||(c=t.getId()),a||(c=(c=u.default.urlify(c)).replace(/\n/g,"<br>")),c}}]),t}();e.default=c},39588:(t,e,r)=>{"use strict";var o=r(29059);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MapUtil=void 0;var n=o(r(54276)),a=o(r(70107)),i=o(r(87218)),l=o(r(41695)),s=o(r(78471)),u=o(r(91587)),c=o(r(92663)),f=o(r(31742)),p=o(r(10410)),y=o(r(98090)),g=r(40868),d=o(r(47063)),h=o(r(24515)),m=o(r(22899)),v=o(r(30998));function S(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}var w=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,null,[{key:"getInteractionsByName",value:function(t,e){var r=[];return t instanceof s.default?(t.getInteractions().forEach((function(t){t.get("name")===e&&r.push(t)})),r):(h.default.debug("Input parameter map must be from type `ol.Map`."),r)}},{key:"getInteractionsByClass",value:function(t,e){var r=[];return t instanceof s.default?(t.getInteractions().forEach((function(t){t instanceof e&&r.push(t)})),r):(h.default.debug("Input parameter map must be from type `ol.Map`."),r)}},{key:"getResolutionForScale",value:function(t,e){var r=g.METERS_PER_UNIT[e];return parseFloat(t)/(39.37*r*(25.4/.28))}},{key:"getScaleForResolution",value:function(t,e){var r=g.METERS_PER_UNIT[e];return parseFloat(t)*r*39.37*(25.4/.28)}},{key:"getAllLayers",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!(e instanceof s.default||e instanceof f.default))return h.default.error("Input parameter collection must be from type `ol.Map`or `ol.layer.Group`."),[];var o=e.getLayers().getArray(),n=[];return o.forEach((function(e){e instanceof f.default&&t.getAllLayers(e).forEach((function(t){r(t)&&n.push(t)})),r(e)&&n.push(e)})),n}},{key:"getLayerByName",value:function(e,r){return t.getAllLayers(e).filter((function(t){return t.get("name")===r}))[0]}},{key:"getLayerByNameParam",value:function(e,r){var o,n,a=S(t.getAllLayers(e));try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.getSource&&i.getSource().getParams&&i.getSource().getParams().LAYERS===r){o=i;break}}}catch(t){a.e(t)}finally{a.f()}return o}},{key:"getLayerByFeature",value:function(e,r,o){var n,a,i=m.default.getFeatureTypeName(r),l=S(o);try{for(l.s();!(a=l.n()).done;){var s=a.value,u="".concat(s,":").concat(i),c=t.getLayerByNameParam(e,u);if(c){n=c;break}}}catch(t){l.e(t)}finally{l.f()}return n}},{key:"getLayersByGroup",value:function(e,r){var o=[];return r.getLayers().forEach((function(r){r instanceof f.default?o.push.apply(o,(0,n.default)(t.getLayersByGroup(e,r))):o.push(r)})),o}},{key:"getLayersByProperty",value:function(e,r,o){if(e&&r)return t.getAllLayers(e).filter((function(t){return t.get(r)===o}))}},{key:"getLayerPositionInfo",value:function(e,r){var o=r instanceof f.default?r:r.getLayerGroup(),n=o.getLayers().getArray(),a={};return n.indexOf(e)<0?n.forEach((function(r){r instanceof f.default&&!a.groupLayer&&(a=t.getLayerPositionInfo(e,r))})):(a.position=n.indexOf(e),a.groupLayer=o),a}},{key:"getLegendGraphicUrl",value:function(t,e){if(t){var r=t.getSource();if(t instanceof p.default&&r){var o=r instanceof u.default,n=r instanceof c.default;if(o||n){var a=t.getSource(),i=o?a.getUrls()?a.getUrls()[0]:"":a.getUrl(),l={LAYER:a.getParams().LAYERS,VERSION:"1.3.0",SERVICE:"WMS",REQUEST:"getLegendGraphic",FORMAT:"image/png"},s=d.default.objectToRequestString(Object.assign(l,e));return/\?/.test(i)?"".concat(i,"&").concat(s):"".concat(i,"?").concat(s)}h.default.warn('Source of "'.concat(t.get("name"),'" is currently not supported ')+"by MapUtil.getLegendGraphicUrl.")}else h.default.error("Invalid layer passed to MapUtil.getLegendGraphicUrl.")}else h.default.error("No layer passed to MapUtil.getLegendGraphicUrl.")}},{key:"layerInResolutionRange",value:function(t,e){var r=e&&e.getView(),o=r&&r.getResolution();if(!t||!r||!o)return!1;var n=t.getMinResolution(),a=t.getMaxResolution();return o>=n&&o<a}},{key:"roundScale",value:function(t){var e;return t<100&&(e=Math.round(t,10)),t>=100&&t<1e4&&(e=10*Math.round(t/10)),t>=1e4&&t<1e6&&(e=100*Math.round(t/100)),t>=1e6&&(e=1e3*Math.round(t/1e3)),e}},{key:"getZoomForScale",value:function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";if(Number.isNaN(Number(e)))return 0;if(e<0)return 0;var n=t.getResolutionForScale(e,o),a=r.reduce((function(t,e){return Math.abs(e-n)<Math.abs(t-n)?e:t})),i=(0,v.default)(r,(function(t){return Math.abs(t-a)<=1e-10}));return i}},{key:"zoomToFeatures",value:function(t,e){if(t instanceof s.default){var r=[];if(e.forEach((function(t){null!==t.getGeometry()&&r.push(t.getGeometry())})),r.length>0){var o=new y.default(r);t.getView().fit(o.getExtent())}}}},{key:"isInScaleRange",value:function(t,e){return e>=t.get("minResolution")&&e<t.get("maxResolution")}}]),t}();e.MapUtil=w,(0,l.default)(w,"getLayerByOlUid",(function(t,e){return w.getAllLayers(t).find((function(t){return e===t.ol_uid.toString()}))}));var O=w;e.default=O},77260:function(t,e,r){var o,n;!function(a,i){"use strict";o=function(){var t=function(){},e="undefined",r=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"];function n(t,e){var r=t[e];if("function"==typeof r.bind)return r.bind(t);try{return Function.prototype.bind.call(r,t)}catch(e){return function(){return Function.prototype.apply.apply(r,[t,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(o){return"debug"===o&&(o="log"),typeof console!==e&&("trace"===o&&r?a:void 0!==console[o]?n(console,o):void 0!==console.log?n(console,"log"):t)}function l(e,r){for(var n=0;n<o.length;n++){var a=o[n];this[a]=n<e?t:this.methodFactory(a,e,r)}this.log=this.debug}function s(t,r,o){return function(){typeof console!==e&&(l.call(this,r,o),this[t].apply(this,arguments))}}function u(t,e,r){return i(t)||s.apply(this,arguments)}function c(t,r,n){var a,i=this;r=null==r?"WARN":r;var s="loglevel";function c(){var t;if(typeof window!==e&&s){try{t=window.localStorage[s]}catch(t){}if(typeof t===e)try{var r=window.document.cookie,o=r.indexOf(encodeURIComponent(s)+"=");-1!==o&&(t=/^([^;]+)/.exec(r.slice(o))[1])}catch(t){}return void 0===i.levels[t]&&(t=void 0),t}}"string"==typeof t?s+=":"+t:"symbol"==typeof t&&(s=void 0),i.name=t,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=n||u,i.getLevel=function(){return a},i.setLevel=function(r,n){if("string"==typeof r&&void 0!==i.levels[r.toUpperCase()]&&(r=i.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(a=r,!1!==n&&function(t){var r=(o[t]||"silent").toUpperCase();if(typeof window!==e&&s){try{return void(window.localStorage[s]=r)}catch(t){}try{window.document.cookie=encodeURIComponent(s)+"="+r+";"}catch(t){}}}(r),l.call(i,r,t),typeof console===e&&r<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(t){r=t,c()||i.setLevel(t,!1)},i.resetLevel=function(){i.setLevel(r,!1),function(){if(typeof window!==e&&s){try{return void window.localStorage.removeItem(s)}catch(t){}try{window.document.cookie=encodeURIComponent(s)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}()},i.enableAll=function(t){i.setLevel(i.levels.TRACE,t)},i.disableAll=function(t){i.setLevel(i.levels.SILENT,t)};var f=c();null==f&&(f=r),i.setLevel(f,!1)}var f=new c,p={};f.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=p[t];return e||(e=p[t]=new c(t,f.getLevel(),f.methodFactory)),e};var y=typeof window!==e?window.log:void 0;return f.noConflict=function(){return typeof window!==e&&window.log===f&&(window.log=y),f},f.getLoggers=function(){return p},f.default=f,f},void 0===(n=o.call(e,r,e,t))||(t.exports=n)}()},93045:(t,e,r)=>{"use strict";const o=r(52921),n=r(44020),a=r(74851),i=r(92806);function l(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(t,e){return e.encode?e.strict?o(t):encodeURIComponent(t):t}function u(t,e){return e.decode?n(t):t}function c(t){return Array.isArray(t)?t.sort():"object"==typeof t?c(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function f(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t){const e=(t=f(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function y(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){l((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,o)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===o[t]&&(o[t]={}),o[t][e[1]]=r):o[t]=r};case"bracket":return(t,r,o)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==o[t]?o[t]=[].concat(o[t],r):o[t]=[r]:o[t]=r};case"comma":case"separator":return(e,r,o)=>{const n="string"==typeof r&&r.includes(t.arrayFormatSeparator),a="string"==typeof r&&!n&&u(r,t).includes(t.arrayFormatSeparator);r=a?u(r,t):r;const i=n||a?r.split(t.arrayFormatSeparator).map((e=>u(e,t))):null===r?r:u(r,t);o[e]=i};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),o=Object.create(null);if("string"!=typeof t)return o;if(!(t=t.trim().replace(/^[?#&]/,"")))return o;for(const n of t.split("&")){if(""===n)continue;let[t,i]=a(e.decode?n.replace(/\+/g," "):n,"=");i=void 0===i?null:["comma","separator"].includes(e.arrayFormat)?i:u(i,e),r(u(t,e),i,o)}for(const t of Object.keys(o)){const r=o[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=y(r[t],e);else o[t]=y(r,e)}return!1===e.sort?o:(!0===e.sort?Object.keys(o).sort():Object.keys(o).sort(e.sort)).reduce(((t,e)=>{const r=o[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=c(r):t[e]=r,t}),Object.create(null))}e.extract=p,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";l((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],o=function(t){switch(t.arrayFormat){case"index":return e=>(r,o)=>{const n=r.length;return void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?r:null===o?[...r,[s(e,t),"[",n,"]"].join("")]:[...r,[s(e,t),"[",s(n,t),"]=",s(o,t)].join("")]};case"bracket":return e=>(r,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?r:null===o?[...r,[s(e,t),"[]"].join("")]:[...r,[s(e,t),"[]=",s(o,t)].join("")];case"comma":case"separator":return e=>(r,o)=>null==o||0===o.length?r:0===r.length?[[s(e,t),"=",s(o,t)].join("")]:[[r,s(o,t)].join(t.arrayFormatSeparator)];default:return e=>(r,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?r:null===o?[...r,s(e,t)]:[...r,[s(e,t),"=",s(o,t)].join("")]}}(e),n={};for(const e of Object.keys(t))r(e)||(n[e]=t[e]);const a=Object.keys(n);return!1!==e.sort&&a.sort(e.sort),a.map((r=>{const n=t[r];return void 0===n?"":null===n?s(r,e):Array.isArray(n)?n.reduce(o(r),[]).join("&"):s(r,e)+"="+s(n,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,o]=a(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(p(t),e)},e&&e.parseFragmentIdentifier&&o?{fragmentIdentifier:u(o,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0},r);const o=f(t.url).split("?")[0]||"",n=e.extract(t.url),a=e.parse(n,{sort:!1}),i=Object.assign(a,t.query);let l=e.stringify(i,r);l&&(l=`?${l}`);let u=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(u=`#${s(t.fragmentIdentifier,r)}`),`${o}${l}${u}`},e.pick=(t,r,o)=>{o=Object.assign({parseFragmentIdentifier:!0},o);const{url:n,query:a,fragmentIdentifier:l}=e.parseUrl(t,o);return e.stringifyUrl({url:n,query:i(a,r),fragmentIdentifier:l},o)},e.exclude=(t,r,o)=>{const n=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,n,o)}},52921:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},83457:(t,e,r)=>{"use strict";var o=r(47418),n=r(57129),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,i=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function f(t){return(t||"").toString().replace(a,"")}var p=[["#","hash"],["?","query"],function(t,e){return d(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],y={hash:1,query:1};function g(t){var e,o=("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{}).location||{},n={},a=typeof(t=t||o);if("blob:"===t.protocol)n=new m(unescape(t.pathname),{});else if("string"===a)for(e in n=new m(t,{}),y)delete n[e];else if("object"===a){for(e in t)e in y||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=l.test(t.href))}return n}function d(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function h(t,e){t=(t=f(t)).replace(i,""),e=e||{};var r,o=u.exec(t),n=o[1]?o[1].toLowerCase():"",a=!!o[2],l=!!o[3],s=0;return a?l?(r=o[2]+o[3]+o[4],s=o[2].length+o[3].length):(r=o[2]+o[4],s=o[2].length):l?(r=o[3]+o[4],s=o[3].length):r=o[4],"file:"===n?s>=2&&(r=r.slice(2)):d(n)?r=o[4]:n?a&&(r=r.slice(2)):s>=2&&d(e.protocol)&&(r=o[4]),{protocol:n,slashes:a||d(n),slashesCount:s,rest:r}}function m(t,e,r){if(t=(t=f(t)).replace(i,""),!(this instanceof m))return new m(t,e,r);var a,l,s,u,y,v,S=p.slice(),b=typeof e,w=this,O=0;for("object"!==b&&"string"!==b&&(r=e,e=null),r&&"function"!=typeof r&&(r=n.parse),a=!(l=h(t||"",e=g(e))).protocol&&!l.slashes,w.slashes=l.slashes||a&&e.slashes,w.protocol=l.protocol||e.protocol||"",t=l.rest,("file:"===l.protocol&&(2!==l.slashesCount||c.test(t))||!l.slashes&&(l.protocol||l.slashesCount<2||!d(w.protocol)))&&(S[3]=[/(.*)/,"pathname"]);O<S.length;O++)"function"!=typeof(u=S[O])?(s=u[0],v=u[1],s!=s?w[v]=t:"string"==typeof s?~(y="@"===s?t.lastIndexOf(s):t.indexOf(s))&&("number"==typeof u[2]?(w[v]=t.slice(0,y),t=t.slice(y+u[2])):(w[v]=t.slice(y),t=t.slice(0,y))):(y=s.exec(t))&&(w[v]=y[1],t=t.slice(0,y.index)),w[v]=w[v]||a&&u[3]&&e[v]||"",u[4]&&(w[v]=w[v].toLowerCase())):t=u(t,w);r&&(w.query=r(w.query)),a&&e.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==e.pathname)&&(w.pathname=function(t,e){if(""===t)return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),o=r.length,n=r[o-1],a=!1,i=0;o--;)"."===r[o]?r.splice(o,1):".."===r[o]?(r.splice(o,1),i++):i&&(0===o&&(a=!0),r.splice(o,1),i--);return a&&r.unshift(""),"."!==n&&".."!==n||r.push(""),r.join("/")}(w.pathname,e.pathname)),"/"!==w.pathname.charAt(0)&&d(w.protocol)&&(w.pathname="/"+w.pathname),o(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(y=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,y),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(y+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&d(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}m.prototype={set:function(t,e,r){var a=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||n.parse)(e)),a[t]=e;break;case"port":a[t]=e,o(e,a.protocol)?e&&(a.host=a.hostname+":"+e):(a.host=a.hostname,a[t]="");break;case"hostname":a[t]=e,a.port&&(e+=":"+a.port),a.host=e;break;case"host":a[t]=e,s.test(e)?(e=e.split(":"),a.port=e.pop(),a.hostname=e.join(":")):(a.hostname=e,a.port="");break;case"protocol":a.protocol=e.toLowerCase(),a.slashes=!r;break;case"pathname":case"hash":if(e){var i="pathname"===t?"/":"#";a[t]=e.charAt(0)!==i?i+e:e}else a[t]=e;break;case"username":case"password":a[t]=encodeURIComponent(e);break;case"auth":var l=e.indexOf(":");~l?(a.username=e.slice(0,l),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=e.slice(l+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(e))}for(var u=0;u<p.length;u++){var c=p[u];c[4]&&(a[c[1]]=a[c[1]].toLowerCase())}return a.auth=a.password?a.username+":"+a.password:a.username,a.origin="file:"!==a.protocol&&d(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(t){t&&"function"==typeof t||(t=n.stringify);var e,r=this,o=r.host,a=r.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var i=a+(r.protocol&&r.slashes||d(r.protocol)?"//":"");return r.username?(i+=r.username,r.password&&(i+=":"+r.password),i+="@"):r.password?(i+=":"+r.password,i+="@"):"file:"!==r.protocol&&d(r.protocol)&&!o&&"/"!==r.pathname&&(i+="@"),(":"===o[o.length-1]||s.test(r.hostname)&&!r.port)&&(o+=":"),i+=o+r.pathname,(e="object"==typeof r.query?t(r.query):r.query)&&(i+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(i+=r.hash),i}},m.extractProtocol=h,m.location=g,m.trimLeft=f,m.qs=n,t.exports=m},7935:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,o.default)(t),(e=(0,n.default)(e,i)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1)),!0===e.allow_wildcard&&0===t.indexOf("*.")&&(t=t.substring(2));var r=t.split("."),a=r[r.length-1];if(e.require_tld){if(r.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/\s/.test(a))return!1}return!(!e.allow_numeric_tld&&/^\d+$/.test(a))&&r.every((function(t){return!(t.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(t)||/[\uff01-\uff5e]/.test(t)||/^-|-$/.test(t)||!e.allow_underscores&&/_/.test(t))}))};var o=a(r(20049)),n=a(r(80134));function a(t){return t&&t.__esModule?t:{default:t}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};t.exports=e.default,t.exports.default=e.default},67753:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,n.default)(e),!(r=String(r)))return t(e,4)||t(e,6);if("4"===r){if(!l.test(e))return!1;var o=e.split(".").sort((function(t,e){return t-e}));return o[3]<=255}return"6"===r&&!!u.test(e)};var o,n=(o=r(20049))&&o.__esModule?o:{default:o},a="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i="(".concat(a,"[.]){3}").concat(a),l=new RegExp("^".concat(i,"$")),s="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(s,":){7}(?:").concat(s,"|:)|")+"(?:".concat(s,":){6}(?:").concat(i,"|:").concat(s,"|:)|")+"(?:".concat(s,":){5}(?::").concat(i,"|(:").concat(s,"){1,2}|:)|")+"(?:".concat(s,":){4}(?:(:").concat(s,"){0,1}:").concat(i,"|(:").concat(s,"){1,3}|:)|")+"(?:".concat(s,":){3}(?:(:").concat(s,"){0,2}:").concat(i,"|(:").concat(s,"){1,4}|:)|")+"(?:".concat(s,":){2}(?:(:").concat(s,"){0,3}:").concat(i,"|(:").concat(s,"){1,5}|:)|")+"(?:".concat(s,":){1}(?:(:").concat(s,"){0,4}:").concat(i,"|(:").concat(s,"){1,6}|:)|")+"(?::((?::".concat(s,"){0,5}:").concat(i,"|(?::").concat(s,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");t.exports=e.default,t.exports.default=e.default},55114:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,o.default)(t),!t||/[\s<>]/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;if((e=(0,i.default)(e,u)).validate_length&&t.length>=2083)return!1;if(!e.allow_fragments&&t.includes("#"))return!1;if(!e.allow_query_components&&(t.includes("?")||t.includes("&")))return!1;var r,l,p,y,g,d,h,m,v;if(h=t.split("#"),t=h.shift(),h=t.split("?"),t=h.shift(),(h=t.split("://")).length>1){if(r=h.shift().toLowerCase(),e.require_valid_protocol&&-1===e.protocols.indexOf(r))return!1}else{if(e.require_protocol)return!1;if("//"===t.substr(0,2)){if(!e.allow_protocol_relative_urls)return!1;h[0]=t.substr(2)}}if(""===(t=h.join("://")))return!1;if(h=t.split("/"),""===(t=h.shift())&&!e.require_host)return!0;if((h=t.split("@")).length>1){if(e.disallow_auth)return!1;if(""===h[0])return!1;if((l=h.shift()).indexOf(":")>=0&&l.split(":").length>2)return!1;var S=(2,function(t){if(Array.isArray(t))return t}(v=l.split(":"))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],o=!0,n=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(o=(i=l.next()).done)&&(r.push(i.value),2!==r.length);o=!0);}catch(t){n=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(n)throw a}}return r}}(v)||function(t,e){if(t){if("string"==typeof t)return s(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,2):void 0}}(v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=S[0],w=S[1];if(""===b&&""===w)return!1}d=null,m=null;var O=(y=h.join("@")).match(c);if(O?(p="",m=O[1],d=O[2]||null):(p=(h=y.split(":")).shift(),h.length&&(d=h.join(":"))),null!==d&&d.length>0){if(g=parseInt(d,10),!/^[0-9]+$/.test(d)||g<=0||g>65535)return!1}else if(e.require_port)return!1;return e.host_whitelist?f(p,e.host_whitelist):!!((0,a.default)(p)||(0,n.default)(p,e)||m&&(0,a.default)(m,6))&&(p=p||m,!e.host_blacklist||!f(p,e.host_blacklist))};var o=l(r(20049)),n=l(r(7935)),a=l(r(67753)),i=l(r(80134));function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}var u={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},c=/^\[([^\]]+)\](?::([0-9]+))?$/;function f(t,e){for(var r=0;r<e.length;r++){var o=e[r];if(t===o||(n=o,"[object RegExp]"===Object.prototype.toString.call(n)&&o.test(t)))return!0}var n;return!1}t.exports=e.default,t.exports.default=e.default},20049:(t,e)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!("string"==typeof t||t instanceof String)){var e=r(t);throw null===t?e="null":"object"===e&&(e=t.constructor.name),new TypeError("Expected a string but received a ".concat(e))}},t.exports=e.default,t.exports.default=e.default},80134:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t},t.exports=e.default,t.exports.default=e.default},86320:(t,e,r)=>{"use strict";function o(t){return Math.pow(t,3)}function n(t){return 1-o(1-t)}function a(t){return 3*t*t-2*t*t*t}function i(t){return t}r.d(e,{YQ:()=>o,Vv:()=>n,rd:()=>a,GE:()=>i})},4027:(t,e,r)=>{"use strict";function o(t,e,r,o){for(var n=t[e],a=t[e+1],i=0,l=e+o;l<r;l+=o){var s=t[l],u=t[l+1];i+=Math.sqrt((s-n)*(s-n)+(u-a)*(u-a)),n=s,a=u}return i}r.d(e,{W:()=>o})},15565:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var o=r(98185),n=r(78288),a=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new o.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:n.Z.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};a.prototype.clone=function(){return new a({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},a.prototype.getOverflow=function(){return this.overflow_},a.prototype.getFont=function(){return this.font_},a.prototype.getMaxAngle=function(){return this.maxAngle_},a.prototype.getPlacement=function(){return this.placement_},a.prototype.getOffsetX=function(){return this.offsetX_},a.prototype.getOffsetY=function(){return this.offsetY_},a.prototype.getFill=function(){return this.fill_},a.prototype.getRotateWithView=function(){return this.rotateWithView_},a.prototype.getRotation=function(){return this.rotation_},a.prototype.getScale=function(){return this.scale_},a.prototype.getStroke=function(){return this.stroke_},a.prototype.getText=function(){return this.text_},a.prototype.getTextAlign=function(){return this.textAlign_},a.prototype.getTextBaseline=function(){return this.textBaseline_},a.prototype.getBackgroundFill=function(){return this.backgroundFill_},a.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},a.prototype.getPadding=function(){return this.padding_},a.prototype.setOverflow=function(t){this.overflow_=t},a.prototype.setFont=function(t){this.font_=t},a.prototype.setMaxAngle=function(t){this.maxAngle_=t},a.prototype.setOffsetX=function(t){this.offsetX_=t},a.prototype.setOffsetY=function(t){this.offsetY_=t},a.prototype.setPlacement=function(t){this.placement_=t},a.prototype.setFill=function(t){this.fill_=t},a.prototype.setRotation=function(t){this.rotation_=t},a.prototype.setScale=function(t){this.scale_=t},a.prototype.setStroke=function(t){this.stroke_=t},a.prototype.setText=function(t){this.text_=t},a.prototype.setTextAlign=function(t){this.textAlign_=t},a.prototype.setTextBaseline=function(t){this.textBaseline_=t},a.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},a.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},a.prototype.setPadding=function(t){this.padding_=t};const i=a},78288:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});const o={POINT:"point",LINE:"line"}},57129:(t,e)=>{"use strict";var r=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function n(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var o,a,i=[];for(a in"string"!=typeof e&&(e="?"),t)if(r.call(t,a)){if((o=t[a])||null!=o&&!isNaN(o)||(o=""),a=n(a),o=n(o),null===a||null===o)continue;i.push(a+"="+o)}return i.length?e+i.join("&"):""},e.parse=function(t){for(var e,r=/([^=?#&]+)=?([^&]*)/g,n={};e=r.exec(t);){var a=o(e[1]),i=o(e[2]);null===a||null===i||a in n||(n[a]=i)}return n}},47418:t=>{"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}}}]);