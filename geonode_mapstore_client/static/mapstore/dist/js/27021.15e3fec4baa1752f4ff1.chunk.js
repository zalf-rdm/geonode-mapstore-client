(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[27021],{271317:e=>{"use strict";e.exports=JSON.parse('{"glass":"f000","music":"f001","search":"f002","envelope-o":"f003","heart":"f004","star":"f005","star-o":"f006","user":"f007","film":"f008","th-large":"f009","th":"f00a","th-list":"f00b","check":"f00c","times":"f00d","search-plus":"f00e","search-minus":"f010","power-off":"f011","signal":"f012","cog":"f013","trash-o":"f014","home":"f015","file-o":"f016","clock-o":"f017","road":"f018","download":"f019","arrow-circle-o-down":"f01a","arrow-circle-o-up":"f01b","inbox":"f01c","play-circle-o":"f01d","repeat":"f01e","refresh":"f021","list-alt":"f022","lock":"f023","flag":"f024","headphones":"f025","volume-off":"f026","volume-down":"f027","volume-up":"f028","qrcode":"f029","barcode":"f02a","tag":"f02b","tags":"f02c","book":"f02d","bookmark":"f02e","print":"f02f","camera":"f030","font":"f031","bold":"f032","italic":"f033","text-height":"f034","text-width":"f035","align-left":"f036","align-center":"f037","align-right":"f038","align-justify":"f039","list":"f03a","outdent":"f03b","indent":"f03c","video-camera":"f03d","picture-o":"f03e","pencil":"f040","map-marker":"f041","adjust":"f042","tint":"f043","pencil-square-o":"f044","share-square-o":"f045","check-square-o":"f046","arrows":"f047","step-backward":"f048","fast-backward":"f049","backward":"f04a","play":"f04b","pause":"f04c","stop":"f04d","forward":"f04e","fast-forward":"f050","step-forward":"f051","eject":"f052","chevron-left":"f053","chevron-right":"f054","plus-circle":"f055","minus-circle":"f056","times-circle":"f057","check-circle":"f058","question-circle":"f059","info-circle":"f05a","crosshairs":"f05b","times-circle-o":"f05c","check-circle-o":"f05d","ban":"f05e","arrow-left":"f060","arrow-right":"f061","arrow-up":"f062","arrow-down":"f063","share":"f064","expand":"f065","compress":"f066","plus":"f067","minus":"f068","asterisk":"f069","exclamation-circle":"f06a","gift":"f06b","leaf":"f06c","fire":"f06d","eye":"f06e","eye-slash":"f070","exclamation-triangle":"f071","plane":"f072","calendar":"f073","random":"f074","comment":"f075","magnet":"f076","chevron-up":"f077","chevron-down":"f078","retweet":"f079","shopping-cart":"f07a","folder":"f07b","folder-open":"f07c","arrows-v":"f07d","arrows-h":"f07e","bar-chart":"f080","twitter-square":"f081","facebook-square":"f082","camera-retro":"f083","key":"f084","cogs":"f085","comments":"f086","thumbs-o-up":"f087","thumbs-o-down":"f088","star-half":"f089","heart-o":"f08a","sign-out":"f08b","linkedin-square":"f08c","thumb-tack":"f08d","external-link":"f08e","sign-in":"f090","trophy":"f091","github-square":"f092","upload":"f093","lemon-o":"f094","phone":"f095","square-o":"f096","bookmark-o":"f097","phone-square":"f098","twitter":"f099","facebook":"f09a","github":"f09b","unlock":"f09c","credit-card":"f09d","rss":"f09e","hdd-o":"f0a0","bullhorn":"f0a1","bell":"f0f3","certificate":"f0a3","hand-o-right":"f0a4","hand-o-left":"f0a5","hand-o-up":"f0a6","hand-o-down":"f0a7","arrow-circle-left":"f0a8","arrow-circle-right":"f0a9","arrow-circle-up":"f0aa","arrow-circle-down":"f0ab","globe":"f0ac","wrench":"f0ad","tasks":"f0ae","filter":"f0b0","briefcase":"f0b1","arrows-alt":"f0b2","users":"f0c0","link":"f0c1","cloud":"f0c2","flask":"f0c3","scissors":"f0c4","files-o":"f0c5","paperclip":"f0c6","floppy-o":"f0c7","square":"f0c8","bars":"f0c9","list-ul":"f0ca","list-ol":"f0cb","strikethrough":"f0cc","underline":"f0cd","table":"f0ce","magic":"f0d0","truck":"f0d1","pinterest":"f0d2","pinterest-square":"f0d3","google-plus-square":"f0d4","google-plus":"f0d5","money":"f0d6","caret-down":"f0d7","caret-up":"f0d8","caret-left":"f0d9","caret-right":"f0da","columns":"f0db","sort":"f0dc","sort-desc":"f0dd","sort-asc":"f0de","envelope":"f0e0","linkedin":"f0e1","undo":"f0e2","gavel":"f0e3","tachometer":"f0e4","comment-o":"f0e5","comments-o":"f0e6","bolt":"f0e7","sitemap":"f0e8","umbrella":"f0e9","clipboard":"f0ea","lightbulb-o":"f0eb","exchange":"f0ec","cloud-download":"f0ed","cloud-upload":"f0ee","user-md":"f0f0","stethoscope":"f0f1","suitcase":"f0f2","bell-o":"f0a2","coffee":"f0f4","cutlery":"f0f5","file-text-o":"f0f6","building-o":"f0f7","hospital-o":"f0f8","ambulance":"f0f9","medkit":"f0fa","fighter-jet":"f0fb","beer":"f0fc","h-square":"f0fd","plus-square":"f0fe","angle-double-left":"f100","angle-double-right":"f101","angle-double-up":"f102","angle-double-down":"f103","angle-left":"f104","angle-right":"f105","angle-up":"f106","angle-down":"f107","desktop":"f108","laptop":"f109","tablet":"f10a","mobile":"f10b","circle-o":"f10c","quote-left":"f10d","quote-right":"f10e","spinner":"f110","circle":"f111","reply":"f112","github-alt":"f113","folder-o":"f114","folder-open-o":"f115","smile-o":"f118","frown-o":"f119","meh-o":"f11a","gamepad":"f11b","keyboard-o":"f11c","flag-o":"f11d","flag-checkered":"f11e","terminal":"f120","code":"f121","reply-all":"f122","star-half-o":"f123","location-arrow":"f124","crop":"f125","code-fork":"f126","chain-broken":"f127","question":"f128","info":"f129","exclamation":"f12a","superscript":"f12b","subscript":"f12c","eraser":"f12d","puzzle-piece":"f12e","microphone":"f130","microphone-slash":"f131","shield":"f132","calendar-o":"f133","fire-extinguisher":"f134","rocket":"f135","maxcdn":"f136","chevron-circle-left":"f137","chevron-circle-right":"f138","chevron-circle-up":"f139","chevron-circle-down":"f13a","html5":"f13b","css3":"f13c","anchor":"f13d","unlock-alt":"f13e","bullseye":"f140","ellipsis-h":"f141","ellipsis-v":"f142","rss-square":"f143","play-circle":"f144","ticket":"f145","minus-square":"f146","minus-square-o":"f147","level-up":"f148","level-down":"f149","check-square":"f14a","pencil-square":"f14b","external-link-square":"f14c","share-square":"f14d","compass":"f14e","caret-square-o-down":"f150","caret-square-o-up":"f151","caret-square-o-right":"f152","eur":"f153","gbp":"f154","usd":"f155","inr":"f156","jpy":"f157","rub":"f158","krw":"f159","btc":"f15a","file":"f15b","file-text":"f15c","sort-alpha-asc":"f15d","sort-alpha-desc":"f15e","sort-amount-asc":"f160","sort-amount-desc":"f161","sort-numeric-asc":"f162","sort-numeric-desc":"f163","thumbs-up":"f164","thumbs-down":"f165","youtube-square":"f166","youtube":"f167","xing":"f168","xing-square":"f169","youtube-play":"f16a","dropbox":"f16b","stack-overflow":"f16c","instagram":"f16d","flickr":"f16e","adn":"f170","bitbucket":"f171","bitbucket-square":"f172","tumblr":"f173","tumblr-square":"f174","long-arrow-down":"f175","long-arrow-up":"f176","long-arrow-left":"f177","long-arrow-right":"f178","apple":"f179","windows":"f17a","android":"f17b","linux":"f17c","dribbble":"f17d","skype":"f17e","foursquare":"f180","trello":"f181","female":"f182","male":"f183","gratipay":"f184","sun-o":"f185","moon-o":"f186","archive":"f187","bug":"f188","vk":"f189","weibo":"f18a","renren":"f18b","pagelines":"f18c","stack-exchange":"f18d","arrow-circle-o-right":"f18e","arrow-circle-o-left":"f190","caret-square-o-left":"f191","dot-circle-o":"f192","wheelchair":"f193","vimeo-square":"f194","try":"f195","plus-square-o":"f196","space-shuttle":"f197","slack":"f198","envelope-square":"f199","wordpress":"f19a","openid":"f19b","university":"f19c","graduation-cap":"f19d","yahoo":"f19e","google":"f1a0","reddit":"f1a1","reddit-square":"f1a2","stumbleupon-circle":"f1a3","stumbleupon":"f1a4","delicious":"f1a5","digg":"f1a6","pied-piper-pp":"f1a7","pied-piper-alt":"f1a8","drupal":"f1a9","joomla":"f1aa","language":"f1ab","fax":"f1ac","building":"f1ad","child":"f1ae","paw":"f1b0","spoon":"f1b1","cube":"f1b2","cubes":"f1b3","behance":"f1b4","behance-square":"f1b5","steam":"f1b6","steam-square":"f1b7","recycle":"f1b8","car":"f1b9","taxi":"f1ba","tree":"f1bb","spotify":"f1bc","deviantart":"f1bd","soundcloud":"f1be","database":"f1c0","file-pdf-o":"f1c1","file-word-o":"f1c2","file-excel-o":"f1c3","file-powerpoint-o":"f1c4","file-image-o":"f1c5","file-archive-o":"f1c6","file-audio-o":"f1c7","file-video-o":"f1c8","file-code-o":"f1c9","vine":"f1ca","codepen":"f1cb","jsfiddle":"f1cc","life-ring":"f1cd","circle-o-notch":"f1ce","rebel":"f1d0","empire":"f1d1","git-square":"f1d2","git":"f1d3","hacker-news":"f1d4","tencent-weibo":"f1d5","qq":"f1d6","weixin":"f1d7","paper-plane":"f1d8","paper-plane-o":"f1d9","history":"f1da","circle-thin":"f1db","header":"f1dc","paragraph":"f1dd","sliders":"f1de","share-alt":"f1e0","share-alt-square":"f1e1","bomb":"f1e2","futbol-o":"f1e3","tty":"f1e4","binoculars":"f1e5","plug":"f1e6","slideshare":"f1e7","twitch":"f1e8","yelp":"f1e9","newspaper-o":"f1ea","wifi":"f1eb","calculator":"f1ec","paypal":"f1ed","google-wallet":"f1ee","cc-visa":"f1f0","cc-mastercard":"f1f1","cc-discover":"f1f2","cc-amex":"f1f3","cc-paypal":"f1f4","cc-stripe":"f1f5","bell-slash":"f1f6","bell-slash-o":"f1f7","trash":"f1f8","copyright":"f1f9","at":"f1fa","eyedropper":"f1fb","paint-brush":"f1fc","birthday-cake":"f1fd","area-chart":"f1fe","pie-chart":"f200","line-chart":"f201","lastfm":"f202","lastfm-square":"f203","toggle-off":"f204","toggle-on":"f205","bicycle":"f206","bus":"f207","ioxhost":"f208","angellist":"f209","cc":"f20a","ils":"f20b","meanpath":"f20c","buysellads":"f20d","connectdevelop":"f20e","dashcube":"f210","forumbee":"f211","leanpub":"f212","sellsy":"f213","shirtsinbulk":"f214","simplybuilt":"f215","skyatlas":"f216","cart-plus":"f217","cart-arrow-down":"f218","diamond":"f219","ship":"f21a","user-secret":"f21b","motorcycle":"f21c","street-view":"f21d","heartbeat":"f21e","venus":"f221","mars":"f222","mercury":"f223","transgender":"f224","transgender-alt":"f225","venus-double":"f226","mars-double":"f227","venus-mars":"f228","mars-stroke":"f229","mars-stroke-v":"f22a","mars-stroke-h":"f22b","neuter":"f22c","genderless":"f22d","facebook-official":"f230","pinterest-p":"f231","whatsapp":"f232","server":"f233","user-plus":"f234","user-times":"f235","bed":"f236","viacoin":"f237","train":"f238","subway":"f239","medium":"f23a","y-combinator":"f23b","optin-monster":"f23c","opencart":"f23d","expeditedssl":"f23e","battery-full":"f240","battery-three-quarters":"f241","battery-half":"f242","battery-quarter":"f243","battery-empty":"f244","mouse-pointer":"f245","i-cursor":"f246","object-group":"f247","object-ungroup":"f248","sticky-note":"f249","sticky-note-o":"f24a","cc-jcb":"f24b","cc-diners-club":"f24c","clone":"f24d","balance-scale":"f24e","hourglass-o":"f250","hourglass-start":"f251","hourglass-half":"f252","hourglass-end":"f253","hourglass":"f254","hand-rock-o":"f255","hand-paper-o":"f256","hand-scissors-o":"f257","hand-lizard-o":"f258","hand-spock-o":"f259","hand-pointer-o":"f25a","hand-peace-o":"f25b","trademark":"f25c","registered":"f25d","creative-commons":"f25e","gg":"f260","gg-circle":"f261","tripadvisor":"f262","odnoklassniki":"f263","odnoklassniki-square":"f264","get-pocket":"f265","wikipedia-w":"f266","safari":"f267","chrome":"f268","firefox":"f269","opera":"f26a","internet-explorer":"f26b","television":"f26c","contao":"f26d","500px":"f26e","amazon":"f270","calendar-plus-o":"f271","calendar-minus-o":"f272","calendar-times-o":"f273","calendar-check-o":"f274","industry":"f275","map-pin":"f276","map-signs":"f277","map-o":"f278","map":"f279","commenting":"f27a","commenting-o":"f27b","houzz":"f27c","vimeo":"f27d","black-tie":"f27e","fonticons":"f280","reddit-alien":"f281","edge":"f282","credit-card-alt":"f283","codiepie":"f284","modx":"f285","fort-awesome":"f286","usb":"f287","product-hunt":"f288","mixcloud":"f289","scribd":"f28a","pause-circle":"f28b","pause-circle-o":"f28c","stop-circle":"f28d","stop-circle-o":"f28e","shopping-bag":"f290","shopping-basket":"f291","hashtag":"f292","bluetooth":"f293","bluetooth-b":"f294","percent":"f295","gitlab":"f296","wpbeginner":"f297","wpforms":"f298","envira":"f299","universal-access":"f29a","wheelchair-alt":"f29b","question-circle-o":"f29c","blind":"f29d","audio-description":"f29e","volume-control-phone":"f2a0","braille":"f2a1","assistive-listening-systems":"f2a2","american-sign-language-interpreting":"f2a3","deaf":"f2a4","glide":"f2a5","glide-g":"f2a6","sign-language":"f2a7","low-vision":"f2a8","viadeo":"f2a9","viadeo-square":"f2aa","snapchat":"f2ab","snapchat-ghost":"f2ac","snapchat-square":"f2ad","pied-piper":"f2ae","first-order":"f2b0","yoast":"f2b1","themeisle":"f2b2","google-plus-official":"f2b3","font-awesome":"f2b4","handshake-o":"f2b5","envelope-open":"f2b6","envelope-open-o":"f2b7","linode":"f2b8","address-book":"f2b9","address-book-o":"f2ba","address-card":"f2bb","address-card-o":"f2bc","user-circle":"f2bd","user-circle-o":"f2be","user-o":"f2c0","id-badge":"f2c1","id-card":"f2c2","id-card-o":"f2c3","quora":"f2c4","free-code-camp":"f2c5","telegram":"f2c6","thermometer-full":"f2c7","thermometer-three-quarters":"f2c8","thermometer-half":"f2c9","thermometer-quarter":"f2ca","thermometer-empty":"f2cb","shower":"f2cc","bath":"f2cd","podcast":"f2ce","window-maximize":"f2d0","window-minimize":"f2d1","window-restore":"f2d2","window-close":"f2d3","window-close-o":"f2d4","bandcamp":"f2d5","grav":"f2d6","etsy":"f2d7","imdb":"f2d8","ravelry":"f2d9","eercast":"f2da","microchip":"f2db","snowflake-o":"f2dc","superpowers":"f2dd","wpexplorer":"f2de","meetup":"f2e0"}')},881808:(e,t,r)=>{"use strict";r.d(t,{eD:()=>n,AM:()=>o,ok:()=>a,Gg:()=>i,nT:()=>l,TL:()=>c,KS:()=>s,EB:()=>f,DZ:()=>u,Aw:()=>p,V_:()=>y,H0:()=>d,jW:()=>m,JZ:()=>b,fQ:()=>h,HK:()=>g,YO:()=>v,I6:()=>w});var n="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",a="MAP_CONFIG_LOADED",i="MAP_CONFIG_LOAD_ERROR",l="MAP_LOAD_INFO",c="MAP_INFO_LOAD_START",s="MAP_INFO_LOADED",f="MAP_INFO_LOAD_ERROR",u="MAP:MAP_SAVE_ERROR",p="MAP:MAP_SAVED",y="MAP:RESET_MAP_SAVE_ERROR";function d(e,t,r){return{type:a,config:e,legacy:!!t,mapId:t,zoomToExtent:r}}function m(e,t){return{type:i,error:e,mapId:t}}function b(e,t,r,n,a){return{type:o,configName:e,mapId:t,config:r,mapInfo:n,overrideConfig:a}}function h(e,t){return{type:s,mapId:t,info:e,merge:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function g(e,t){return{type:f,mapId:e,error:t}}function v(e){return{type:c,mapId:e}}function w(e){return{type:l,mapId:e}}},615402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(45697),o=r.n(n),a=r(124852),i=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function s(e,t,r){return t=u(t),function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,r||[],u(e).constructor):t.apply(e,r))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}var m=r(868195).FormattedHTMLMessage,b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.context.intl?i().createElement(m,{id:this.props.msgId,values:this.props.msgParams}):i().createElement("span",null,this.props.msgId||"")}}])&&c(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);y(b,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),y(b,"contextTypes",{intl:o().object});const h=b},361123:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(124852),o=r.n(n),a=r(855033),i=r.n(a),l=r(480681),c=r(38560);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){var n,o,a,i;n=e,o=t,a=r[t],i=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==s(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=(0,r(815135).Z)(c.Z);const y=function(e){var t=e.accept,r=e.children,n=e.style,a=e.onRef,c=void 0===a?function(){}:a,s=e.onClose,f=void 0===s?function(){}:s,y=e.onDrop,d=void 0===y?function(){}:y,m=e.onDragEnter,b=void 0===m?function(){}:m,h=e.onDragLeave,g=void 0===h?function(){}:h;return o().createElement(i(),{disableClick:!0,ref:c,id:"DRAGDROP_IMPORT_ZONE",style:u({position:"relative",height:"100%"},n),accept:t,onDrop:d,onDragEnter:b,onDragLeave:g},o().createElement("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"rgba(0,0,0,0.75)",color:"#fff",zIndex:2e3,display:"flex",textAlign:"center"}},o().createElement(p,{style:{border:"none",background:"transparent",color:"white",fontSize:35,top:0,right:0,position:"absolute"},onClick:function(){return f()}},o().createElement(l.gG,{glyph:"1-close"})),o().createElement("div",{style:{margin:"auto",maxWidth:550}},r)))}},867783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(124852),o=r.n(n),a=r(532425),i=r(805346);const l=function(){return o().createElement("div",{style:{margin:"auto",maxWidth:550}},o().createElement(a.Z,{size:80,color:"#ffffff",style:{margin:"auto"}}),o().createElement("h4",null,o().createElement(i.Z,{msgId:"loading"})))}},565178:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(867076);const o=(0,n.compose)((0,n.withHandlers)((function(){var e=null;return{onRef:function(){return function(t){return e=t}},openFileDialog:function(){return function(){return e.open()}}}})))},38560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(480681),o=r(124852),a=r.n(o),i=r(294184),l=r.n(i),c=["disabled","className","onClick"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}var f=r(815135);const u=(p=n.zx,a().forwardRef((function(e,t){var r=e.disabled,n=e.className,o=e.onClick,i=void 0===o?function(){}:o,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return a().createElement(p,s({ref:t,className:r?l()("disabled",n):n,onClick:function(){r||i.apply(void 0,arguments)}},f),f.children)})));var p;(0,f.Z)(n.zx)},807472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var n=r(727418),o=r.n(n),a=r(45697),i=r.n(a),l=r(124852),c=r.n(l),s=r(485294),f=r.n(s),u=r(472986),p=r.n(u),y=r(805346);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function g(e,t,r){return t=w(t),function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function S(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var P=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return S(e=g(this,t,[].concat(n)),"renderLoading",(function(){return e.props.maskLoading?c().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},c().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},c().createElement(y.Z,{msgId:"loading"}),c().createElement(p(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),S(e,"renderRole",(function(t){return c().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),S(e,"hasRole",(function(t){return c().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),S(e,"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=c().createElement("div",{id:this.props.id,style:b({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},c().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),c().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?c().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):c().createElement("span",null)),r=this.props.draggable?c().createElement(f(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?c().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&h(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(c().Component);S(P,"propTypes",{id:i().string.isRequired,style:i().object,backgroundStyle:i().object,className:i().string,maskLoading:i().bool,containerClassName:i().string,headerClassName:i().string,bodyClassName:i().string,footerClassName:i().string,onClickOut:i().func,modal:i().bool,start:i().object,draggable:i().bool,bounds:i().oneOfType([i().string,i().object])}),S(P,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const j=P},532425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(45697),o=r.n(n),a=r(124852),i=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){var n,o,a,i;n=e,o=t,a=r[t],i=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==l(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){return e>100?"full":e>40?"medium":"small"},u=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,a=e.hidden;return i().createElement("div",{className:o,style:s({width:t,height:t,overflow:"hidden"},n)},!a&&i().createElement("div",{className:"mapstore-".concat(f(t),"-size-loader")}))};u.propTypes={size:o().number,className:o().string,style:o().object};const p=u},61018:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(124852),o=r.n(n),a=r(807472),i=r(480681);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var c=["show","style","modal","draggable","closeGlyph","closable","onClose","title","header","footer","children"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){var n,o,a,i;n=e,o=t,a=r[t],i=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==l(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const p=function(e){var t=e.show,r=e.style,n=void 0===r?{}:r,l=e.modal,f=e.draggable,p=void 0!==f&&f,y=e.closeGlyph,d=void 0===y?"1-close":y,m=e.closable,b=void 0===m||m,h=e.onClose,g=void 0===h?function(){}:h,v=e.title,w=e.header,O=e.footer,S=e.children,E=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return t?o().createElement(a.Z,s({modal:l,onClickOut:b&&l?function(){return g()}:null,style:u(u({},n),{},{display:t?"block":"none"}),draggable:p},E),o().createElement("span",{role:"header"},v||w||o().createElement("span",null,"Â "),b?o().createElement("button",{onClick:function(){return g()},className:"settings-panel-close close"},o().createElement(i.gG,{glyph:d})):null),o().createElement("span",{role:"body"},S),O?o().createElement("span",{role:"footer"},O):null):null}},857037:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(124852),o=r.n(n),a=r(45697),i=r.n(a),l=r(24198),c=r(717621),s=r.n(c),f=r(290702);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t,r,a=e.value,i=e.format,c=e.onChangeColor,y=e.text,d=e.line,m=e.disabled,b=e.pickerProps,h=e.containerNode,g=e.onOpen,v=e.placement,w=(t=(0,n.useState)(),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=w[0],S=w[1],E=s()(a).toString();(0,n.useEffect)((function(){var e=O&&s()(O).toString();e&&E&&E!==e&&S(a)}),[E]);var P=(0,n.useRef)();P.current=function(e){g(e),e||m||!O||c(i?s()(O).toString(i):O)};var j,k,_=m?" ms-disabled":"";return o().createElement(f.Z,{disabled:m,onOpen:function(e){return P.current(e)},placement:v,containerNode:h,content:o().createElement(l.xS,u({},b,{className:"ms-sketch-picker",styles:{picker:{width:200,padding:"10px 10px 0",boxSizing:"initial"}},color:s()(O||a).toRgb(),onChange:function(e){return S(e.rgb)}}))},o().createElement("div",{className:"ms-color-picker".concat(_)},o().createElement("div",{className:"ms-color-picker-swatch",style:(j=O||a||"transparent",k=s()(j).toRgbString(),d?{boxSizing:"border-box",border:"4px solid ".concat(k),backgroundColor:"transparent"}:{color:"transparent"===j?"#000000":s().mostReadable(k,["#000000"],{includeFallbackColors:!0}).toHexString(),backgroundColor:k})},y)))}y.propTypes={value:i().oneOfType([i().string,i().shape({r:i().number,g:i().number,b:i().number,a:i().number})]),format:i().string,onChangeColor:i().func,text:i().string,line:i().bool,disabled:i().bool,pickerProps:i().object,containerNode:i().oneOfType([i().node,i().func]),onOpen:i().function,placement:i().string},y.defaultProps={disabled:!1,line:!1,onChangeColor:function(){},pickerProps:{},onOpen:function(){}};const d=y},290702:(e,t,r)=>{"use strict";r.d(t,{z:()=>g,Z:()=>v});var n=r(124852),o=r.n(n),a=r(180307),i=r(974691),l=r.n(i),c=r(737275),s=r(623560),f=r.n(s);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var p=["open","onOpen"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){var n,o,a,i;n=e,o=t,a=r[t],i=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==u(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t=e.containerNode,r=void 0===t?function(){return document.querySelector("."+((0,c.u8)("themePrefix")||"ms2")+" > div")||document.body}:t,i=e.placement,s=e.content,u=e.children,p=e.open,y=e.onOpen,d=void 0===y?function(){}:y,h=e.onClick,g=void 0===h?function(){}:h,v=e.disabled,w=e.triggerScrollableElement,O=10,S=f()(r)?r():r,E=(0,n.useRef)({picker:{opacity:0},arrow:{opacity:0},overlay:{}}),P=b((0,n.useState)(E.current),2),j=P[0],k=P[1],_=(0,n.useRef)(),x=(0,n.useRef)(),T=(0,n.useRef)(),C=(0,n.useCallback)((function(){var e,t,r,n,o,a;if(!p)return E.current;var c={picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}};if("center"===i)return c;var s=null==_||null===(e=_.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e),f=null==x||null===(r=x.current)||void 0===r||null===(n=r.getBoundingClientRect)||void 0===n?void 0:n.call(r),u=null==T||null===(o=T.current)||void 0===o||null===(a=o.getBoundingClientRect)||void 0===a?void 0:a.call(o);if(s&&f&&u){var y,d,m,b,h=u.width,g=u.height,v=f.top,w=f.left,S=f.width,P=f.height,j=s.top,k=s.left,C=s.width,M=s.height,A=h+20<S,I=g+20<P,D={top:{filter:function(){return A&&j-v>g+O},styles:function(){var e=k+C/2-h/2-w;return{picker:{position:"absolute",top:j-g-O-v,left:l()(e,w+O,w+S-h-O)},overlay:{},arrow:{top:j+2,left:k+C/2,transform:"translate(-50%, -50%) rotateZ(270deg) translateX(50%)"}}}},right:{filter:function(){return I&&w+S-(k+C)>h+O},styles:function(){var e=j-g/2-v+M/2,t=k+C+O-w;return{picker:{position:"absolute",top:l()(e,v+O,v+P-g-O),left:t},overlay:{},arrow:{top:j+M/2,left:k+C-2,transform:"translate(-50%, -50%) rotateZ(0deg) translateX(50%)"}}}},bottom:{filter:function(){return A&&v+P-(j+M)>g+O},styles:function(){var e=k+C/2-h/2-w;return{picker:{position:"absolute",top:j+M+O-v,left:l()(e,w+O,w+S-h-O)},overlay:{},arrow:{top:j+M-2,left:k+C/2,transform:"translate(-50%, -50%) rotateZ(90deg) translateX(50%)"}}}},left:{filter:function(){return I&&k-w>h+O},styles:function(){var e=j-g/2-v+M/2,t=k-h-O-w;return{picker:{position:"absolute",top:l()(e,v+O,v+P-g-O),left:t},overlay:{},arrow:{top:j+M/2,left:k+2,transform:"translate(-50%, -50%) rotateZ(180deg) translateX(50%)"}}}}};if(null!=D&&null!==(y=D[i])&&void 0!==y&&null!==(d=y.filter)&&void 0!==d&&d.call(y))return null==D||null===(m=D[i])||void 0===m||null===(b=m.styles)||void 0===b?void 0:b.call(m);if("top"!==i&&D.top.filter())return D.top.styles();if("right"!==i&&D.right.filter())return D.right.styles();if("bottom"!==i&&D.bottom.filter())return D.bottom.styles();if("left"!==i&&D.left.filter())return D.left.styles()}return c}),[i,p]);(0,n.useEffect)((function(){k(C());var e=function(){return k(C())};return window.addEventListener("resize",e),w&&p&&w.addEventListener("scroll",e),function(){window.removeEventListener("resize",e),w&&w.removeEventListener("scroll",e)}}),[C]);var M=(0,n.useRef)();return M.current={open:p},(0,n.useEffect)((function(){function e(e){var t=T.current,r=_.current,n=e.target&&(t&&t.contains(e.target)||r&&r.contains(e.target));if(M.current.open&&!n){var o,a,i=e.clientX,l=e.clientY,c=(null==T||null===(o=T.current)||void 0===o||null===(a=o.getBoundingClientRect)||void 0===a?void 0:a.call(o))||{},s=c.left,f=c.top,u=c.width,p=c.height;void 0!==i&&void 0!==l&&!(i>=s&&i<=s+u&&l>=f&&l<=f+p)&&d(!1)}}return window.addEventListener("click",e,!0),window.addEventListener("wheel",e,!0),window.addEventListener("scroll",e,!0),function(){window.removeEventListener("click",e,!0),window.removeEventListener("wheel",e,!0),window.removeEventListener("scroll",e,!0)}}),[]),o().createElement(o().Fragment,null,o().createElement("div",{className:"ms-popover",ref:_},(0,n.cloneElement)(u,{onClick:function(e){v||(e.stopPropagation(),d(!p),g())}})),S&&p?(0,a.createPortal)(o().createElement("div",{className:"ms-popover-overlay",ref:x,style:m({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",top:0,left:0,pointerEvents:"none"},null==j?void 0:j.overlay)},o().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0}}),o().createElement("div",{ref:T,style:m({pointerEvents:"auto"},null==j?void 0:j.picker)},s),o().createElement("div",{className:"ms-popover-arrow",style:m({position:"absolute",borderTop:"".concat(12,"px solid transparent"),borderBottom:"".concat(12,"px solid transparent"),borderRight:"".concat(12,"px solid #ffffff"),filter:"drop-shadow(-4px 2px 4px rgba(0, 0, 0, 0.2))"},null==j?void 0:j.arrow)})),S):null)}const v=function(e){var t=e.open,r=e.onOpen,a=void 0===r?function(){}:r,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,p),l=b((0,n.useState)(t),2),c=l[0],s=l[1];return o().createElement(g,y({},i,{open:c,onOpen:function(e){s(e),a(e)}}))}},792350:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ar});var n=r(867076),o=r(22222),a=r(124852),i=r.n(a),l=r(361123),c=r(867783),s=r(480681),f=r(38560),u=r(805346),p=r(615402);const y=function(e){var t=e.openFileDialog;return i().createElement("div",null,i().createElement(p.Z,{msgId:"mapImport.dropZone.heading"}),t?i().createElement(f.Z,{bsStyle:"primary",onClick:t},i().createElement(u.Z,{msgId:"mapImport.dropZone.selectFiles"})):null,i().createElement("br",null),i().createElement("br",null),i().createElement(p.Z,{msgId:"mapImport.dropZone.infoSupported"}),i().createElement("hr",null),i().createElement(p.Z,{msgId:"mapImport.dropZone.note"}))};var d=["error"];var m={FILE_NOT_SUPPORTED:i().createElement(u.Z,{msgId:"mapImport.errors.fileNotSupported"}),PROJECTION_NOT_SUPPORTED:i().createElement(u.Z,{msgId:"mapImport.errors.projectionNotSupported"})};const b=(0,n.compose)((0,n.branch)((function(e){return e.loading}),(0,n.renderComponent)(c.Z)),(0,n.branch)((function(e){return e.error}),(0,n.renderComponent)((function(e){var t=e.error,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,d);return i().createElement("div",{style:{margin:"auto",maxWidth:550}},i().createElement("div",null,i().createElement(s.gG,{glyph:"exclamation-mark",style:{fontSize:80}})),i().createElement("h5",null,function(e){return e?m[e.message]||m[e]||i().createElement("span",null,i().createElement(u.Z,{msgId:"mapImport.errors.unknownError"}),":",i().createElement(s.bZ,{bsStyle:"warning"},e.message)):i().createElement(u.Z,{msgId:"mapImport.errors.unknownError"})}(t)),i().createElement(y,r))}))))((function(e){return i().createElement("div",null,i().createElement("div",null,i().createElement(s.gG,{glyph:"upload",style:{fontSize:80}})),i().createElement(y,e))}));var h=r(966085),g=r.n(h),v=r(500711),w=r.n(v),O=r(227361),S=r.n(O),E=r(359704),P=r.n(E),j=r(49977),k=r.n(j),_=r(900012),x=r(737275),T=r(988753),C=r(624262);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){var n,o,a,i;n=e,o=t,a=r[t],i=function(e,t){if("object"!=M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==M(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=function(e){return new Promise((function(t,r){var n=(0,T.jU)(e.name),o=e.type||T.Yf[n];"application/x-zip-compressed"===o||"application/zip"===o||"application/vnd.google-earth.kml+xml"===o||"application/vnd.google-earth.kmz"===o||"application/gpx+xml"===o||"application/json"===o||"application/vnd.wmc"===o?t(e):function(e){return(0,T.xp)(e).then((function(e){return(new(g())).loadAsync(e)}))}(e).then((function(){return t(e)})).catch((function(){return r(new Error("FILE_NOT_SUPPORTED"))}))}))};const L=(0,n.compose)((0,n.mapPropsStream)((function(e){var t=(0,n.createEventHandler)(),r=t.handler,o=t.stream,a=(0,n.createEventHandler)(),i=a.handler,l=a.stream;return e.combineLatest(o.switchMap((function(e){return k().Observable.from(e).flatMap(R).flatMap(function(e){return function(t){var r=(0,T.jU)(t.name),n=t.type||T.Yf[r],o=x.ZP.getConfigProp("projectionDefs")||[],a=(o.length&&o.map((function(e){return e.code}))||[]).concat(["EPSG:4326","EPSG:3857","EPSG:900913"]);return"application/vnd.google-earth.kml+xml"===n?(0,T.BP)(t).then((function(e){return(0,T.bf)(e)})):"application/gpx+xml"===n?(0,T.BP)(t).then((function(e){return(0,T.cX)(e,t.name)})):"application/vnd.google-earth.kmz"===n?(0,T.N)(t).then((function(e){return(0,T.bf)(e)})):"application/x-zip-compressed"===n||"application/zip"===n?(0,T.xp)(t).then((function(r){return(0,T.Lz)(r).then((function(n){n.length>0&&e({type:"warning",filename:t.name,message:"shapefile.error.missingPrj"});var o=(0,T.mr)(r).map((function(e){return D(D({},e),{},{filename:t.name})}));if(P()(o,(function(e){return!!S()(e,"map.projection")}))){var i=o.filter((function(e){return!!S()(e,"map.projection")}));if(w()(i,(function(e){return a.includes(e.map.projection)})))return o;throw new Error("PROJECTION_NOT_SUPPORTED")}return o}))})):"application/json"===n?(0,T.zr)(t).then((function(e){var r=S()(e,"map.projection");if(r){if(a.includes(r))return[D(D({},e),{},{fileName:t.name})];throw new Error("PROJECTION_NOT_SUPPORTED")}return[D(D({},e),{},{fileName:t.name})]})):"application/vnd.wmc"===n?(0,T.IN)(t).then((function(e){return[D(D({},e),{},{fileName:t.name})]})):null}}(i)).reduce((function(e,t){return{layers:(e.layers||[]).concat(t.filter((function(e){return function(e){return e&&e.features&&0!==e.features.length}(e)})).map((function(e){return(0,_.Ag)(e)?{name:"Annotations",features:(0,_.Z7)(e),filename:e.filename}:D(D({},(0,C.Rt)(e)),{},{filename:e.filename})}))),maps:(e.maps||[]).concat(t.filter((function(e){return function(e){return e&&e.version&&e.map}(e)})))}}),{}).map((function(e){return{loading:!1,files:e}})).catch((function(e){return k().Observable.of({error:e,loading:!1})})).startWith({loading:!0})})).startWith({}),(function(e,t){return D(D(D({},e),t),{},{onDrop:r})})).combineLatest(l.scan((function(){var e,t=arguments.length>1?arguments[1]:void 0;return[].concat(function(e){if(Array.isArray(e))return A(e)}(e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}),[]).startWith(void 0),(function(e,t){return D(D({},e),{},{warnings:t})}))})));var N=r(916651);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){var n,o,a,i;n=e,o=t,a=r[t],i=function(e,t){if("object"!=z(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==z(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const B=(0,n.compose)((0,n.withHandlers)({useFiles:function(e){var t=e.currentMap,r=e.loadMap,n=void 0===r?function(){}:r,o=e.loadMapInfo,a=void 0===o?function(){}:o,i=e.onClose,l=void 0===i?function(){}:i,c=e.setLayers,s=void 0===c?function(){}:c,f=e.annotationsLayer,u=e.loadAnnotations,p=void 0===u?function(){}:u,y=e.warning,d=void 0===y?function(){}:y;return function(e,r){var o=e.layers,i=void 0===o?[]:o,c=e.maps,u=(void 0===c?[]:c)[0];if(u){var y=t.zoom,m=t.center,b=t.mapId,h=u.fileName;n(Z(Z({},u),{},{map:Z(Z({},u.map),{},{zoom:u.map.zoom||y,center:u.map.center||m})}),b||null,!u.map.zoom&&(u.map.bbox||{bounds:u.map.maxExtent})),b&&h&&a(b),l()}if(i.length>0){var g=i&&"Annotations"===i[0].name;if(!f&&g)p(i[0].features,!1),l();else{var v=[];i.forEach((function(e){var t;"vector"!==e.type||(0,N.checkIfLayerFitsExtentForProjection)(e)?v.push(e):d({title:"notification.warning",message:"mapImport.errors.fileBeyondBoundaries",autoDismiss:6,position:"tc",values:{filename:null!==(t=e.name)&&void 0!==t?t:" "}})})),s(v,r)}}}}}),(0,n.mapPropsStream)((function(e){return e.merge(e.distinctUntilKeyChanged("files").filter((function(e){return e.files})).do((function(e){var t=e.files,r=e.useFiles,n=void 0===r?function(){}:r,o=e.warnings;return n(t,void 0===o?[]:o)})).ignoreElements())})));var X=r(565178),F=["onClose","onDrop","onRef"];const G=(0,n.compose)(L,B,X.Z)((function(e){var t=e.onClose,r=void 0===t?function(){}:t,n=e.onDrop,o=void 0===n?function(){}:n,a=e.onRef,c=void 0===a?function(){}:a,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,F);return i().createElement(l.Z,{onClose:r,onDrop:o,onRef:c},i().createElement(b,s))}));var U=r(171703),J=r(45697),W=r.n(J),H=r(481756),K=r(12440),Y=r(442416),$=r(747037),V=r.n($),Q=r(200020),ee=r(86638),te=r(855033),re=r.n(te),ne=r(472986),oe=r.n(ne),ae=r(882702);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ye(n.key),n)}}function ce(e,t,r){return t=fe(t),function(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,se()?Reflect.construct(t,r||[],fe(e).constructor):t.apply(e,r))}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ue(e,t)}function pe(e,t,r){return(t=ye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e){var t=function(e,t){if("object"!=ie(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ie(t)?t:t+""}var de=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return pe(e=ce(this,t,[].concat(n)),"tryUnzip",(function(e){return(0,T.xp)(e).then((function(e){return(new(g())).loadAsync(e)}))})),pe(e,"checkFileType",(function(t){return new ae.Promise((function(r,n){var o=(0,T.jU)(t.name),a=t.type||T.Yf[o];"application/x-zip-compressed"===a||"application/zip"===a||"application/vnd.google-earth.kml+xml"===a||"application/vnd.google-earth.kmz"===a||"application/gpx+xml"===a?r():e.tryUnzip(t).then(r).catch(n)}))})),pe(e,"checkfile",(function(t){ae.Promise.all(t.map((function(t){return e.checkFileType(t)}))).then((function(){e.props.error&&e.props.onShapeError(null),e.props.onShapeChoosen(t)})).catch((function(){var t=(0,ee.S$)(e.context.messages,e.props.errorMessage);e.props.onShapeError(t)}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.props.loading?i().createElement("div",{className:"btn btn-info",style:{float:"center"}}," ",i().createElement(oe(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"})):i().createElement(re(),{rejectClassName:"alert-danger",className:"alert alert-info",onDrop:this.checkfile},i().createElement("div",{className:"dropzone-content",style:{textAlign:"center"}},this.props.text))}}])&&le(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);pe(de,"propTypes",{text:W().oneOfType([W().string,W().element]),loading:W().bool,onShapeChoosen:W().func,onShapeError:W().func,error:W().oneOfType([W().string,W().element]),errorMessage:W().string}),pe(de,"contextTypes",{messages:W().object}),pe(de,"defaultProps",{text:"Drop or click to import a local Shape",onShapeChoosen:function(){},onShapeError:function(){},errorMessage:"shapefile.error.select"});const me=de;function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},he.apply(this,arguments)}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pe(n.key),n)}}function ve(e,t,r){return t=Oe(t),function(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,we()?Reflect.construct(t,r||[],Oe(e).constructor):t.apply(e,r))}function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}function Ee(e,t,r){return(t=Pe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e){var t=function(e,t){if("object"!=be(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==be(t)?t:t+""}var je=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Ee(e=ve(this,t,[].concat(n)),"state",{useDefaultStyle:!1,zoomOnShapefiles:!0}),Ee(e,"getGeometryType",(function(e){if(e&&"GeometryCollection"===e.type)return e.geometries.reduce((function(e,t){return t&&t.type===e?e:t.type}),null);if(e)switch(e.type){case"Polygon":case"MultiPolygon":return"Polygon";case"MultiLineString":case"LineString":return"LineString";case"Point":case"MultiPoint":return"Point";default:return null}return null})),Ee(e,"getGeomType",(function(t){return t&&t.features&&t.features[0].geometry?t.features.reduce((function(t,r){var n=e.getGeometryType(r.geometry);return t?n===t?t:"GeometryCollection":n}),null):null})),Ee(e,"renderError",(function(){return i().createElement(s.X2,null,i().createElement("div",{style:{textAlign:"center"},className:"alert alert-danger"},i().createElement(u.Z,{msgId:e.props.error})))})),Ee(e,"renderSuccess",(function(){return i().createElement(s.X2,null,i().createElement("div",{style:{textAlign:"center",overflowWrap:"break-word"},className:"alert alert-success"},e.props.success))})),Ee(e,"renderStyle",(function(){return e.props.stylers[e.getGeomType(e.props.selected)]})),Ee(e,"renderDefaultStyle",(function(){return e.props.selected?i().createElement(s.X2,null,i().createElement(s.JX,{xs:2},i().createElement("input",{"aria-label":"...",type:"checkbox",defaultChecked:e.state.useDefaultStyle,onChange:function(t){e.setState({useDefaultStyle:t.target.checked})}})),i().createElement(s.JX,{style:{paddingLeft:0,paddingTop:1},xs:10},i().createElement("label",null,i().createElement(u.Z,{msgId:"shapefile.defaultStyle"}))),i().createElement(s.JX,{xs:2},i().createElement("input",{"aria-label":"...",type:"checkbox",defaultChecked:e.state.zoomOnShapefiles,onChange:function(t){e.setState({zoomOnShapefiles:t.target.checked})}})),i().createElement(s.JX,{style:{paddingLeft:0,paddingTop:1},xs:10},i().createElement("label",null,i().createElement(u.Z,{msgId:"shapefile.zoom"})))):null})),Ee(e,"addShape",(function(t){e.props.shapeLoading(!0);var r=e.props.readFiles(t,e.props.onShapeError);ae.Promise.all(r).then((function(t){var r=t.filter((function(e){return e[0]&&e[0].features&&0!==e[0].features.length||"Feature"===e[0].type}));r=r.reduce((function(t,r){return r?t.concat(r.map((function(t){return(0,C.Rt)(t,e.props.createId(t,r))}))):t}),[]),e.props.onShapeChoosen(r),e.props.shapeLoading(!1)})).catch((function(t){e.props.shapeLoading(!1);var r=t&&t.name||t||"";V()(r)&&"SyntaxError"===r?e.props.onShapeError("shapefile.error.shapeFileParsingError"):e.props.onShapeError("shapefile.error.genericLoadError")}))})),Ee(e,"addToMap",(function(){e.props.shapeLoading(!0);var t=e.props.selected;ae.Promise.resolve(e.props.addShapeLayer(t)).then((function(){e.props.shapeLoading(!1);var t=[];e.props.layers[0].bbox&&e.props.bbox&&(t=[Math.min(e.props.bbox[0],e.props.layers[0].bbox.bounds.minx),Math.min(e.props.bbox[1],e.props.layers[0].bbox.bounds.miny),Math.max(e.props.bbox[2],e.props.layers[0].bbox.bounds.maxx),Math.max(e.props.bbox[3],e.props.layers[0].bbox.bounds.maxy)]),e.state.zoomOnShapefiles&&(e.props.updateShapeBBox(t&&t.length?t:e.props.bbox),e.props.onZoomSelected(t&&t.length?t:e.props.bbox,"EPSG:4326")),e.props.onShapeSuccess(e.props.layers[0].name+(0,ee.S$)(e.context.messages,"shapefile.success")),e.props.onLayerAdded(e.props.selected)})).catch((function(){e.props.shapeLoading(!1),e.props.onShapeError("shapefile.error.genericLoadError")}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return i().createElement(s.rj,{role:"body",style:{width:"300px"},fluid:!0},this.props.error?this.renderError():null,this.props.success?this.renderSuccess():null,i().createElement(s.X2,{style:{textAlign:"center"}},this.props.selected?i().createElement(Q.DropdownList,{data:this.props.layers,value:this.props.selected,onSelect:function(t){return e.props.onSelectLayer(t)},valueField:"id",textField:"name"}):i().createElement(me,he({},this.props.uploadOptions,{errorMessage:"shapefile.error.select",text:this.props.uploadMessage,onShapeChoosen:this.addShape,onShapeError:this.props.onShapeError}))),i().createElement(s.X2,{style:{marginBottom:10}},this.state.useDefaultStyle?null:this.renderStyle()),this.renderDefaultStyle(),this.props.selected?i().createElement(s.X2,null,i().createElement(s.JX,{xsOffset:6,xs:3}," ",i().createElement(f.Z,{bsSize:this.props.buttonSize,disabled:!this.props.selected,onClick:function(){e.props.onShapeChoosen(null)}},this.props.cancelMessage)),i().createElement(s.JX,{xs:3}," ",i().createElement(f.Z,{bsStyle:"primary",bsSize:this.props.buttonSize,disabled:!this.props.selected,onClick:this.addToMap},this.props.addMessage))):null)}}])&&ge(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);Ee(je,"propTypes",{bbox:W().array,layers:W().array,selected:W().object,style:W().object,shapeStyle:W().object,readFiles:W().func,onShapeError:W().func,onShapeSuccess:W().func,onShapeChoosen:W().func,addShapeLayer:W().func,shapeLoading:W().func,onSelectLayer:W().func,onLayerAdded:W().func,onZoomSelected:W().func,updateShapeBBox:W().func,error:W().string,success:W().string,buttonSize:W().string,uploadMessage:W().object,cancelMessage:W().object,addMessage:W().object,stylers:W().object,uploadOptions:W().object,createId:W().func}),Ee(je,"contextTypes",{messages:W().object}),Ee(je,"defaultProps",{shapeLoading:function(){},readFiles:function(e,t){return e.map((function(e){var r=(0,T.jU)(e.name),n=e.type||T.Yf[r];return"application/vnd.google-earth.kml+xml"===n?(0,T.BP)(e).then((function(e){return(0,T.bf)(e)})):"application/gpx+xml"===n?(0,T.BP)(e).then((function(e){return(0,T.cX)(e)})):"application/vnd.google-earth.kmz"===n?(0,T.N)(e).then((function(e){return(0,T.bf)(e)})):"application/x-zip-compressed"===n||"application/zip"===n?(0,T.xp)(e).then((function(e){return(0,T.Lz)(e).then((function(r){return r.length>0&&t("shapefile.error.missingPrj"),(0,T.mr)(e)}))})):null}))},stylers:{},buttonSize:"small",uploadOptions:{},createId:function(){},bbox:null});const ke=je;var _e=r(857037),xe=r(903918),Te=r.n(xe),Ce=r(166287);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ze(n.key),n)}}function Ie(e,t,r){return t=Re(t),function(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,De()?Reflect.construct(t,r||[],Re(e).constructor):t.apply(e,r))}function De(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(De=function(){return!!e})()}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}function Ne(e,t,r){return(t=ze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Me(t)?t:t+""}var qe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Ne(e=Ie(this,t,[].concat(o)),"paint",(function(t){t.save(),t.beginPath();var r=e.props.shapeStyle,n=r.color,o=r.fill;switch(t.fillStyle=o?V()(o)?o:"rgba(".concat(o.r,", ").concat(o.g,", ").concat(o.b,", ").concat(o.a,")"):null,t.strokeStyle=n?V()(n)?n:"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(n.a,")"):null,t.lineWidth=e.props.shapeStyle.width||e.props.shapeStyle.weight,e.props.shapeStyle.dashArray&&e.props.shapeStyle.dashArray.length&&t.setLineDash(e.props.shapeStyle.dashArray),e.props.geomType){case"Polygon":e.paintPolygon(t);break;case"Polyline":e.paintPolyline(t);break;case"Point":e.paintPoint(t,e.props.shapeStyle.markName);break;case"Circle":e.paintPoint(t,"circle");break;case"Marker":e.paintMarker(t);break;case"Text":e.paintText(t);break;case"Symbol":e.paintSymbol(t);break;default:return}t.restore()})),Ne(e,"drawSymbol",(function(t,n){n.clearRect(0,0,600,600);var o=new Image,a=new Image;a.src=r(218845),o.src=t||e.props.shapeStyle.symbolUrl,o.onload=function(){try{n.drawImage(o,e.props.width/2-o.width/2,e.props.height/2-o.height/2)}catch(e){return}},o.onerror=function(){a.onload=function(){try{n.drawImage(a,e.props.width/2-a.width/2,e.props.height/2-a.height/2)}catch(e){return}}}})),Ne(e,"paintSymbol",(function(t){(0,Ce.isSymbolStyle)(e.props.originalStyle)?e.props.originalStyle.symbolUrlCustomized&&e.props.originalStyle.symbolUrl?e.drawSymbol(e.props.originalStyle.symbolUrlCustomized,t):(0,Ce.createSvgUrl)(e.props.originalStyle,e.props.originalStyle.symbolUrlCustomized||e.props.originalStyle.symbolUrl).then((function(r){return e.drawSymbol(r,t)})):e.drawSymbol(null,t)})),Ne(e,"paintText",(function(t){var r=e.props,n=r.width,o=r.height,a=e.props.shapeStyle,i=a.textAlign,l=void 0===i?"center":i,c=a.label,s=a.font,f=void 0===s?"14px Arial":s;return t.textAlign=l,t.font=f,"start"===l?(t.strokeText(c||"New",n/2.5,o/2),void t.fillText(c||"New",n/2.5,o/2)):"end"===l?(t.strokeText(c||"New",n/1.5,o/2),void t.fillText(c||"New",n/1.5,o/2)):(t.strokeText(c||"New",n/2,o/2),void t.fillText(c||"New",n/2,o/2))})),Ne(e,"paintPolygon",(function(e){e.transform(1,0,0,1,-27.5,0),e.moveTo(55,8),e.lineTo(100,8),e.lineTo(117.5,40),e.lineTo(100,72),e.lineTo(55,72),e.lineTo(37.5,40),e.closePath(),e.fill(),e.stroke()})),Ne(e,"paintPolyline",(function(e){e.transform(1,0,0,1,0,0),e.moveTo(10,20),e.bezierCurveTo(40,40,70,0,90,20),e.stroke()})),Ne(e,"paintPoint",(function(t,r){var n=e.props.shapeStyle.radius,o=n/2;switch(r){case"square":t.rect(50-o,48.5-o,n,n);break;case"circle":t.arc(50,48.5,o,0,2*Math.PI);break;case"triangle":var a=Math.sqrt(3)*n/2/3;t.moveTo(50,48.5-2*a),t.lineTo(50+o,48.5+a),t.lineTo(50-o,48.5+a),t.closePath();break;case"star":e.paintStar(t,50,48.5,5,o,o/2);break;case"cross":e.paintCross(t,50,48.5,n,.23);break;case"x":t.translate(50,48.5),t.rotate(45*Math.PI/180),t.translate(-50,-48.5),e.paintCross(t,50,48.5,n,.23);break;default:t.arc(50,48.5,n,0,2*Math.PI)}t.fill(),t.stroke()})),Ne(e,"paintMarker",(function(e){var t=new Image;t.src=Te();try{e.drawImage(t,42.5,24)}catch(e){return}})),Ne(e,"paintStar",(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=Math.PI/2*3,l=t,c=r,s=Math.PI/n;e.moveTo(t,r-o);for(var f=0;f<n;f++)l=t+Math.cos(i)*o,c=r+Math.sin(i)*o,e.lineTo(l,c),i+=s,l=t+Math.cos(i)*a,c=r+Math.sin(i)*a,e.lineTo(l,c),i+=s;e.lineTo(t,r-o),e.closePath()})),Ne(e,"paintCross",(function(e,t,r,n,o){var a=n*o/2,i=n/2;e.moveTo(t-a,r-i),e.lineTo(t+a,r-i),e.lineTo(t+a,r-a),e.lineTo(t+i,r-a),e.lineTo(t+i,r+a),e.lineTo(t+a,r+a),e.lineTo(t+a,r+i),e.lineTo(t-a,r+i),e.lineTo(t-a,r+a),e.lineTo(t-i,r+a),e.lineTo(t-i,r-a),e.lineTo(t-a,r-a),e.closePath()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.refs.styleCanvas.getContext("2d");e.clearRect(0,0,this.props.width||500,this.props.height||500),this.paint(e)}},{key:"componentDidUpdate",value:function(){var e=this.refs.styleCanvas.getContext("2d");e.clearRect(0,0,this.props.width||500,this.props.height||500),this.paint(e)}},{key:"render",value:function(){return i().createElement("canvas",{ref:"styleCanvas",style:this.props.style,width:this.props.width,height:this.props.height})}}])&&Ae(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(i().Component);Ne(qe,"propTypes",{originalStyle:W().object,style:W().object,shapeStyle:W().object,geomType:W().oneOf(["Polygon","Polyline","Point","Marker","Text","Symbol","Circle",void 0]),width:W().number,height:W().number}),Ne(qe,"defaultProps",{originalStyle:{},style:{},shapeStyle:{},geomType:"Polygon",width:100,height:80});const Ze=qe;function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,He(n.key),n)}}function Fe(e,t,r){return t=Ue(t),function(e,t){if(t&&("object"===Be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ge()?Reflect.construct(t,r||[],Ue(e).constructor):t.apply(e,r))}function Ge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ge=function(){return!!e})()}function Ue(e){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ue(e)}function Je(e,t){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Je(e,t)}function We(e,t,r){return(t=He(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e){var t=function(e,t){if("object"!=Be(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Be(t)?t:t+""}var Ke=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return i().createElement(Q.DropdownList,{data:[{value:"circle",name:(0,ee.S$)(this.context.messages,"markNameSelector.circle")||"Circle"},{value:"square",name:(0,ee.S$)(this.context.messages,"markNameSelector.square")||"Square"},{value:"triangle",name:(0,ee.S$)(this.context.messages,"markNameSelector.triangle")||"Triangle"},{value:"star",name:(0,ee.S$)(this.context.messages,"markNameSelector.star")||"Star"},{value:"cross",name:(0,ee.S$)(this.context.messages,"markNameSelector.cross")||"Cross"},{value:"x",name:(0,ee.S$)(this.context.messages,"markNameSelector.x")||"X"}],valueField:"value",textField:"name",value:this.props.markName,onChange:function(t){return e.props.onChange("markName",t.value)}})}}])&&Xe(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);We(Ke,"propTypes",{markName:W().string,onChange:W().func}),We(Ke,"contextTypes",{messages:W().object}),We(Ke,"defaultProps",{markName:"circle",onChange:function(){}});const Ye=Ke;var $e=r(509886),Ve=r.n($e);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,it(n.key),n)}}function tt(e,t,r){return t=nt(t),function(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rt()?Reflect.construct(t,r||[],nt(e).constructor):t.apply(e,r))}function rt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rt=function(){return!!e})()}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nt(e)}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function at(e,t,r){return(t=it(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qe(t)?t:t+""}Ve()();var lt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tt(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return i().createElement(s.rj,{fluid:!0},i().createElement(s.X2,null,i().createElement(s.JX,{xs:4,style:{padding:0}},i().createElement(Ze,{style:{padding:0,margin:"auto",display:"block"},height:97,shapeStyle:this.props.shapeStyle,geomType:this.props.shapeStyle.marker?"Marker":"Point"})),i().createElement(s.JX,{xs:7},this.props.showMarker?i().createElement(s.X2,null,i().createElement(s.JX,{xs:1},i().createElement("input",{"aria-label":"...",type:"checkbox",defaultChecked:this.props.shapeStyle.marker,onChange:function(t){e.props.setStyleParameter("marker",t.target.checked)}})),i().createElement(s.JX,{style:{paddingLeft:0,paddingTop:1},xs:4},i().createElement("label",null,"Marker"))):null,this.props.showMarkSelector?i().createElement(s.X2,{style:{marginBottom:4}},i().createElement(s.JX,{style:{paddingTop:7},xs:4},i().createElement("label",null,"Mark")),i().createElement(s.JX,{xs:8,style:{paddingRight:0,paddingLeft:30}},i().createElement(Ye,{onChange:this.props.setStyleParameter,markName:this.props.shapeStyle.markName}))):null,i().createElement(s.X2,null,i().createElement(s.JX,{xs:4},i().createElement(_e.Z,{disabled:this.props.shapeStyle.marker,value:this.props.shapeStyle.color,line:!1,text:"Stroke",onChangeColor:function(t){t&&e.props.setStyleParameter("color",t)}})),i().createElement(s.JX,{xs:8,style:{paddingRight:0,paddingLeft:30}},i().createElement(Q.NumberPicker,{disabled:this.props.shapeStyle.marker,min:1,max:15,step:1,value:this.props.shapeStyle.width,onChange:function(t){e.props.shapeStyle.width!==t&&e.props.setStyleParameter("width",t)}}))),i().createElement(s.X2,{style:{marginTop:4}},i().createElement(s.JX,{xs:4},i().createElement(_e.Z,{disabled:this.props.shapeStyle.marker,value:this.props.shapeStyle.fill,line:!1,text:"Fill",onChangeColor:function(t){t&&e.props.setStyleParameter("fill",t)}})),i().createElement(s.JX,{xs:8,style:{paddingRight:0,paddingLeft:30}},i().createElement(Q.NumberPicker,{disabled:this.props.shapeStyle.marker,min:1,max:50,step:1,value:this.props.shapeStyle.radius,onChange:function(t){e.props.shapeStyle.radius!==t&&e.props.setStyleParameter("radius",t)}}))))))}}])&&et(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);at(lt,"propTypes",{shapeStyle:W().object,setStyleParameter:W().func,showMarker:W().bool,showMarkSelector:W().bool}),at(lt,"defaultProps",{shapeStyle:{},showMarker:!0,showMarkSelector:!1,setStyleParameter:function(){}});const ct=lt;function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bt(n.key),n)}}function ut(e,t,r){return t=yt(t),function(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pt()?Reflect.construct(t,r||[],yt(e).constructor):t.apply(e,r))}function pt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pt=function(){return!!e})()}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}function dt(e,t){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dt(e,t)}function mt(e,t,r){return(t=bt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(e){var t=function(e,t){if("object"!=st(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==st(t)?t:t+""}Ve()();var ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ut(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dt(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return i().createElement(s.rj,{fluid:!0},i().createElement(s.X2,null,i().createElement(s.JX,{xs:4,style:{padding:0}},i().createElement(Ze,{style:{padding:0,margin:"auto",display:"block"},shapeStyle:this.props.shapeStyle,geomType:"Polygon"})),i().createElement(s.JX,{xs:7},i().createElement(s.X2,{style:{marginTop:7}},i().createElement(s.JX,{xs:4},i().createElement(_e.Z,{value:this.props.shapeStyle.color,line:!1,text:"Stroke",onChangeColor:function(t){t&&e.props.setStyleParameter("color",t)}})),i().createElement(s.JX,{xs:8,style:{paddingRight:0,paddingLeft:30}},i().createElement(Q.NumberPicker,{min:1,max:15,step:1,value:this.props.shapeStyle.width,onChange:function(t){t!==e.props.shapeStyle.width&&e.props.setStyleParameter("width",t)}}))),i().createElement(s.X2,{style:{marginTop:4}},i().createElement(s.JX,{xs:6},i().createElement(_e.Z,{value:this.props.shapeStyle.fill,line:!1,text:"Fill",onChangeColor:function(t){t&&e.props.setStyleParameter("fill",t)}}))))))}}])&&ft(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);mt(ht,"propTypes",{shapeStyle:W().object,setStyleParameter:W().func}),mt(ht,"defaultProps",{shapeStyle:{},setStyleParameter:function(){}});const gt=ht;function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kt(n.key),n)}}function Ot(e,t,r){return t=Et(t),function(e,t){if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,St()?Reflect.construct(t,r||[],Et(e).constructor):t.apply(e,r))}function St(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(St=function(){return!!e})()}function Et(e){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Et(e)}function Pt(e,t){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pt(e,t)}function jt(e,t,r){return(t=kt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kt(e){var t=function(e,t){if("object"!=vt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vt(t)?t:t+""}Ve()();var _t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ot(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pt(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return i().createElement(s.rj,{fluid:!0},i().createElement(s.X2,null,i().createElement(s.JX,{xs:4,style:{padding:0}},i().createElement(Ze,{style:{padding:0,margin:"auto",display:"block"},shapeStyle:this.props.shapeStyle,geomType:"Polyline",height:40})),i().createElement(s.JX,{xs:7},i().createElement(s.X2,{style:{marginTop:7}},i().createElement(s.JX,{xs:4},i().createElement(_e.Z,{value:this.props.shapeStyle.color,line:!1,text:"Stroke",onChangeColor:function(t){t&&e.props.setStyleParameter("color",t)}})),i().createElement(s.JX,{xs:8,style:{paddingRight:0,paddingLeft:30}},i().createElement(Q.NumberPicker,{onChange:function(t){e.props.setStyleParameter("width",t)},min:1,max:15,step:1,value:this.props.shapeStyle.width}))))))}}])&&wt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);jt(_t,"propTypes",{shapeStyle:W().object,setStyleParameter:W().func}),jt(_t,"defaultProps",{shapeStyle:{},setStyleParameter:function(){}});const xt=_t;(0,U.connect)((function(e){return{uploadOptions:{error:e.mapimport&&e.mapimport.error||null,loading:e.mapimport&&e.mapimport.loading||!1}}}),{onShapeError:K.bM})(ke);var Tt=(0,U.connect)((function(e){return{shapeStyle:e.style||{}}}),{setStyleParameter:Y.q})(gt),Ct=(0,U.connect)((function(e){return{shapeStyle:e.style||{}}}),{setStyleParameter:Y.q})(ct),Mt=(0,U.connect)((function(e){return{shapeStyle:e.style||{}}}),{setStyleParameter:Y.q})(xt),At=r(904679),It=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!["geostyler"].includes(null==r||null===(e=r.style)||void 0===e?void 0:e.format)||null==r||null===(t=r.style)||void 0===t||!t.body)||!(!r||!r.features.length)&&r.features.reduce((function(e,t){var r=t.style&&Array.isArray(t.style)&&t.style.length||Object.keys(t.style||{}).length;return e||!!r}),!1)};function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xt(n.key),n)}}function Nt(e,t,r){return t=qt(t),function(e,t){if(t&&("object"===Dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zt()?Reflect.construct(t,r||[],qt(e).constructor):t.apply(e,r))}function zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zt=function(){return!!e})()}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}function Zt(e,t){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zt(e,t)}function Bt(e,t,r){return(t=Xt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e){var t=function(e,t){if("object"!=Dt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dt(t)?t:t+""}var Ft=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Bt(e=Nt(this,t,[].concat(n)),"state",{useDefaultStyle:!1,zoomOnShapefiles:!0,overrideAnnotation:!1,initialLayers:[]}),Bt(e,"getGeometryType",(function(e){if(e&&"GeometryCollection"===e.type)return e.geometries.reduce((function(e,t){return t&&t.type===e?e:t.type}),null);if(e)switch(e.type){case"Polygon":case"MultiPolygon":return"Polygon";case"MultiLineString":case"LineString":return"LineString";case"Point":case"MultiPoint":return"Point";default:return null}return null})),Bt(e,"getGeomType",(function(t){return t&&t.features&&t.features[0].geometry?t.features.reduce((function(t,r){var n=e.getGeometryType(r.geometry);return t?n===t?t:"GeometryCollection":n}),null):null})),Bt(e,"renderError",(function(){return e.props.errors&&e.props.errors.filter((function(t){return(t.filename||t.name)&&e.props.layers&&e.props.layers[0]&&(e.props.layers[0].filename===t.filename||e.props.layers[0].name===t.name)})).map((function(e){return i().createElement(s.X2,{key:e&&e.name+e.message},i().createElement(s.bZ,{bsStyle:e.type,style:{textAlign:"center"}},i().createElement(u.Z,{msgId:e.message})))}))})),Bt(e,"renderSuccess",(function(){return i().createElement(s.X2,null,i().createElement("div",{style:{textAlign:"center",overflowWrap:"break-word"},className:"alert alert-success"},e.props.success))})),Bt(e,"renderDisableStyleCustomization",(function(e){return e?i().createElement("div",{className:"alert alert-info mb-2 style-customisation-disabled-container"},i().createElement(u.Z,{msgId:"shapefile.styleCustomizationDisabled"})):null})),Bt(e,"findLayerSerialNumber",(function(t){var r=t.name;return e.state.initialLayers.findIndex((function(e){return e.name===r}))+1})),Bt(e,"addToMap",(function(){var t=It(e.props.selected),r=(0,_.Ag)(e.props.selected),n=r||e.state.useDefaultStyle||t?e.props.selected:(0,At.p)(e.props.selected,e.props.shapeStyle);ae.Promise.resolve(r?e.props.loadAnnotations(n.features,e.state.overrideAnnotation):e.props.addLayer(n)).then((function(){if(!r){var t=[];e.props.layers[0].bbox&&e.props.bbox&&(t=[Math.min(e.props.bbox[0],e.props.layers[0].bbox.bounds.minx),Math.min(e.props.bbox[1],e.props.layers[0].bbox.bounds.miny),Math.max(e.props.bbox[2],e.props.layers[0].bbox.bounds.maxx),Math.max(e.props.bbox[3],e.props.layers[0].bbox.bounds.maxy)]),e.state.zoomOnShapefiles&&(e.props.updateBBox(t&&t.length?t:e.props.bbox),e.props.onZoomSelected(t&&t.length?t:e.props.bbox,"EPSG:4326"))}e.props.onSuccess(e.props.layers.length>1?r?"Annotation":e.props.layers[0].name+(0,ee.S$)(e.context.messages,"shapefile.success"):void 0),e.props.onLayerAdded(e.props.selected)})).catch((function(t){e.props.onError({type:"error",name:r?"Annotation":e.props.layers[0].name,error:t,message:"shapefile.error.genericLoadError"})}))})),Bt(e,"annotationOptions",(function(){return i().createElement(i().Fragment,null,i().createElement(s.JX,{xs:2},i().createElement("input",{type:"radio",checked:!e.state.overrideAnnotation,onChange:function(){e.setState({overrideAnnotation:!1})}})),i().createElement(s.JX,{style:{paddingLeft:0,paddingTop:1},xs:10},i().createElement("label",null,i().createElement(u.Z,{msgId:"shapefile.merge"}))),i().createElement(s.JX,{xs:2},i().createElement("input",{type:"radio",checked:e.state.overrideAnnotation,onChange:function(){e.setState({overrideAnnotation:!0})}})),i().createElement(s.JX,{style:{paddingLeft:0,paddingTop:1},xs:10},i().createElement("label",null,i().createElement(u.Z,{msgId:"shapefile.replace"}))))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e;this.setState({initialLayers:(e=this.props.layers,function(e){if(Array.isArray(e))return Rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})}},{key:"render",value:function(){var e=this,t=It(this.props.selected);return i().createElement(s.rj,{role:"body",style:{width:"400px"},fluid:!0},this.props.errors?this.renderError():null,this.props.success?this.renderSuccess():null,i().createElement(s.X2,null,i().createElement("h4",null,i().createElement("span",{style:{fontWeight:"bold"}},i().createElement(u.Z,{msgId:"shapefile.layerOf",msgParams:{count:this.findLayerSerialNumber(this.props.selected),total:this.state.initialLayers.length}}))," ",this.props.selected.name)),i().createElement(s.X2,{key:"styler",style:{marginBottom:10}},this.state.useDefaultStyle||t?null:this.props.stylers[this.getGeomType(this.props.selected)]),this.renderDisableStyleCustomization(t),i().createElement(s.X2,{key:"options"},(0,_.Ag)(this.props.selected)?this.annotationOptions():i().createElement(i().Fragment,null,i().createElement(s.JX,{xs:2},i().createElement("input",{"aria-label":"...",type:"checkbox",disabled:t,checked:t||this.state.useDefaultStyle,defaultChecked:t||this.state.useDefaultStyle,onChange:function(t){e.setState({useDefaultStyle:t.target.checked})}})),i().createElement(s.JX,{style:{paddingLeft:0,paddingTop:1},xs:10},i().createElement("label",null,i().createElement(u.Z,{msgId:"shapefile.defaultStyle"}))),i().createElement(s.JX,{xs:2},i().createElement("input",{"aria-label":"...",type:"checkbox",defaultChecked:this.state.zoomOnShapefiles,onChange:function(t){e.setState({zoomOnShapefiles:t.target.checked})}})),i().createElement(s.JX,{style:{paddingLeft:0,paddingTop:1},xs:10},i().createElement("label",null,i().createElement(u.Z,{msgId:"shapefile.zoom"}))))),i().createElement(s.X2,null,i().createElement(s.Si,{style:{display:"flex",justifyContent:"flex-end"}},i().createElement(f.Z,{bsSize:this.props.buttonSize,disabled:!this.props.selected,onClick:function(){e.props.setLayers(null)}},this.props.cancelMessage),i().createElement(f.Z,{bsStyle:"primary",bsSize:this.props.buttonSize,disabled:!this.props.selected,onClick:function(){return e.props.onLayerSkipped(e.props.selected)}},this.props.skipMessage),i().createElement(f.Z,{bsStyle:"primary",bsSize:this.props.buttonSize,disabled:!this.props.selected,onClick:this.addToMap},1===this.props.layers.length?this.props.finishMessage:this.props.nextMessage))))}}])&&Lt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);Bt(Ft,"propTypes",{bbox:W().array,layers:W().array,selected:W().object,style:W().object,shapeStyle:W().object,onError:W().func,onSuccess:W().func,setLayers:W().func,addLayer:W().func,loadAnnotations:W().func,onSelectLayer:W().func,onLayerAdded:W().func,onLayerSkipped:W().func,onZoomSelected:W().func,updateBBox:W().func,errors:W().array,success:W().string,buttonSize:W().string,cancelMessage:W().object,addMessage:W().object,stylers:W().object,nextMessage:W().object,finishMessage:W().object,skipMessage:W().object}),Bt(Ft,"contextTypes",{messages:W().object}),Bt(Ft,"defaultProps",{buttonSize:"small",setLayers:function(){},addLayer:function(){},loadAnnotations:function(){},updateBBox:function(){},onZoomSelected:function(){},stylers:{},bbox:null});const Gt=Ft;var Ut=r(61018);function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wt.apply(this,arguments)}function Ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,er(n.key),n)}}function Kt(e,t,r){return t=$t(t),function(e,t){if(t&&("object"===Jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yt()?Reflect.construct(t,r||[],$t(e).constructor):t.apply(e,r))}function Yt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yt=function(){return!!e})()}function $t(e){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$t(e)}function Vt(e,t){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vt(e,t)}function Qt(e,t,r){return(t=er(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function er(e){var t=function(e,t){if("object"!=Jt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jt(t)?t:t+""}var tr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kt(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e={Polygon:i().createElement(Tt,null),MultiPolygon:i().createElement(Tt,null),GeometryCollection:i().createElement(Tt,null),LineString:i().createElement(Mt,null),MultiLineString:i().createElement(Mt,null),MultiPoint:i().createElement(Ct,null),Point:i().createElement(Ct,null)},t=i().createElement(Gt,Wt({},this.props,{setLayers:this.props.setLayers,stylers:e,uploadMessage:i().createElement(H.Z,{msgId:this.props.uploadMessage}),cancelMessage:i().createElement(H.Z,{msgId:"shapefile.cancel"}),nextMessage:i().createElement(H.Z,{msgId:"shapefile.next"}),finishMessage:i().createElement(H.Z,{msgId:"shapefile.finish"}),skipMessage:i().createElement(H.Z,{msgId:"shapefile.skip"})}));return this.props.layers?i().createElement(Ut.Z,{id:"import-style-dialog",onClose:this.props.onClose,modal:this.props.modal,show:!0,header:i().createElement(H.Z,{msgId:"shapefile.title"})},t):t}}])&&Ht(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i().Component);Qt(tr,"propTypes",{id:W().string,layers:W().array,selected:W().object,style:W().object,shapeStyle:W().object,onError:W().func,setLayers:W().func,addShapeLayer:W().func,onSelectLayer:W().func,onLayerAdded:W().func,error:W().string,mapType:W().string,wrap:W().bool,wrapWithPanel:W().bool,panelStyle:W().object,panelClassName:W().string,visible:W().bool,modal:W().bool,onClose:W().func,closeGlyph:W().string,uploadMessage:W().string,buttonSize:W().string}),Qt(tr,"defaultProps",{id:"mapstore-shapefile-upload",uploadMessage:"shapefile.placeholder",wrap:!0,modal:!0,wrapWithPanel:!1,panelStyle:{minWidth:"360px",zIndex:1995,position:"absolute",overflow:"visible",top:"30px",left:"calc(50% - 150px)"},panelClassName:"toolbar-panel",visible:!1,onClose:function(){},closeGlyph:"1-close",buttonSize:"small"});const rr=tr;var nr=r(881808),or=r(800827);const ar=(0,n.compose)((0,n.mapPropsStream)((function(e){return e.merge(e.filter((function(e){var t=e.layers;return t&&t.length>0})).exhaustMap((function(){return e.filter((function(e){var t=e.layers;return!t||0===t.length})).take(1).do((function(e){var t=e.onClose,r=void 0===t?function(){}:t;return r&&r()})).ignoreElements()})))})),(0,n.branch)((function(e){return!e.enabled}),n.renderNothing),(0,n.branch)((function(e){var t=e.layers;return!t||0===t.length}),(0,n.compose)((0,U.connect)((0,o.zB)({currentMap:or.Od}),{loadMap:nr.H0,loadMapInfo:nr.I6}),(0,n.renderComponent)(G))))(rr)},443143:(e,t,r)=>{"use strict";r.d(t,{qH:()=>f,qj:()=>u,qq:()=>p,TM:()=>y});var n,o=r(717621),a=r.n(o),i=r(14841),l=r.n(i),c=r(264721),s=r.n(c),f=function(e,t,r,o){var a=e;isNaN(parseFloat(e))&&(a=n.hexToHsv(e)[0]);var i=.5/(r-1),l=t/(r-1),c=[];1===r&&(i=.5,l=t/2);for(var s=0;s<r;s++){var f=a+s*l-t/2,u=i*s+.3,p=u;o&&(f=o.h||f,u=o.s||u,p=o.v||p),c.push(n.hsvToHex(f,u,p,s))}return c},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return a()(e).toHexString()},p=function(e,t,r){var n=a()(e);return e&&n.setAlpha(l()(void 0!==t?t:n.getAlpha())).toRgbString()||r},y=function e(t){var r=Math.round,o=Math.random,a=[r(255*o()),r(255*o()),r(255*o())],i=n.rgbToHex(a);if(t)for(;s()(t,i)||"#000000"===i||"#FFFFFF"===i;)e(t);return i};n={decToHex:function(e){var t="0123456789ABCDEF",r=parseInt(e,10);return r=isNaN(r)?0:r,t.charAt(((r=r>255||r<0?0:r)-r%16)/16)+t.charAt(r%16)},rgbToHex:function(e,t,r){return e instanceof Array?n.rgbToHex(e[0],e[1],e[2]):"#"+n.decToHex(e)+n.decToHex(t)+n.decToHex(r)},realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,r){if(e instanceof Array)return n.rgbToHsv(e[0],e[1],e[2]);var o,a,i,l,c,s=e/255,f=t/255,u=r/255;switch(o=Math.min(Math.min(s,f),u),i=(a=Math.max(Math.max(s,f),u))-o,a){case o:l=0;break;case s:l=60*(f-u)/i,f<u&&(l+=360);break;case f:l=60*(u-s)/i+120;break;case u:l=60*(s-f)/i+240}return c=0===a?0:1-o/a,[Math.round(l),c,a]},distributedColorsHEX:function(e){for(var t=360/(e-1),r=[],o=function e(t,r,o){var a=e(t,r,o);return n.rgbToHex(a)},a=0;a<e;a++)r.push(o(t*a,.57,.63));return r},sameToneRangeColors:f,hsvToRgb:function(e,t,r){if(e instanceof Array)return n.hsvToRgb(e[0],e[1],e[2]);var o,a,i,l=Math.floor(e/60%6),c=e/60-l,s=r*(1-t),f=r*(1-c*t),u=r*(1-(1-c)*t);switch(l){case 0:o=r,a=u,i=s;break;case 1:o=f,a=r,i=s;break;case 2:o=s,a=r,i=u;break;case 3:o=s,a=f,i=r;break;case 4:o=u,a=s,i=r;break;case 5:o=r,a=s,i=f}return[n.realToDec(o),n.realToDec(a),n.realToDec(i)]},hsvToHex:function(e,t,r){var o=n.hsvToRgb(e,t,r);return n.rgbToHex(o)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var r=n.hexToRgb(t);return n.rgbToHsv(r)}return null},hexToRgb:function(e){var t,r,n,o=e;return"#"===o.charAt(0)&&(o=e.substring(1)),t=o.charAt(0)+o.charAt(1),r=o.charAt(2)+o.charAt(3),n=o.charAt(4)+o.charAt(5),[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},colorToHexStr:u,colorToRgbaStr:p,generateRandomHexColor:y}},433506:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _font_awesome_json__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(271317),_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(494956),_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_1__),_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(673866),_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_2__);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var cssJSON={fontawesome:_font_awesome_json__WEBPACK_IMPORTED_MODULE_0__},baseImage=new Image,shadowImage=new Image;baseImage.src=_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_1___default(),shadowImage.src=_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_2___default();var glyphs={},loadGlyphs=function loadGlyphs(font){var fontJSON=cssJSON[font];return Object.keys(fontJSON).reduce((function(acc,key){return _objectSpread(_objectSpread({},acc),{},_defineProperty({},key,eval("'\\u"+fontJSON[key]+"'")))}),{})},extraMarkers={size:[36,46],shadowSize:[30,42],margin:[3,2],colors:["red","orange-dark","orange","yellow","blue-dark","blue","cyan","purple","violet","pink","green-dark","green","green-light","black"],shapes:["circle","square","star","penta"],icons:[_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_1___default(),_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_2___default()],images:[shadowImage,baseImage]},getOffsets=function(e,t){return[-extraMarkers.colors.indexOf(e)*extraMarkers.size[0],-extraMarkers.shapes.indexOf(t)*extraMarkers.size[1]]},getGlyphOffset=function(e){return["square","penta"].includes(e)?6:5},MarkerUtils={extraMarkers:_objectSpread(_objectSpread({},extraMarkers),{},{getOffsets,markerToDataUrl:function(e){var t=e.iconColor,r=e.iconShape,n=e.iconGlyph;if(MarkerUtils.extraMarkers.images){var o=document.createElement("canvas"),a=extraMarkers.margin,i=extraMarkers.size,l=i[0]-2*a[0],c=i[1]-2*a[1];o.width=l,o.height=c;var s=o.getContext("2d");if(r){var f=getOffsets(t,r);s.drawImage(extraMarkers.images[0],0,0,l,c),s.drawImage(extraMarkers.images[1],Math.abs(f[0]),Math.abs(f[1]),i[0],i[1],-a[0],-a[1],i[0],i[1])}n&&(s.font="14px FontAwesome",s.fillStyle="rgb(255,255,255)",s.textBaseline="middle",s.textAlign="center",s.fillText(MarkerUtils.getGlyphs("fontawesome")[n]||"",l/2,c/2-getGlyphOffset(r)));var u=o.toDataURL("image/png");return o=null,u}return null},matches:function(e,t){return e.iconColor===t.color&&e.iconShape===t.shape},getStyle:function(e){return{iconColor:e.color,iconShape:e.shape}},getGrid:function(){return extraMarkers.shapes.map((function(e){return{name:e,markers:extraMarkers.colors.map((function(t){return{name:t,width:extraMarkers.size[0],height:extraMarkers.size[1],offsets:getOffsets(t,e),style:{color:t,shape:e},thumbnailStyle:{backgroundImage:"url("+extraMarkers.icons[0]+")",width:extraMarkers.size[0]+"px",height:extraMarkers.size[1]+"px",backgroundPositionX:getOffsets(t,e)[0],backgroundPositionY:getOffsets(t,e)[1],cursor:"pointer"}}}))}}))}}),getGlyphs:function(e){return glyphs[e]||(glyphs[e]=loadGlyphs(e)),glyphs[e]}};MarkerUtils.markers={extra:MarkerUtils.extraMarkers};const __WEBPACK_DEFAULT_EXPORT__=MarkerUtils},904679:(e,t,r)=>{"use strict";r.d(t,{y:()=>h,p:()=>g});var n=r(717621),o=r.n(n),a=r(423570),i=r.n(a),l=r(903918),c=r.n(l),s=r(441609),f=r.n(s),u=r(166287);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){var n,o,a,i;n=e,o=t,a=r[t],i=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==p(i)?i:i+"")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.marker,r=e.fillColor,n=void 0===r?"#f2f2f2":r,o=e.fillOpacity,a=void 0===o?.3:o,l=e.strokeColor,s=void 0===l?"#3075e9":l,f=e.strokeOpacity,u=void 0===f?1:f,p=e.strokeWidth,y=void 0===p?2:p,d=e.radius,b=void 0===d?10:d,h=e.geometryType,g=void 0===h?"GeometryCollection":h;return{format:"geostyler",metadata:{editorType:"visual"},body:{rules:[].concat(m(t?[{name:"Default Marker Style",ruleId:i()(),symbolizers:[{kind:"Icon",image:c(),opacity:1,size:32,rotate:0,msBringToFront:!0,msHeightReference:"none",symbolizerId:i()()}]}]:[]),m(["GeometryCollection","Point","MultiPoint"].includes(g)&&!t?[{name:"Default Point Style",ruleId:i()(),symbolizers:[{kind:"Mark",color:n,fillOpacity:a,opacity:1,strokeColor:s,strokeOpacity:u,strokeWidth:y,wellKnownName:"Circle",radius:b,msBringToFront:!0,symbolizerId:i()()}]}]:[]),m(["GeometryCollection","LineString","MultiLineString"].includes(g)&&!t?[{name:"Default Line Style",ruleId:i()(),symbolizers:[{kind:"Line",color:s,opacity:u,width:y,symbolizerId:i()()}]}]:[]),m(["GeometryCollection","Polygon","MultiPolygon"].includes(g)&&!t?[{name:"Default Polygon Style",ruleId:i()(),symbolizers:[{kind:"Fill",color:n,fillOpacity:a,outlineColor:s,outlineOpacity:u,outlineWidth:y,symbolizerId:i()()}]}]:[]))}}},g=function(e,t){var r,n,a,i,l,c=(0,u.flattenFeatures)((null==e?void 0:e.features)||[]);if(c.find((function(e){var t;return!f()((null==e?void 0:e.style)||{})&&(null==e||null===(t=e.properties)||void 0===t?void 0:t.id)}))||null!=e&&null!==(r=e.style)&&void 0!==r&&r.format&&!f()(null==e||null===(n=e.style)||void 0===n?void 0:n.body)||(null==e||null===(a=e.style)||void 0===a||!a.format)&&!f()(e.style))return e;var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).features,t=((e||[]).find((function(e){var t=e.geometry;return null==t?void 0:t.type}))||{}).geometry;if(!t)return null;var r=t.type.replace("Multi","");return"GeometryCollection"===r||(e||[]).find((function(e){var t,n=e.geometry;return(null==n||null===(t=n.type)||void 0===t?void 0:t.replace("Multi",""))!==r}))?"GeometryCollection":r}({features:c}),p=!(null==t||!t.marker||!["Point","MultiPoint"].includes(s)),y=t&&o()(t.fill).toHexString(),m=null==t||null===(i=t.fill)||void 0===i?void 0:i.a,b=t&&o()(null==t?void 0:t.color).toHexString(),g=null==t||null===(l=t.color)||void 0===l?void 0:l.a,v=null==t?void 0:t.width,w=null==t?void 0:t.radius;return d(d(d({},e),p&&{handleClickOnLayer:!0}),{},{style:h(t?{marker:p,fillColor:y,fillOpacity:m,strokeColor:b,strokeOpacity:g,strokeWidth:v,radius:w,geometryType:s}:{geometryType:s})})}},753325:e=>{e.exports=function(e,t){return e>t}},105076:(e,t,r)=>{var n=r(989881);e.exports=function(e,t){var r;return n(e,(function(e,n,o){return!(r=t(e,n,o))})),!!r}},606162:(e,t,r)=>{var n=r(456029),o=r(753325),a=r(406557);e.exports=function(e){return e&&e.length?n(e,a,o):void 0}},359704:(e,t,r)=>{var n=r(282908),o=r(267206),a=r(105076),i=r(701469),l=r(816612);e.exports=function(e,t,r){var c=i(e)?n:a;return r&&l(e,t,r)&&(t=void 0),c(e,o(t,3))}},494956:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"},673866:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAqCAYAAACk2+sZAAABKklEQVRYw+2Uy2rDMBREz42c0rShtAQKpf//c33ZgTzs2pK6GYGSTXGaRRd3QMiWkY5mriVwuVwul8vlcrlcLpfr38jmTgghGEBKKWi+1evknBcnALMEZCCbWTSzHGPMdsFGG2AJ3KoPwEKNqkfABIxADxz1nJoZQNOiN8Cj2p3gi7MECzAB38Be3yYgzgHXG7gHnoEXYK2NFFgBTsAgh3u5PUl3Ljgo4g3wCjxoLMvJWAEntQI/lJgvARf4SlE/6b3UcCfYAfgCPoFO4/1fwFmTs6Jbanw8g5W2lduhqvmsqLP6qJ9lKyeNHLbAB/Cu51YuB31P1Rqza1zq2ANvqnWnxVu57eTwWMWar3KB6C9eq8YrAXaKutQxXv3m0pktl0hTndWxruFv+gGFtHKAG1+yCgAAAABJRU5ErkJggg=="},218845:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/components/style/vector/iconNotFound.png"}}]);