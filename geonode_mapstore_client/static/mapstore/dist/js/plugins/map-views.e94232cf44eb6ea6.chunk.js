"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[23889],{460604:(e,t,n)=>{n.d(t,{hn:()=>r,yg:()=>i,vD:()=>o,jJ:()=>u,oy:()=>c,am:()=>a,W:()=>l,B1:()=>f,YP:()=>E,fU:()=>s,cY:()=>p});var r="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",i="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",u="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",c="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",a="ADDITIONALLAYER:MERGE_OPTIONS_BY_OWNER",l=function(e,t){return{type:u,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},f=function(e,t){return{type:c,owner:e,options:t}},E=function(e,t){return{type:a,owner:e,options:t}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:i,id:t,owner:n}},p=function(e){return{type:o,owner:e}}},433528:(e,t,n)=>{n.d(t,{gJ:()=>r,Oj:()=>i,jp:()=>o,CM:()=>u,DU:()=>c,aO:()=>a,v6:()=>l,K8:()=>f,IN:()=>E,zh:()=>s,AH:()=>p,Ub:()=>d,_9:()=>y,JB:()=>v,oh:()=>A,AY:()=>R,yi:()=>I,SW:()=>T,Hk:()=>m,iQ:()=>O,dY:()=>b,$:()=>S,_u:()=>D,gG:()=>_,DI:()=>U,dZ:()=>g,qw:()=>G,f$:()=>w,bZ:()=>F,$O:()=>P,sF:()=>h,Gk:()=>L,vO:()=>N,ut:()=>C,MK:()=>M,VV:()=>V,B8:()=>j,VM:()=>Y,a3:()=>W,Xp:()=>k,DA:()=>H,sK:()=>z,r:()=>B,iB:()=>Z,WB:()=>x,vm:()=>J,EH:()=>$,Yd:()=>K,Hg:()=>q,Lz:()=>Q,ye:()=>X,Jb:()=>ee,d:()=>te,fT:()=>ne,Ib:()=>re,UB:()=>ie,Uh:()=>oe,QT:()=>ue,oL:()=>ce,Ap:()=>ae,KD:()=>le,Z_:()=>fe,Vw:()=>Ee,sY:()=>se,kA:()=>pe,gr:()=>de,pX:()=>ye,F5:()=>ve,MO:()=>Ae,dq:()=>Re,DY:()=>Ie,oO:()=>Te,uF:()=>me,a8:()=>Oe,Pv:()=>be,an:()=>Se,lg:()=>De,nY:()=>_e,nG:()=>Ue,lx:()=>ge,$S:()=>Ge,gc:()=>we,Uz:()=>Fe,fO:()=>Pe,$E:()=>he,cE:()=>Le,JK:()=>Ne,YV:()=>Ce,t9:()=>Me,YG:()=>Ve,HT:()=>je,MY:()=>Ye,ve:()=>We,hB:()=>ke,Ox:()=>He,zd:()=>ze,aT:()=>Be,VH:()=>Ze,Yb:()=>xe,Jr:()=>Je,pP:()=>$e,gL:()=>Ke,dM:()=>qe});var r="FEATUREGRID:SET_UP",i="FEATUREGRID:SELECT_FEATURES",o="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",c="FEATUREGRID:SET_SELECTION_OPTIONS",a="FEATUREGRID:TOGGLE_MODE",l="FEATUREGRID:TOGGLE_FEATURES_SELECTION",f="FEATUREGRID:FEATURES_MODIFIED",E="FEATUREGRID:NEW_FEATURE",s="FEATUREGRID:SAVE_CHANGES",p="FEATUREGRID:SAVING",d="FEATUREGRID:START_EDITING_FEATURE",y="FEATUREGRID:START_DRAWING_FEATURE",v="FEATUREGRID:DELETE_GEOMETRY",A="FEATUREGRID:DELETE_GEOMETRY_FEATURE",R="FEATUREGRID:SAVE_SUCCESS",I="FEATUREGRID:CLEAR_CHANGES",T="FEATUREGRID:SAVE_ERROR",m="FEATUREGRID:DELETE_SELECTED_FEATURES",O="SET_FEATURES",b="FEATUREGRID:SORT_BY",S="FEATUREGRID:SET_LAYER",D="QUERY:UPDATE_FILTER",_="FEATUREGRID:CHANGE_PAGE",U="FEATUREGRID:GEOMETRY_CHANGED",g="DOCK_SIZE_FEATURES",G="FEATUREGRID:TOGGLE_TOOL",w="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",F="ASK_CLOSE_FEATURE_GRID_CONFIRM",P="FEATUREGRID:OPEN_GRID",h="FEATUREGRID:CLOSE_GRID",L="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",N="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",C="FEATUREGRID:SET_PERMISSION",M="FEATUREGRID:DISABLE_TOOLBAR",V="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",j="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",Y="FEATUREGRID:ADVANCED_SEARCH",W="FEATUREGRID:ZOOM_ALL",k="FEATUREGRID:INIT_PLUGIN",H="FEATUREGRID:SIZE_CHANGE",z="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",B="FEATUREGRID:UPDATE_EDITORS_OPTIONS",Z="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",x="FEATUREGRID:SET_SYNC_TOOL",J="FEATUREGRID:SET_VIEWPORT_FILTER",$={EDIT:"EDIT",VIEW:"VIEW"},K="FEATUREGRID:START_SYNC_WMS",q="FEATUREGRID:STOP_SYNC_WMS",Q="STORE_ADVANCED_SEARCH_FILTER",X="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",ne="FEATUREGRID:SET_PAGINATION";function re(){return{type:z}}function ie(e,t){return{type:ee,features:e,pages:t}}function oe(e){return{type:Q,filterObj:e}}function ue(){return{type:k,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function ce(){return{type:L}}function ae(){return{type:N}}function le(e,t){return{type:i,features:e,append:t}}function fe(e){return{type:r,options:e}}function Ee(e){return{type:U,features:e}}function se(){return{type:d}}function pe(){return{type:y}}function de(e){return{type:o,features:e}}function ye(){return{type:v}}function ve(e){return{type:A,features:e}}function Ae(){return{type:u}}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=e.showCheckbox;return{type:c,multiselect:t,showCheckbox:n}}function Ie(e,t){return{type:b,sortBy:e,sortOrder:t}}function Te(e,t){return{type:_,page:e,size:t}}function me(e){return{type:S,id:e}}function Oe(e){return{type:D,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}function be(e,t){return{type:G,tool:e,value:t}}function Se(e,t,n){return{type:w,name:e,key:t,value:n}}function De(){return{type:a,mode:$.EDIT}}function _e(){return{type:a,mode:$.VIEW}}function Ue(e,t){return{type:f,features:e,updated:t}}function ge(e){return{type:E,features:e}}function Ge(){return{type:s}}function we(){return{type:R}}function Fe(){return{type:m}}function Pe(){return{type:p}}function he(){return{type:I}}function Le(){return{type:T}}function Ne(){return{type:F}}function Ce(e){return{type:h,closer:e}}function Me(){return{type:P}}function Ve(e){return{type:M,disabled:e}}function je(e){return{type:C,permission:e}}function Ye(){return{type:Y}}function We(){return{type:W}}function ke(){return{type:K}}function He(e,t){return{type:H,size:e,dockProps:t}}var ze=function(e){return{type:X,pages:e}},Be=function(e){return{type:V,activated:e}},Ze=function(e){return{type:j,deactivated:e}},xe=function(e){return{type:te,value:e}},Je=function(e){return{type:ne,size:e}},$e=function(e){return{type:Z,updateFilterAction:e}},Ke=function(e){return{type:x,syncWmsFilter:e}},qe=function(e){return{type:J,value:e}}},213652:(e,t,n)=>{n.d(t,{Wz:()=>r,UA:()=>i,LI:()=>o});var r="MAP_TYPE_CHANGED",i="MAP_TYPE:VISUALIZATION_MODE_CHANGED";function o(e){return{type:i,visualizationMode:e}}},713760:(e,t,n)=>{n.d(t,{y:()=>o});var r=n(432420),i=n(379853),o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.resourceId,o=t.layer,u=t.resources,c=t.inverse,a=void 0!==c&&c,l=t.offset,f=void 0===l?0:l,E=null!=n?n:function(e,t){var n=t.inverse,r=t.offset;return"".concat(e.id,";inverse:").concat(n,";offset:").concat(r)}(o,{inverse:a,offset:f}),s=null==u?void 0:u.find((function(e){return e.id===E}));return null!=s&&null!==(e=s.data)&&void 0!==e&&e.collection?Promise.resolve(s):{wfs:function(){return(0,r.Bm)(o.url,o.name,{outputFormat:"application/json",srsname:"EPSG:4326"}).then((function(e){return e.data}))},vector:function(){var e;return Promise.resolve({type:"FeatureCollection",features:null!==(e=o.features)&&void 0!==e?e:[]})}}[o.type]().then((function(e){return a?(0,i.Zr)(e,{offset:f}):e})).then((function(e){return{id:E,updated:!0,data:{type:o.type,name:o.name,title:o.title,url:o.url,id:o.id,collection:e}}}))}},317476:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Te});var r=n(558422),i=n.n(r),o=n(171703),u=n(322843),c=n(22222),a=n(876825);var l="MAP_VIEWS:SETUP_VIEWS",f="MAP_VIEWS:ACTIVATE_VIEWS",E="MAP_VIEWS:HIDE_VIEWS",s="MAP_VIEWS:SELECT_VIEW",p="MAP_VIEWS:UPDATE_VIEWS",d="MAP_VIEWS:UPDATE_RESOURCES",y="MAP_VIEWS:SET_PREVIOUS_VIEW",v=function(e){return{type:E,hide:e}},A=function(e){return{type:d,resources:e}},R=function(e){return{type:y,view:e}},I=n(881808),T=n(379853),m=n(455877),O=n.n(m);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function S(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={};var w=n(675110),F=n(308316),P=n(49977),h=n(441609),L=n.n(h),N=n(747037),C=n.n(N),M=n(782904),V=n(460604),j=n(931273),Y=n(213652),W=n(300849),k=n(580416),H=n(433528),z=n(784715),B=n(713760),Z=n(93152);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var J=["updated"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return(t=function(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ee=(0,z.VI)(),te=["drawer","metadataexplorer","print","queryPanel"];const ne={updateMapViewsLayers:function(e,t){return e.ofType(s,p,f,E,l,I.ok,Y.UA).filter((function(){var e=t.getState();return!(0,W.U3)(e)&&(0,W.Ob)(e)})).switchMap((function(e){var n=t.getState(),r=(0,W.Uc)(n),i=(0,W.uz)(n),o=i||{},u=o.layers,c=void 0===u?[]:u,a=o.mask,l=void 0===a?{}:a,f=o.id;if(e.type!==Y.UA&&ee((null==r?void 0:r.layers)||[],c)&&ee((null==r?void 0:r.mask)||{},l))return P.Observable.of(R(i));var E=(0,W.NJ)(n);return function(e,t){var n=t.getState(),r=(0,W.NJ)(n),i=e||{},o=i.layers,u=void 0===o?[]:o,c=i.mask,a=void 0===c?{}:c;return P.Observable.defer((function(){var e=(0,w.l2)(n),t=C()(a.resourceId)?(0,W.MB)(n,a.resourceId):void 0,i=null==e?void 0:e.find((function(e){var n;return e.id===(null==t||null===(n=t.data)||void 0===n?void 0:n.id)})),o=[{resource:t,options:a,vectorLayer:i}].concat(Q(u.filter((function(e){return e.clippingLayerResourceId})).map((function(t){var r=t.clippingLayerResourceId,i=C()(r)?(0,W.MB)(n,r):void 0,o=null==e?void 0:e.find((function(e){var t;return e.id===(null==i||null===(t=i.data)||void 0===t?void 0:t.id)}));return{resource:i,vectorLayer:o}}))));return Promise.all(o.filter((function(e){return e.resource})).map((function(e){var t=e.resource,n=e.options,i=e.vectorLayer;return(0,B.y)({resourceId:t.id,layer:K(K({},(null==i?void 0:i.features)&&{features:null==i?void 0:i.features}),t.data),inverse:null==n?void 0:n.inverse,offset:null==n?void 0:n.offset,resources:r}).then((function(e){return e})).catch((function(){return{id:t.id,error:!0}}))})))}))}(i,t).switchMap((function(e){var t,r,o=e.filter((function(e){return!e.error})),u=(0,w.l2)(n),a=o.filter((function(e){return e.updated})),s=C()(l.resourceId)&&o.find((function(e){return e.id===l.resourceId}));return P.Observable.of.apply(P.Observable,Q(a.length>0?[A(E.map((function(e){var t=a.find((function(t){return t.id===e.id}))||{},n=(t.updated,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,J));return L()(n)?e:n})))]:[]).concat([R(i),(0,V.fU)({owner:T.ex})],Q(c.filter((function(e){return!!u.find((function(t){return t.id===e.id}))})).map((function(e){var t,n,r,i=C()(e.clippingLayerResourceId)&&o.find((function(t){return t.id===e.clippingLayerResourceId})),u=C()(e.clippingPolygonFeatureId)&&(null===(t=(0,T.er)(null==i||null===(n=i.data)||void 0===n||null===(r=n.collection)||void 0===r?void 0:r.features))||void 0===t?void 0:t.find((function(t){return t.id===e.clippingPolygonFeatureId})));return(0,V.W)(e.id,T.ex,"override",K(K({},e),{},{clippingPolygon:u}))}))),Q((0,Z.c0)(n)&&null!=s&&null!==(t=s.data)&&void 0!==t&&null!==(r=t.collection)&&void 0!==r&&r.features?[(0,V.W)("".concat(f,"-mask"),T.ex,"overlay",{id:"".concat(f,"-mask"),type:"vector",features:s.data.collection.features,visibility:!0,style:{format:"geostyler",body:{name:"",rules:[{name:"",symbolizers:[{kind:"Fill",color:"#ffffff",fillOpacity:0,msClampToGround:!0,msClassificationType:"3d"}]}]}}})]:[])))}))}))},removeMapViewsLayersWhenDeactivated:function(e){return e.ofType(f).filter((function(e){return!e.active})).switchMap((function(){return P.Observable.of((0,V.fU)({owner:T.ex}),R())}))},closePluginWhenMapViewsActivate:function(e,t){return e.ofType(f).filter((function(e){return e.active})).switchMap((function(){var e=t.getState();return te.find((function(t){var n,r;return!(null==e||null===(n=e.controls)||void 0===n||null===(r=n[t])||void 0===r||!r.enabled)}))?P.Observable.of.apply(P.Observable,Q(te.map((function(e){return(0,M.Xg)(e,"enabled",!1)})))):P.Observable.empty()}))},hideMapViewsBasedOnLayoutChanges:function(e,t){return e.ofType(M.kM,M.At,j.ur,I.ok,k.R8,H.sF).filter((function(e){return[j.ur,I.ok,k.R8,H.sF].includes(e.type)||te.includes(e.control)})).switchMap((function(){var e,n=t.getState();return te.find((function(e){var t,r;return!(null==n||null===(t=n.controls)||void 0===t||null===(r=t[e])||void 0===r||!r.enabled)}))||null!=n&&null!==(e=n.featuregrid)&&void 0!==e&&e.open?P.Observable.of((0,V.fU)({owner:T.ex}),R(),v(!0)):P.Observable.of(v(!1))}))}};var re=n(532425),ie=["pluginName","mapConfig","onSetup","active","onHideViews","initialized","updateUUID"];function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(null,arguments)}var ue=(0,r.lazy)((function(){return n.e(54096).then(n.bind(n,54096))})),ce={mapviews:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case I.ok:return U({initialized:!0,hide:null==n?void 0:n.hide,updateUUID:O()()},(null==r||null===(e=r.config)||void 0===e?void 0:e[T.TI])||{});case s:return U(U({},n),{},{selectedId:r.id});case p:return U(U({},n),{},{views:S(r.views)});case d:return U(U({},n),{},{resources:S(r.resources)});case f:return U(U({},n),{},{active:r.active});case E:return U(U({},n),{},{hide:r.hide});case l:return n.initialized?n:U({initialized:!0,updateUUID:O()()},null!==(t=r.config)&&void 0!==t?t:{});case y:return U(U({},n),{},{previousView:r.view});default:return n}}},ae=(0,o.connect)((0,c.P1)([W.o,W.iW,w.l2,F.Pz,function(e){return null==e?void 0:e.mapConfigRawData},W.NJ,W.Ob,W.U3,W.pr,W.$O],(function(e,t,n,r,i,o,u,c,a,l){return{selectedId:e,views:t,layers:n.filter((function(e){return"background"!==e.group})),locale:r,mapConfig:i,resources:o,active:u,hide:c,initialized:a,updateUUID:l}})),{onSelectView:function(e){return{type:s,id:e}},onUpdateViews:function(e){return{type:p,views:e}},onSetup:function(e){return{type:l,config:e}},onUpdateResources:A,onHideViews:v})((function(e){var t=e.pluginName,n=e.mapConfig,o=e.onSetup,c=void 0===o?function(){}:o,l=e.active,f=(e.onHideViews,e.initialized),E=e.updateUUID,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ie);return function(e,t){var n=t.reducers,i=t.epics,o=t.removeReducers,c=t.muteEpics,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,r.useEffect)((function(){var t=(0,u.BA)(e),r=(0,a.bh)();return n&&Object.keys(n).forEach((function(e){return r.storeManager.addReducer(e,n[e])})),i&&(r.storeManager.addEpics(t,i),r.storeManager.unmuteEpics(t)),function(){n&&o&&Object.keys(n).forEach((function(e){return r.storeManager.removeReducer(e)})),i&&c&&r.storeManager.muteEpics(t)}}),l)}(t,{reducers:ce,epics:ne}),(0,r.useEffect)((function(){!f&&null!=n&&n[T.TI]&&c(n[T.TI])}),[null==n?void 0:n[T.TI],f]),l?i().createElement(r.Suspense,{fallback:i().createElement("div",{className:"ms-map-views"},i().createElement("div",{className:"ms-map-views-wrapper"},i().createElement("div",{className:"ms-map-views-header",style:{justifyContent:"center"}},i().createElement(re.Z,{size:30}))))},i().createElement(ue,oe({key:E},s))):null}));const le=ae;var fe=n(271418),Ee=n(624847),se=n(805346),pe=n(815135),de=n(658422),ye=n(274621),ve=(0,pe.Z)(Ee.Z);(0,de.Fd)(T.TI,(function(e){return(0,T.U)({active:(0,W.Ob)(e),selectedId:(0,W.o)(e),views:(0,W.iW)(e),resources:(0,W.NJ)(e)},(0,w.l2)(e))}));var Ae="MapViews",Re=(0,o.connect)((0,c.P1)([ye.jl],(function(e){return{pluginName:Ae,edit:!!e}})))(le),Ie=(0,o.connect)((0,c.P1)([W.Ob,ye.jl,W.iW],(function(e,t,n){return{active:e,visible:!!t||!t&&((null==n?void 0:n.length)||0)}})),{onClick:function(e){return{type:f,active:e}}})((function(e){var t=e.active,n=e.onClick,r=e.visible,o=e.menuItem;if(!r)return null;var u=t?"mapViews.deactivateMapViews":"mapViews.activateMapViews";return o?i().createElement(fe.sN,{active:t,onClick:function(){return n(!t)}},i().createElement(fe.gG,{glyph:"map-view"}),i().createElement(se.Z,{msgId:u})):i().createElement(ve,{className:"square-button",bsStyle:t?"primary":"tray",active:t,onClick:function(){return n(!t)},tooltipId:u,tooltipPosition:"left"},i().createElement(fe.gG,{glyph:"map-view"}))}));const Te=(0,u.rx)(Ae,{component:function(){return null},containers:{SidebarMenu:{name:"mapViews",position:2e3,tool:Ie,priority:1},BurgerMenu:{name:"mapviews",position:9,tool:function(){return i().createElement(Ie,{menuItem:!0})},priority:2},Map:{name:Ae,Tool:Re,alwaysRender:!0}}})}}]);